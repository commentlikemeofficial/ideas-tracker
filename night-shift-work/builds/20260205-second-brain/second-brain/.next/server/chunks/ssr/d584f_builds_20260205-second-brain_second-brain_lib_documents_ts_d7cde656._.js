module.exports=[59084,60225,a=>{"use strict";var b=a.i(24868),c=a.i(14747);let d=(a,b,c)=>{let d=a instanceof RegExp?e(a,c):a,g=b instanceof RegExp?e(b,c):b,h=null!==d&&null!=g&&f(d,g,c);return h&&{start:h[0],end:h[1],pre:c.slice(0,h[0]),body:c.slice(h[0]+d.length,h[1]),post:c.slice(h[1]+g.length)}},e=(a,b)=>{let c=b.match(a);return c?c[0]:null},f=(a,b,c)=>{let d,e,f,g,h,i=c.indexOf(a),j=c.indexOf(b,i+1),k=i;if(i>=0&&j>0){if(a===b)return[i,j];for(d=[],f=c.length;k>=0&&!h;){if(k===i)d.push(k),i=c.indexOf(a,k+1);else if(1===d.length){let a=d.pop();void 0!==a&&(h=[a,j])}else void 0!==(e=d.pop())&&e<f&&(f=e,g=j),j=c.indexOf(b,k+1);k=i<j&&i>=0?i:j}d.length&&void 0!==g&&(h=[f,g])}return h},g="\0SLASH"+Math.random()+"\0",h="\0OPEN"+Math.random()+"\0",i="\0CLOSE"+Math.random()+"\0",j="\0COMMA"+Math.random()+"\0",k="\0PERIOD"+Math.random()+"\0",l=RegExp(g,"g"),m=RegExp(h,"g"),n=RegExp(i,"g"),o=RegExp(j,"g"),p=RegExp(k,"g"),q=/\\\\/g,r=/\\{/g,s=/\\}/g,t=/\\,/g,u=/\\./g;function v(a){return isNaN(a)?a.charCodeAt(0):parseInt(a,10)}function w(a){return a.replace(l,"\\").replace(m,"{").replace(n,"}").replace(o,",").replace(p,".")}function x(a){return"{"+a+"}"}function y(a){return/^-?0\d/.test(a)}function z(a,b){return a<=b}function A(a,b){return a>=b}let B=a=>{if("string"!=typeof a)throw TypeError("invalid pattern");if(a.length>65536)throw TypeError("pattern is too long")},C={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},D=a=>a.replace(/[[\]\\-]/g,"\\$&"),E=(a,b)=>{if("["!==a.charAt(b))throw Error("not in a brace expression");let c=[],d=[],e=b+1,f=!1,g=!1,h=!1,i=!1,j=b,k="";a:for(;e<a.length;){let l=a.charAt(e);if(("!"===l||"^"===l)&&e===b+1){i=!0,e++;continue}if("]"===l&&f&&!h){j=e+1;break}if(f=!0,"\\"===l&&!h){h=!0,e++;continue}if("["===l&&!h){for(let[f,[h,i,j]]of Object.entries(C))if(a.startsWith(f,e)){if(k)return["$.",!1,a.length-b,!0];e+=f.length,j?d.push(h):c.push(h),g=g||i;continue a}}if(h=!1,k){l>k?c.push(D(k)+"-"+D(l)):l===k&&c.push(D(l)),k="",e++;continue}if(a.startsWith("-]",e+1)){c.push(D(l+"-")),e+=2;continue}if(a.startsWith("-",e+1)){k=l,e+=2;continue}c.push(D(l)),e++}if(j<e)return["",!1,0,!1];if(!c.length&&!d.length)return["$.",!1,a.length-b,!0];if(0===d.length&&1===c.length&&/^\\?.$/.test(c[0])&&!i)return[(2===c[0].length?c[0].slice(-1):c[0]).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),!1,j-b,!1];let l="["+(i?"^":"")+c.join("")+"]",m="["+(i?"":"^")+d.join("")+"]";return[c.length&&d.length?"("+l+"|"+m+")":c.length?l:m,g,j-b,!0]},F=(a,{windowsPathsNoEscape:b=!1,magicalBraces:c=!0}={})=>c?b?a.replace(/\[([^\/\\])\]/g,"$1"):a.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"):b?a.replace(/\[([^\/\\{}])\]/g,"$1"):a.replace(/((?!\\).|^)\[([^\/\\{}])\]/g,"$1$2").replace(/\\([^\/{}])/g,"$1"),G=new Set(["!","?","+","*","@"]),H=a=>G.has(a),I="(?!\\.)",J=new Set(["[","."]),K=new Set(["..","."]),L=new Set("().*{}+?[]^$\\!"),M=a=>a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),N="[^/]",O=N+"*?",P=N+"+?";class Q{type;#a;#b;#c=!1;#d=[];#e;#f;#g;#h=!1;#i;#j;#k=!1;constructor(a,b,c={}){this.type=a,a&&(this.#b=!0),this.#e=b,this.#a=this.#e?this.#e.#a:this,this.#i=this.#a===this?c:this.#a.#i,this.#g=this.#a===this?[]:this.#a.#g,"!"!==a||this.#a.#h||this.#g.push(this),this.#f=this.#e?this.#e.#d.length:0}get hasMagic(){if(void 0!==this.#b)return this.#b;for(let a of this.#d)if("string"!=typeof a&&(a.type||a.hasMagic))return this.#b=!0;return this.#b}toString(){return void 0!==this.#j?this.#j:this.type?this.#j=this.type+"("+this.#d.map(a=>String(a)).join("|")+")":this.#j=this.#d.map(a=>String(a)).join("")}#l(){let a;if(this!==this.#a)throw Error("should only call on root");if(this.#h)return this;for(this.toString(),this.#h=!0;a=this.#g.pop();){if("!"!==a.type)continue;let b=a,c=b.#e;for(;c;){for(let d=b.#f+1;!c.type&&d<c.#d.length;d++)for(let b of a.#d){if("string"==typeof b)throw Error("string part in extglob AST??");b.copyIn(c.#d[d])}c=(b=c).#e}}return this}push(...a){for(let b of a)if(""!==b){if("string"!=typeof b&&!(b instanceof Q&&b.#e===this))throw Error("invalid part: "+b);this.#d.push(b)}}toJSON(){let a=null===this.type?this.#d.slice().map(a=>"string"==typeof a?a:a.toJSON()):[this.type,...this.#d.map(a=>a.toJSON())];return this.isStart()&&!this.type&&a.unshift([]),this.isEnd()&&(this===this.#a||this.#a.#h&&this.#e?.type==="!")&&a.push({}),a}isStart(){if(this.#a===this)return!0;if(!this.#e?.isStart())return!1;if(0===this.#f)return!0;let a=this.#e;for(let b=0;b<this.#f;b++){let c=a.#d[b];if(!(c instanceof Q&&"!"===c.type))return!1}return!0}isEnd(){if(this.#a===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();let a=this.#e?this.#e.#d.length:0;return this.#f===a-1}copyIn(a){"string"==typeof a?this.push(a):this.push(a.clone(this))}clone(a){let b=new Q(this.type,a);for(let a of this.#d)b.copyIn(a);return b}static #m(a,b,c,d){let e=!1,f=!1,g=-1,h=!1;if(null===b.type){let i=c,j="";for(;i<a.length;){let c=a.charAt(i++);if(e||"\\"===c){e=!e,j+=c;continue}if(f){i===g+1?("^"===c||"!"===c)&&(h=!0):"]"!==c||i===g+2&&h||(f=!1),j+=c;continue}if("["===c){f=!0,g=i,h=!1,j+=c;continue}if(!d.noext&&H(c)&&"("===a.charAt(i)){b.push(j),j="";let e=new Q(c,b);i=Q.#m(a,e,i,d),b.push(e);continue}j+=c}return b.push(j),i}let i=c+1,j=new Q(null,b),k=[],l="";for(;i<a.length;){let c=a.charAt(i++);if(e||"\\"===c){e=!e,l+=c;continue}if(f){i===g+1?("^"===c||"!"===c)&&(h=!0):"]"!==c||i===g+2&&h||(f=!1),l+=c;continue}if("["===c){f=!0,g=i,h=!1,l+=c;continue}if(H(c)&&"("===a.charAt(i)){j.push(l),l="";let b=new Q(c,j);j.push(b),i=Q.#m(a,b,i,d);continue}if("|"===c){j.push(l),l="",k.push(j),j=new Q(null,b);continue}if(")"===c)return""===l&&0===b.#d.length&&(b.#k=!0),j.push(l),l="",b.push(...k,j),i;l+=c}return b.type=null,b.#b=void 0,b.#d=[a.substring(c-1)],i}static fromGlob(a,b={}){let c=new Q(null,void 0,b);return Q.#m(a,c,0,b),c}toMMPattern(){if(this!==this.#a)return this.#a.toMMPattern();let a=this.toString(),[b,c,d,e]=this.toRegExpSource();return d||this.#b||this.#i.nocase&&!this.#i.nocaseMagicOnly&&a.toUpperCase()!==a.toLowerCase()?Object.assign(RegExp(`^${b}$`,(this.#i.nocase?"i":"")+(e?"u":"")),{_src:b,_glob:a}):c}get options(){return this.#i}toRegExpSource(a){let b=a??!!this.#i.dot;if(this.#a===this&&this.#l(),!this.type){let c=this.isStart()&&this.isEnd()&&!this.#d.some(a=>"string"!=typeof a),d=this.#d.map(b=>{let[d,e,f,g]="string"==typeof b?Q.#n(b,this.#b,c):b.toRegExpSource(a);return this.#b=this.#b||f,this.#c=this.#c||g,d}).join(""),e="";if(this.isStart()&&"string"==typeof this.#d[0]&&!(1===this.#d.length&&K.has(this.#d[0]))){let c=b&&J.has(d.charAt(0))||d.startsWith("\\.")&&J.has(d.charAt(2))||d.startsWith("\\.\\.")&&J.has(d.charAt(4)),f=!b&&!a&&J.has(d.charAt(0));e=c?"(?!(?:^|/)\\.\\.?(?:$|/))":f?I:""}let f="";return this.isEnd()&&this.#a.#h&&this.#e?.type==="!"&&(f="(?:$|\\/)"),[e+d+f,F(d),this.#b=!!this.#b,this.#c]}let c="*"===this.type||"+"===this.type,d="!"===this.type?"(?:(?!(?:":"(?:",e=this.#o(b);if(this.isStart()&&this.isEnd()&&!e&&"!"!==this.type){let a=this.toString();return this.#d=[a],this.type=null,this.#b=void 0,[a,F(this.toString()),!1,!1]}let f=!c||a||b||!I?"":this.#o(!0);f===e&&(f=""),f&&(e=`(?:${e})(?:${f})*?`);return["!"===this.type&&this.#k?(this.isStart()&&!b?I:"")+P:d+e+("!"===this.type?"))"+(!this.isStart()||b||a?"":I)+O+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&f?")":"*"===this.type&&f?")?":`)${this.type}`),F(e),this.#b=!!this.#b,this.#c]}#o(a){return this.#d.map(b=>{if("string"==typeof b)throw Error("string type in extglob ast??");let[c,d,e,f]=b.toRegExpSource(a);return this.#c=this.#c||f,c}).filter(a=>!(this.isStart()&&this.isEnd())||!!a).join("|")}static #n(a,b,c=!1){let d=!1,e="",f=!1;for(let g=0;g<a.length;g++){let h=a.charAt(g);if(d){d=!1,e+=(L.has(h)?"\\":"")+h;continue}if("\\"===h){g===a.length-1?e+="\\\\":d=!0;continue}if("["===h){let[c,d,h,i]=E(a,g);if(h){e+=c,f=f||d,g+=h-1,b=b||i;continue}}if("*"===h){e+=c&&"*"===a?P:O,b=!0;continue}if("?"===h){e+=N,b=!0;continue}e+=M(h)}return[e,F(a),!!b,f]}}let R=(a,{windowsPathsNoEscape:b=!1,magicalBraces:c=!1}={})=>c?b?a.replace(/[?*()[\]{}]/g,"[$&]"):a.replace(/[?*()[\]\\{}]/g,"\\$&"):b?a.replace(/[?*()[\]]/g,"[$&]"):a.replace(/[?*()[\]\\]/g,"\\$&"),S=(a,b,c={})=>(B(b),(!!c.nocomment||"#"!==b.charAt(0))&&new ai(b,c).match(a)),T=/^\*+([^+@!?\*\[\(]*)$/,U=/^\*+\.\*+$/,V=a=>!a.startsWith(".")&&a.includes("."),W=a=>"."!==a&&".."!==a&&a.includes("."),X=/^\.\*+$/,Y=a=>"."!==a&&".."!==a&&a.startsWith("."),Z=/^\*+$/,$=a=>0!==a.length&&!a.startsWith("."),_=a=>0!==a.length&&"."!==a&&".."!==a,aa=/^\?+([^+@!?\*\[\(]*)?$/,ab=([a])=>{let b=a.length;return a=>a.length===b&&!a.startsWith(".")},ac=([a])=>{let b=a.length;return a=>a.length===b&&"."!==a&&".."!==a},ad="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";S.sep="win32"===ad?"\\":"/";let ae=Symbol("globstar **");S.GLOBSTAR=ae;S.filter=(a,b={})=>c=>S(c,a,b);let af=(a,b={})=>Object.assign({},a,b);S.defaults=a=>{if(!a||"object"!=typeof a||!Object.keys(a).length)return S;let b=S;return Object.assign((c,d,e={})=>b(c,d,af(a,e)),{Minimatch:class extends b.Minimatch{constructor(b,c={}){super(b,af(a,c))}static defaults(c){return b.defaults(af(a,c)).Minimatch}},AST:class extends b.AST{constructor(b,c,d={}){super(b,c,af(a,d))}static fromGlob(c,d={}){return b.AST.fromGlob(c,af(a,d))}},unescape:(c,d={})=>b.unescape(c,af(a,d)),escape:(c,d={})=>b.escape(c,af(a,d)),filter:(c,d={})=>b.filter(c,af(a,d)),defaults:c=>b.defaults(af(a,c)),makeRe:(c,d={})=>b.makeRe(c,af(a,d)),braceExpand:(c,d={})=>b.braceExpand(c,af(a,d)),match:(c,d,e={})=>b.match(c,d,af(a,e)),sep:b.sep,GLOBSTAR:ae})};let ag=(a,b={})=>(B(a),b.nobrace||!/\{(?:(?!\{).)*\}/.test(a))?[a]:function(a,b={}){if(!a)return[];let{max:c=1e5}=b;return"{}"===a.slice(0,2)&&(a="\\{\\}"+a.slice(2)),(function a(b,c,e){let f=[],g=d("{","}",b);if(!g)return[b];let h=g.pre,j=g.post.length?a(g.post,c,!1):[""];if(/\$$/.test(g.pre))for(let a=0;a<j.length&&a<c;a++){let b=h+"{"+g.body+"}"+j[a];f.push(b)}else{let k,l,m=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(g.body),n=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(g.body),o=m||n,p=g.body.indexOf(",")>=0;if(!o&&!p)return g.post.match(/,(?!,).*\}/)?a(b=g.pre+"{"+g.body+i+g.post,c,!0):[b];if(o)k=g.body.split(/\.\./);else if(1===(k=function a(b){if(!b)return[""];let c=[],e=d("{","}",b);if(!e)return b.split(",");let{pre:f,body:g,post:h}=e,i=f.split(",");i[i.length-1]+="{"+g+"}";let j=a(h);return h.length&&(i[i.length-1]+=j.shift(),i.push.apply(i,j)),c.push.apply(c,i),c}(g.body)).length&&void 0!==k[0]&&1===(k=a(k[0],c,!1).map(x)).length)return j.map(a=>g.pre+k[0]+a);if(o&&void 0!==k[0]&&void 0!==k[1]){let a=v(k[0]),b=v(k[1]),c=Math.max(k[0].length,k[1].length),d=3===k.length&&void 0!==k[2]?Math.abs(v(k[2])):1,e=z;b<a&&(d*=-1,e=A);let f=k.some(y);l=[];for(let g=a;e(g,b);g+=d){let a;if(n)"\\"===(a=String.fromCharCode(g))&&(a="");else if(a=String(g),f){let b=c-a.length;if(b>0){let c=Array(b+1).join("0");a=g<0?"-"+c+a.slice(1):c+a}}l.push(a)}}else{l=[];for(let b=0;b<k.length;b++)l.push.apply(l,a(k[b],c,!1))}for(let a=0;a<l.length;a++)for(let b=0;b<j.length&&f.length<c;b++){let c=h+l[a]+j[b];(!e||o||c)&&f.push(c)}}return f})(a.replace(q,g).replace(r,h).replace(s,i).replace(t,j).replace(u,k),c,!0).map(w)}(a);S.braceExpand=ag,S.makeRe=(a,b={})=>new ai(a,b).makeRe(),S.match=(a,b,c={})=>{let d=new ai(b,c);return a=a.filter(a=>d.match(a)),d.options.nonull&&!a.length&&a.push(b),a};let ah=/[?*]|[+@!]\(.*?\)|\[|\]/;class ai{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,b={}){B(a),b=b||{},this.options=b,this.pattern=a,this.platform=b.platform||ad,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!b.windowsPathsNoEscape||!1===b.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!b.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!b.nonegate,this.comment=!1,this.empty=!1,this.partial=!!b.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==b.windowsNoMagicRoot?b.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let a of this.set)for(let b of a)if("string"!=typeof b)return!0;return!1}debug(){}make(){let a=this.pattern,b=this.options;if(!b.nocomment&&"#"===a.charAt(0)){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],b.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let c=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(c),this.debug(this.pattern,this.globParts);let d=this.globParts.map((a,b,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){let b=""===a[0]&&""===a[1]&&("?"===a[2]||!ah.test(a[2]))&&!ah.test(a[3]),c=/^[a-z]:/i.test(a[0]);if(b)return[...a.slice(0,4),...a.slice(4).map(a=>this.parse(a))];if(c)return[a[0],...a.slice(1).map(a=>this.parse(a))]}return a.map(a=>this.parse(a))});if(this.debug(this.pattern,d),this.set=d.filter(a=>-1===a.indexOf(!1)),this.isWindows)for(let a=0;a<this.set.length;a++){let b=this.set[a];""===b[0]&&""===b[1]&&"?"===this.globParts[a][2]&&"string"==typeof b[3]&&/^[a-z]:$/i.test(b[3])&&(b[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let b=0;b<a.length;b++)for(let c=0;c<a[b].length;c++)"**"===a[b][c]&&(a[b][c]="*");let{optimizationLevel:b=1}=this.options;return b>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):a=b>=1?this.levelOneOptimize(a):this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(a=>{let b=-1;for(;-1!==(b=a.indexOf("**",b+1));){let c=b;for(;"**"===a[c+1];)c++;c!==b&&a.splice(b,c-b)}return a})}levelOneOptimize(a){return a.map(a=>0===(a=a.reduce((a,b)=>{let c=a[a.length-1];return"**"===b&&"**"===c||(".."===b&&c&&".."!==c&&"."!==c&&"**"!==c?a.pop():a.push(b)),a},[])).length?[""]:a)}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let b=!1;do{if(b=!1,!this.preserveMultipleSlashes){for(let c=1;c<a.length-1;c++){let d=a[c];(1!==c||""!==d||""!==a[0])&&("."===d||""===d)&&(b=!0,a.splice(c,1),c--)}"."===a[0]&&2===a.length&&("."===a[1]||""===a[1])&&(b=!0,a.pop())}let c=0;for(;-1!==(c=a.indexOf("..",c+1));){let d=a[c-1];d&&"."!==d&&".."!==d&&"**"!==d&&(b=!0,a.splice(c-1,2),c-=2)}}while(b)return 0===a.length?[""]:a}firstPhasePreProcess(a){let b=!1;do for(let c of(b=!1,a)){let d=-1;for(;-1!==(d=c.indexOf("**",d+1));){let e=d;for(;"**"===c[e+1];)e++;e>d&&c.splice(d+1,e-d);let f=c[d+1],g=c[d+2],h=c[d+3];if(".."!==f||!g||"."===g||".."===g||!h||"."===h||".."===h)continue;b=!0,c.splice(d,1);let i=c.slice(0);i[d]="**",a.push(i),d--}if(!this.preserveMultipleSlashes){for(let a=1;a<c.length-1;a++){let d=c[a];(1!==a||""!==d||""!==c[0])&&("."===d||""===d)&&(b=!0,c.splice(a,1),a--)}"."===c[0]&&2===c.length&&("."===c[1]||""===c[1])&&(b=!0,c.pop())}let e=0;for(;-1!==(e=c.indexOf("..",e+1));){let a=c[e-1];if(a&&"."!==a&&".."!==a&&"**"!==a){b=!0;let a=1===e&&"**"===c[e+1]?["."]:[];c.splice(e-1,2,...a),0===c.length&&c.push(""),e-=2}}}while(b)return a}secondPhasePreProcess(a){for(let b=0;b<a.length-1;b++)for(let c=b+1;c<a.length;c++){let d=this.partsMatch(a[b],a[c],!this.preserveMultipleSlashes);if(d){a[b]=[],a[c]=d;break}}return a.filter(a=>a.length)}partsMatch(a,b,c=!1){let d=0,e=0,f=[],g="";for(;d<a.length&&e<b.length;)if(a[d]===b[e])f.push("b"===g?b[e]:a[d]),d++,e++;else if(c&&"**"===a[d]&&b[e]===a[d+1])f.push(a[d]),d++;else if(c&&"**"===b[e]&&a[d]===b[e+1])f.push(b[e]),e++;else if("*"===a[d]&&b[e]&&(this.options.dot||!b[e].startsWith("."))&&"**"!==b[e]){if("b"===g)return!1;g="a",f.push(a[d]),d++,e++}else{if("*"!==b[e]||!a[d]||!this.options.dot&&a[d].startsWith(".")||"**"===a[d]||"a"===g)return!1;g="b",f.push(b[e]),d++,e++}return a.length===b.length&&f}parseNegate(){if(this.nonegate)return;let a=this.pattern,b=!1,c=0;for(let d=0;d<a.length&&"!"===a.charAt(d);d++)b=!b,c++;c&&(this.pattern=a.slice(c)),this.negate=b}matchOne(a,b,c=!1){let d=this.options;if(this.isWindows){let c="string"==typeof a[0]&&/^[a-z]:$/i.test(a[0]),d=!c&&""===a[0]&&""===a[1]&&"?"===a[2]&&/^[a-z]:$/i.test(a[3]),e="string"==typeof b[0]&&/^[a-z]:$/i.test(b[0]),f=!e&&""===b[0]&&""===b[1]&&"?"===b[2]&&"string"==typeof b[3]&&/^[a-z]:$/i.test(b[3]),g=d?3:c?0:void 0,h=f?3:e?0:void 0;if("number"==typeof g&&"number"==typeof h){let[c,d]=[a[g],b[h]];c.toLowerCase()===d.toLowerCase()&&(b[h]=c,h>g?b=b.slice(h):g>h&&(a=a.slice(g)))}}let{optimizationLevel:e=1}=this.options;e>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:b}),this.debug("matchOne",a.length,b.length);for(var f=0,g=0,h=a.length,i=b.length;f<h&&g<i;f++,g++){let e;this.debug("matchOne loop");var j=b[g],k=a[f];if(this.debug(b,j,k),!1===j)return!1;if(j===ae){this.debug("GLOBSTAR",[b,j,k]);var l=f,m=g+1;if(m===i){for(this.debug("** at the end");f<h;f++)if("."===a[f]||".."===a[f]||!d.dot&&"."===a[f].charAt(0))return!1;return!0}for(;l<h;){var n=a[l];if(this.debug("\nglobstar while",a,l,b,m,n),this.matchOne(a.slice(l),b.slice(m),c))return this.debug("globstar found match!",l,h,n),!0;if("."===n||".."===n||!d.dot&&"."===n.charAt(0)){this.debug("dot detected!",a,l,b,m);break}this.debug("globstar swallow a segment, and continue"),l++}if(c&&(this.debug("\n>>> no match, partial?",a,l,b,m),l===h))return!0;return!1}if("string"==typeof j?(e=k===j,this.debug("string match",j,k,e)):(e=j.test(k),this.debug("pattern match",j,k,e)),!e)return!1}if(f===h&&g===i)return!0;if(f===h)return c;if(g===i)return f===h-1&&""===a[f];throw Error("wtf?")}braceExpand(){return ag(this.pattern,this.options)}parse(a){let b;B(a);let c=this.options;if("**"===a)return ae;if(""===a)return"";let d=null;(b=a.match(Z))?d=c.dot?_:$:(b=a.match(T))?d=(c.nocase?c.dot?a=>(a=a.toLowerCase(),b=>b.toLowerCase().endsWith(a)):a=>(a=a.toLowerCase(),b=>!b.startsWith(".")&&b.toLowerCase().endsWith(a)):c.dot?a=>b=>b.endsWith(a):a=>b=>!b.startsWith(".")&&b.endsWith(a))(b[1]):(b=a.match(aa))?d=(c.nocase?c.dot?([a,b=""])=>{let c=ac([a]);return b?(b=b.toLowerCase(),a=>c(a)&&a.toLowerCase().endsWith(b)):c}:([a,b=""])=>{let c=ab([a]);return b?(b=b.toLowerCase(),a=>c(a)&&a.toLowerCase().endsWith(b)):c}:c.dot?([a,b=""])=>{let c=ac([a]);return b?a=>c(a)&&a.endsWith(b):c}:([a,b=""])=>{let c=ab([a]);return b?a=>c(a)&&a.endsWith(b):c})(b):(b=a.match(U))?d=c.dot?W:V:(b=a.match(X))&&(d=Y);let e=Q.fromGlob(a,this.options).toMMPattern();return d&&"object"==typeof e&&Reflect.defineProperty(e,"test",{value:d}),e}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let a=this.set;if(!a.length)return this.regexp=!1,this.regexp;let b=this.options,c=b.noglobstar?"[^/]*?":b.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",d=new Set(b.nocase?["i"]:[]),e=a.map(a=>{let b=a.map(a=>{if(a instanceof RegExp)for(let b of a.flags.split(""))d.add(b);return"string"==typeof a?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):a===ae?ae:a._src});b.forEach((a,d)=>{let e=b[d+1],f=b[d-1];a===ae&&f!==ae&&(void 0===f?void 0!==e&&e!==ae?b[d+1]="(?:\\/|"+c+"\\/)?"+e:b[d]=c:void 0===e?b[d-1]=f+"(?:\\/|\\/"+c+")?":e!==ae&&(b[d-1]=f+"(?:\\/|\\/"+c+"\\/)"+e,b[d+1]=ae))});let e=b.filter(a=>a!==ae);if(this.partial&&e.length>=1){let a=[];for(let b=1;b<=e.length;b++)a.push(e.slice(0,b).join("/"));return"(?:"+a.join("|")+")"}return e.join("/")}).join("|"),[f,g]=a.length>1?["(?:",")"]:["",""];e="^"+f+e+g+"$",this.partial&&(e="^(?:\\/|"+f+e.slice(1,-1)+g+")$"),this.negate&&(e="^(?!"+e+").+$");try{this.regexp=new RegExp(e,[...d].join(""))}catch(a){this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,b=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return""===a;if("/"===a&&b)return!0;let c=this.options;this.isWindows&&(a=a.split("\\").join("/"));let d=this.slashSplit(a);this.debug(this.pattern,"split",d);let e=this.set;this.debug(this.pattern,"set",e);let f=d[d.length-1];if(!f)for(let a=d.length-2;!f&&a>=0;a--)f=d[a];for(let a=0;a<e.length;a++){let g=e[a],h=d;if(c.matchBase&&1===g.length&&(h=[f]),this.matchOne(h,g,b)){if(c.flipNegate)return!0;return!this.negate}}return!c.flipNegate&&this.negate}static defaults(a){return S.defaults(a).Minimatch}}S.AST=Q,S.Minimatch=ai,S.escape=R,S.unescape=F;var aj=a.i(57764);let ak="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,al=new Set,am="object"==typeof process&&process?process:{},an=(a,b,c,d)=>{"function"==typeof am.emitWarning?am.emitWarning(a,b,c,d):console.error(`[${c}] ${b}: ${a}`)},ao=globalThis.AbortController,ap=globalThis.AbortSignal;if(void 0===ao){ap=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(a,b){this._onabort.push(b)}},ao=class{constructor(){b()}signal=new ap;abort(a){if(!this.signal.aborted){for(let b of(this.signal.reason=a,this.signal.aborted=!0,this.signal._onabort))b(a);this.signal.onabort?.(a)}}};let a=am.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",b=()=>{a&&(a=!1,an("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",b))}}Symbol("type");let aq=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),ar=a=>aq(a)?a<=256?Uint8Array:a<=65536?Uint16Array:a<=0x100000000?Uint32Array:a<=Number.MAX_SAFE_INTEGER?as:null:null;class as extends Array{constructor(a){super(a),this.fill(0)}}class at{heap;length;static #p=!1;static create(a){let b=ar(a);if(!b)return[];at.#p=!0;let c=new at(a,b);return at.#p=!1,c}constructor(a,b){if(!at.#p)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new b(a),this.length=0}push(a){this.heap[this.length++]=a}pop(){return this.heap[--this.length]}}class au{#q;#r;#s;#t;#u;#v;#w;#x;get perf(){return this.#x}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#y;#z;#A;#B;#C;#D;#E;#F;#G;#H;#I;#J;#K;#L;#M;#N;#O;#P;#Q;static unsafeExposeInternals(a){return{starts:a.#K,ttls:a.#L,autopurgeTimers:a.#M,sizes:a.#J,keyMap:a.#A,keyList:a.#B,valList:a.#C,next:a.#D,prev:a.#E,get head(){return a.#F},get tail(){return a.#G},free:a.#H,isBackgroundFetch:b=>a.#R(b),backgroundFetch:(b,c,d,e)=>a.#S(b,c,d,e),moveToTail:b=>a.#T(b),indexes:b=>a.#U(b),rindexes:b=>a.#V(b),isStale:b=>a.#W(b)}}get max(){return this.#q}get maxSize(){return this.#r}get calculatedSize(){return this.#z}get size(){return this.#y}get fetchMethod(){return this.#v}get memoMethod(){return this.#w}get dispose(){return this.#s}get onInsert(){return this.#t}get disposeAfter(){return this.#u}constructor(a){const{max:b=0,ttl:c,ttlResolution:d=1,ttlAutopurge:e,updateAgeOnGet:f,updateAgeOnHas:g,allowStale:h,dispose:i,onInsert:j,disposeAfter:k,noDisposeOnSet:l,noUpdateTTL:m,maxSize:n=0,maxEntrySize:o=0,sizeCalculation:p,fetchMethod:q,memoMethod:r,noDeleteOnFetchRejection:s,noDeleteOnStaleGet:t,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:v,ignoreFetchAbort:w,perf:x}=a;if(void 0!==x&&"function"!=typeof x?.now)throw TypeError("perf option must have a now() method if specified");if(this.#x=x??ak,0!==b&&!aq(b))throw TypeError("max option must be a nonnegative integer");const y=b?ar(b):Array;if(!y)throw Error("invalid max value: "+b);if(this.#q=b,this.#r=n,this.maxEntrySize=o||this.#r,this.sizeCalculation=p,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==r&&"function"!=typeof r)throw TypeError("memoMethod must be a function if defined");if(this.#w=r,void 0!==q&&"function"!=typeof q)throw TypeError("fetchMethod must be a function if specified");if(this.#v=q,this.#O=!!q,this.#A=new Map,this.#B=Array(b).fill(void 0),this.#C=Array(b).fill(void 0),this.#D=new y(b),this.#E=new y(b),this.#F=0,this.#G=0,this.#H=at.create(b),this.#y=0,this.#z=0,"function"==typeof i&&(this.#s=i),"function"==typeof j&&(this.#t=j),"function"==typeof k?(this.#u=k,this.#I=[]):(this.#u=void 0,this.#I=void 0),this.#N=!!this.#s,this.#Q=!!this.#t,this.#P=!!this.#u,this.noDisposeOnSet=!!l,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!s,this.allowStaleOnFetchRejection=!!u,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#r&&!aq(this.#r))throw TypeError("maxSize must be a positive integer if specified");if(!aq(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#X()}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!t,this.updateAgeOnGet=!!f,this.updateAgeOnHas=!!g,this.ttlResolution=aq(d)||0===d?d:1,this.ttlAutopurge=!!e,this.ttl=c||0,this.ttl){if(!aq(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#Y()}if(0===this.#q&&0===this.ttl&&0===this.#r)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#q&&!this.#r){const a="LRU_CACHE_UNBOUNDED";(a=>!al.has(a))(a)&&(al.add(a),an("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",a,au))}}getRemainingTTL(a){return this.#A.has(a)?1/0:0}#Y(){let a=new as(this.#q),b=new as(this.#q);this.#L=a,this.#K=b;let c=this.ttlAutopurge?Array(this.#q):void 0;this.#M=c,this.#Z=(d,e,f=this.#x.now())=>{if(b[d]=0!==e?f:0,a[d]=e,c?.[d]&&(clearTimeout(c[d]),c[d]=void 0),0!==e&&c){let a=setTimeout(()=>{this.#W(d)&&this.#$(this.#B[d],"expire")},e+1);a.unref&&a.unref(),c[d]=a}},this.#_=c=>{b[c]=0!==a[c]?this.#x.now():0},this.#aa=(c,f)=>{if(a[f]){let g=a[f],h=b[f];if(!g||!h)return;c.ttl=g,c.start=h,c.now=d||e();let i=c.now-h;c.remainingTTL=g-i}};let d=0,e=()=>{let a=this.#x.now();if(this.ttlResolution>0){d=a;let b=setTimeout(()=>d=0,this.ttlResolution);b.unref&&b.unref()}return a};this.getRemainingTTL=c=>{let f=this.#A.get(c);if(void 0===f)return 0;let g=a[f],h=b[f];return g&&h?g-((d||e())-h):1/0},this.#W=c=>{let f=b[c],g=a[c];return!!g&&!!f&&(d||e())-f>g}}#_=()=>{};#aa=()=>{};#Z=()=>{};#W=()=>!1;#X(){let a=new as(this.#q);this.#z=0,this.#J=a,this.#ab=b=>{this.#z-=a[b],a[b]=0},this.#ac=(a,b,c,d)=>{if(this.#R(b))return 0;if(!aq(c))if(d){if("function"!=typeof d)throw TypeError("sizeCalculation must be a function");if(!aq(c=d(b,a)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return c},this.#ad=(b,c,d)=>{if(a[b]=c,this.#r){let c=this.#r-a[b];for(;this.#z>c;)this.#ae(!0)}this.#z+=a[b],d&&(d.entrySize=c,d.totalCalculatedSize=this.#z)}}#ab=a=>{};#ad=(a,b,c)=>{};#ac=(a,b,c,d)=>{if(c||d)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#U({allowStale:a=this.allowStale}={}){if(this.#y)for(let b=this.#G;this.#af(b)&&((a||!this.#W(b))&&(yield b),b!==this.#F);)b=this.#E[b]}*#V({allowStale:a=this.allowStale}={}){if(this.#y)for(let b=this.#F;this.#af(b)&&((a||!this.#W(b))&&(yield b),b!==this.#G);)b=this.#D[b]}#af(a){return void 0!==a&&this.#A.get(this.#B[a])===a}*entries(){for(let a of this.#U())void 0===this.#C[a]||void 0===this.#B[a]||this.#R(this.#C[a])||(yield[this.#B[a],this.#C[a]])}*rentries(){for(let a of this.#V())void 0===this.#C[a]||void 0===this.#B[a]||this.#R(this.#C[a])||(yield[this.#B[a],this.#C[a]])}*keys(){for(let a of this.#U()){let b=this.#B[a];void 0===b||this.#R(this.#C[a])||(yield b)}}*rkeys(){for(let a of this.#V()){let b=this.#B[a];void 0===b||this.#R(this.#C[a])||(yield b)}}*values(){for(let a of this.#U())void 0===this.#C[a]||this.#R(this.#C[a])||(yield this.#C[a])}*rvalues(){for(let a of this.#V())void 0===this.#C[a]||this.#R(this.#C[a])||(yield this.#C[a])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(a,b={}){for(let c of this.#U()){let d=this.#C[c],e=this.#R(d)?d.__staleWhileFetching:d;if(void 0!==e&&a(e,this.#B[c],this))return this.get(this.#B[c],b)}}forEach(a,b=this){for(let c of this.#U()){let d=this.#C[c],e=this.#R(d)?d.__staleWhileFetching:d;void 0!==e&&a.call(b,e,this.#B[c],this)}}rforEach(a,b=this){for(let c of this.#V()){let d=this.#C[c],e=this.#R(d)?d.__staleWhileFetching:d;void 0!==e&&a.call(b,e,this.#B[c],this)}}purgeStale(){let a=!1;for(let b of this.#V({allowStale:!0}))this.#W(b)&&(this.#$(this.#B[b],"expire"),a=!0);return a}info(a){let b=this.#A.get(a);if(void 0===b)return;let c=this.#C[b],d=this.#R(c)?c.__staleWhileFetching:c;if(void 0===d)return;let e={value:d};if(this.#L&&this.#K){let a=this.#L[b],c=this.#K[b];a&&c&&(e.ttl=a-(this.#x.now()-c),e.start=Date.now())}return this.#J&&(e.size=this.#J[b]),e}dump(){let a=[];for(let b of this.#U({allowStale:!0})){let c=this.#B[b],d=this.#C[b],e=this.#R(d)?d.__staleWhileFetching:d;if(void 0===e||void 0===c)continue;let f={value:e};if(this.#L&&this.#K){f.ttl=this.#L[b];let a=this.#x.now()-this.#K[b];f.start=Math.floor(Date.now()-a)}this.#J&&(f.size=this.#J[b]),a.unshift([c,f])}return a}load(a){for(let[b,c]of(this.clear(),a)){if(c.start){let a=Date.now()-c.start;c.start=this.#x.now()-a}this.set(b,c.value,c)}}set(a,b,c={}){if(void 0===b)return this.delete(a),this;let{ttl:d=this.ttl,start:e,noDisposeOnSet:f=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:h}=c,{noUpdateTTL:i=this.noUpdateTTL}=c,j=this.#ac(a,b,c.size||0,g);if(this.maxEntrySize&&j>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.#$(a,"set"),this;let k=0===this.#y?void 0:this.#A.get(a);if(void 0===k)k=0===this.#y?this.#G:0!==this.#H.length?this.#H.pop():this.#y===this.#q?this.#ae(!1):this.#y,this.#B[k]=a,this.#C[k]=b,this.#A.set(a,k),this.#D[this.#G]=k,this.#E[k]=this.#G,this.#G=k,this.#y++,this.#ad(k,j,h),h&&(h.set="add"),i=!1,this.#Q&&this.#t?.(b,a,"add");else{this.#T(k);let c=this.#C[k];if(b!==c){if(this.#O&&this.#R(c)){c.__abortController.abort(Error("replaced"));let{__staleWhileFetching:b}=c;void 0!==b&&!f&&(this.#N&&this.#s?.(b,a,"set"),this.#P&&this.#I?.push([b,a,"set"]))}else!f&&(this.#N&&this.#s?.(c,a,"set"),this.#P&&this.#I?.push([c,a,"set"]));if(this.#ab(k),this.#ad(k,j,h),this.#C[k]=b,h){h.set="replace";let a=c&&this.#R(c)?c.__staleWhileFetching:c;void 0!==a&&(h.oldValue=a)}}else h&&(h.set="update");this.#Q&&this.onInsert?.(b,a,b===c?"update":"replace")}if(0===d||this.#L||this.#Y(),this.#L&&(i||this.#Z(k,d,e),h&&this.#aa(h,k)),!f&&this.#P&&this.#I){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}return this}pop(){try{for(;this.#y;){let a=this.#C[this.#F];if(this.#ae(!0),this.#R(a)){if(a.__staleWhileFetching)return a.__staleWhileFetching}else if(void 0!==a)return a}}finally{if(this.#P&&this.#I){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}}}#ae(a){let b=this.#F,c=this.#B[b],d=this.#C[b];return this.#O&&this.#R(d)?d.__abortController.abort(Error("evicted")):(this.#N||this.#P)&&(this.#N&&this.#s?.(d,c,"evict"),this.#P&&this.#I?.push([d,c,"evict"])),this.#ab(b),this.#M?.[b]&&(clearTimeout(this.#M[b]),this.#M[b]=void 0),a&&(this.#B[b]=void 0,this.#C[b]=void 0,this.#H.push(b)),1===this.#y?(this.#F=this.#G=0,this.#H.length=0):this.#F=this.#D[b],this.#A.delete(c),this.#y--,b}has(a,b={}){let{updateAgeOnHas:c=this.updateAgeOnHas,status:d}=b,e=this.#A.get(a);if(void 0!==e){let a=this.#C[e];if(this.#R(a)&&void 0===a.__staleWhileFetching)return!1;if(!this.#W(e))return c&&this.#_(e),d&&(d.has="hit",this.#aa(d,e)),!0;d&&(d.has="stale",this.#aa(d,e))}else d&&(d.has="miss");return!1}peek(a,b={}){let{allowStale:c=this.allowStale}=b,d=this.#A.get(a);if(void 0===d||!c&&this.#W(d))return;let e=this.#C[d];return this.#R(e)?e.__staleWhileFetching:e}#S(a,b,c,d){let e=void 0===b?void 0:this.#C[b];if(this.#R(e))return e;let f=new ao,{signal:g}=c;g?.addEventListener("abort",()=>f.abort(g.reason),{signal:f.signal});let h={signal:f.signal,options:c,context:d},i=(d,e=!1)=>{let{aborted:g}=f.signal,i=c.ignoreFetchAbort&&void 0!==d,k=c.ignoreFetchAbort||!!(c.allowStaleOnFetchAbort&&void 0!==d);if(c.status&&(g&&!e?(c.status.fetchAborted=!0,c.status.fetchError=f.signal.reason,i&&(c.status.fetchAbortIgnored=!0)):c.status.fetchResolved=!0),g&&!i&&!e)return j(f.signal.reason,k);let m=this.#C[b];return(m===l||i&&e&&void 0===m)&&(void 0===d?void 0!==l.__staleWhileFetching?this.#C[b]=l.__staleWhileFetching:this.#$(a,"fetch"):(c.status&&(c.status.fetchUpdated=!0),this.set(a,d,h.options))),d},j=(d,e)=>{let{aborted:g}=f.signal,h=g&&c.allowStaleOnFetchAbort,i=h||c.allowStaleOnFetchRejection,j=i||c.noDeleteOnFetchRejection;if(this.#C[b]===l&&(j&&(e||void 0!==l.__staleWhileFetching)?h||(this.#C[b]=l.__staleWhileFetching):this.#$(a,"fetch")),i)return c.status&&void 0!==l.__staleWhileFetching&&(c.status.returnedStale=!0),l.__staleWhileFetching;if(l.__returned===l)throw d},k=(b,d)=>{let g=this.#v?.(a,e,h);g&&g instanceof Promise&&g.then(a=>b(void 0===a?void 0:a),d),f.signal.addEventListener("abort",()=>{(!c.ignoreFetchAbort||c.allowStaleOnFetchAbort)&&(b(void 0),c.allowStaleOnFetchAbort&&(b=a=>i(a,!0)))})};c.status&&(c.status.fetchDispatched=!0);let l=new Promise(k).then(i,a=>(c.status&&(c.status.fetchRejected=!0,c.status.fetchError=a),j(a,!1))),m=Object.assign(l,{__abortController:f,__staleWhileFetching:e,__returned:void 0});return void 0===b?(this.set(a,m,{...h.options,status:void 0}),b=this.#A.get(a)):this.#C[b]=m,m}#R(a){return!!this.#O&&!!a&&a instanceof Promise&&a.hasOwnProperty("__staleWhileFetching")&&a.__abortController instanceof ao}async fetch(a,b={}){let{allowStale:c=this.allowStale,updateAgeOnGet:d=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,ttl:f=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:h=0,sizeCalculation:i=this.sizeCalculation,noUpdateTTL:j=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:l=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:n=this.allowStaleOnFetchAbort,context:o,forceRefresh:p=!1,status:q,signal:r}=b;if(!this.#O)return q&&(q.fetch="get"),this.get(a,{allowStale:c,updateAgeOnGet:d,noDeleteOnStaleGet:e,status:q});let s={allowStale:c,updateAgeOnGet:d,noDeleteOnStaleGet:e,ttl:f,noDisposeOnSet:g,size:h,sizeCalculation:i,noUpdateTTL:j,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:l,allowStaleOnFetchAbort:n,ignoreFetchAbort:m,status:q,signal:r},t=this.#A.get(a);if(void 0===t){q&&(q.fetch="miss");let b=this.#S(a,t,s,o);return b.__returned=b}{let b=this.#C[t];if(this.#R(b)){let a=c&&void 0!==b.__staleWhileFetching;return q&&(q.fetch="inflight",a&&(q.returnedStale=!0)),a?b.__staleWhileFetching:b.__returned=b}let e=this.#W(t);if(!p&&!e)return q&&(q.fetch="hit"),this.#T(t),d&&this.#_(t),q&&this.#aa(q,t),b;let f=this.#S(a,t,s,o),g=void 0!==f.__staleWhileFetching&&c;return q&&(q.fetch=e?"stale":"refresh",g&&e&&(q.returnedStale=!0)),g?f.__staleWhileFetching:f.__returned=f}}async forceFetch(a,b={}){let c=await this.fetch(a,b);if(void 0===c)throw Error("fetch() returned undefined");return c}memo(a,b={}){let c=this.#w;if(!c)throw Error("no memoMethod provided to constructor");let{context:d,forceRefresh:e,...f}=b,g=this.get(a,f);if(!e&&void 0!==g)return g;let h=c(a,g,{options:f,context:d});return this.set(a,h,f),h}get(a,b={}){let{allowStale:c=this.allowStale,updateAgeOnGet:d=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,status:f}=b,g=this.#A.get(a);if(void 0!==g){let b=this.#C[g],h=this.#R(b);return(f&&this.#aa(f,g),this.#W(g))?(f&&(f.get="stale"),h)?(f&&c&&void 0!==b.__staleWhileFetching&&(f.returnedStale=!0),c?b.__staleWhileFetching:void 0):(e||this.#$(a,"expire"),f&&c&&(f.returnedStale=!0),c?b:void 0):(f&&(f.get="hit"),h)?b.__staleWhileFetching:(this.#T(g),d&&this.#_(g),b)}f&&(f.get="miss")}#ag(a,b){this.#E[b]=a,this.#D[a]=b}#T(a){a!==this.#G&&(a===this.#F?this.#F=this.#D[a]:this.#ag(this.#E[a],this.#D[a]),this.#ag(this.#G,a),this.#G=a)}delete(a){return this.#$(a,"delete")}#$(a,b){let c=!1;if(0!==this.#y){let d=this.#A.get(a);if(void 0!==d)if(this.#M?.[d]&&(clearTimeout(this.#M?.[d]),this.#M[d]=void 0),c=!0,1===this.#y)this.#ah(b);else{this.#ab(d);let c=this.#C[d];if(this.#R(c)?c.__abortController.abort(Error("deleted")):(this.#N||this.#P)&&(this.#N&&this.#s?.(c,a,b),this.#P&&this.#I?.push([c,a,b])),this.#A.delete(a),this.#B[d]=void 0,this.#C[d]=void 0,d===this.#G)this.#G=this.#E[d];else if(d===this.#F)this.#F=this.#D[d];else{let a=this.#E[d];this.#D[a]=this.#D[d];let b=this.#D[d];this.#E[b]=this.#E[d]}this.#y--,this.#H.push(d)}}if(this.#P&&this.#I?.length){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}return c}clear(){return this.#ah("delete")}#ah(a){for(let b of this.#V({allowStale:!0})){let c=this.#C[b];if(this.#R(c))c.__abortController.abort(Error("deleted"));else{let d=this.#B[b];this.#N&&this.#s?.(c,d,a),this.#P&&this.#I?.push([c,d,a])}}if(this.#A.clear(),this.#C.fill(void 0),this.#B.fill(void 0),this.#L&&this.#K){for(let a of(this.#L.fill(0),this.#K.fill(0),this.#M??[]))void 0!==a&&clearTimeout(a);this.#M?.fill(void 0)}if(this.#J&&this.#J.fill(0),this.#F=0,this.#G=0,this.#H.length=0,this.#z=0,this.#y=0,this.#P&&this.#I){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}}}var av=a.i(50227),aw=a.i(22734),ax=a.i(2157),ay=a.i(12714),az=a.i(87769),aA=a.i(81111),aB=a.i(99871);let aC="object"==typeof process&&process?process:{stdout:null,stderr:null},aD=a=>!!a&&"object"==typeof a&&(a instanceof bd||a instanceof aA.default||aE(a)||aF(a)),aE=a=>!!a&&"object"==typeof a&&a instanceof az.EventEmitter&&"function"==typeof a.pipe&&a.pipe!==aA.default.Writable.prototype.pipe,aF=a=>!!a&&"object"==typeof a&&a instanceof az.EventEmitter&&"function"==typeof a.write&&"function"==typeof a.end,aG=Symbol("EOF"),aH=Symbol("maybeEmitEnd"),aI=Symbol("emittedEnd"),aJ=Symbol("emittingEnd"),aK=Symbol("emittedError"),aL=Symbol("closed"),aM=Symbol("read"),aN=Symbol("flush"),aO=Symbol("flushChunk"),aP=Symbol("encoding"),aQ=Symbol("decoder"),aR=Symbol("flowing"),aS=Symbol("paused"),aT=Symbol("resume"),aU=Symbol("buffer"),aV=Symbol("pipes"),aW=Symbol("bufferLength"),aX=Symbol("bufferPush"),aY=Symbol("bufferShift"),aZ=Symbol("objectMode"),a$=Symbol("destroyed"),a_=Symbol("error"),a0=Symbol("emitData"),a1=Symbol("emitEnd"),a2=Symbol("emitEnd2"),a3=Symbol("async"),a4=Symbol("abort"),a5=Symbol("aborted"),a6=Symbol("signal"),a7=Symbol("dataListeners"),a8=Symbol("discarded"),a9=a=>Promise.resolve().then(a),ba=a=>a();class bb{src;dest;opts;ondrain;constructor(a,b,c){this.src=a,this.dest=b,this.opts=c,this.ondrain=()=>a[aT](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(a){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class bc extends bb{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(a,b,c){super(a,b,c),this.proxyErrors=a=>b.emit("error",a),a.on("error",this.proxyErrors)}}class bd extends az.EventEmitter{[aR]=!1;[aS]=!1;[aV]=[];[aU]=[];[aZ];[aP];[a3];[aQ];[aG]=!1;[aI]=!1;[aJ]=!1;[aL]=!1;[aK]=null;[aW]=0;[a$]=!1;[a6];[a5]=!1;[a7]=0;[a8]=!1;writable=!0;readable=!0;constructor(...a){const b=a[0]||{};if(super(),b.objectMode&&"string"==typeof b.encoding)throw TypeError("Encoding and objectMode may not be used together");(a=>!!a.objectMode)(b)?(this[aZ]=!0,this[aP]=null):(a=>!a.objectMode&&!!a.encoding&&"buffer"!==a.encoding)(b)?(this[aP]=b.encoding,this[aZ]=!1):(this[aZ]=!1,this[aP]=null),this[a3]=!!b.async,this[aQ]=this[aP]?new aB.StringDecoder(this[aP]):null,b&&!0===b.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[aU]}),b&&!0===b.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[aV]});const{signal:c}=b;c&&(this[a6]=c,c.aborted?this[a4]():c.addEventListener("abort",()=>this[a4]()))}get bufferLength(){return this[aW]}get encoding(){return this[aP]}set encoding(a){throw Error("Encoding must be set at instantiation time")}setEncoding(a){throw Error("Encoding must be set at instantiation time")}get objectMode(){return this[aZ]}set objectMode(a){throw Error("objectMode must be set at instantiation time")}get async(){return this[a3]}set async(a){this[a3]=this[a3]||!!a}[a4](){this[a5]=!0,this.emit("abort",this[a6]?.reason),this.destroy(this[a6]?.reason)}get aborted(){return this[a5]}set aborted(a){}write(a,b,c){if(this[a5])return!1;if(this[aG])throw Error("write after end");if(this[a$])return this.emit("error",Object.assign(Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof b&&(c=b,b="utf8"),b||(b="utf8");let d=this[a3]?a9:ba;if(!this[aZ]&&!Buffer.isBuffer(a)){let b;if(b=a,!Buffer.isBuffer(b)&&ArrayBuffer.isView(b))a=Buffer.from(a.buffer,a.byteOffset,a.byteLength);else{let b;if((b=a)instanceof ArrayBuffer||b&&"object"==typeof b&&b.constructor&&"ArrayBuffer"===b.constructor.name&&b.byteLength>=0)a=Buffer.from(a);else if("string"!=typeof a)throw Error("Non-contiguous data written to non-objectMode stream")}}return this[aZ]?(this[aR]&&0!==this[aW]&&this[aN](!0),this[aR]?this.emit("data",a):this[aX](a)):a.length&&("string"==typeof a&&(b!==this[aP]||this[aQ]?.lastNeed)&&(a=Buffer.from(a,b)),Buffer.isBuffer(a)&&this[aP]&&(a=this[aQ].write(a)),this[aR]&&0!==this[aW]&&this[aN](!0),this[aR]?this.emit("data",a):this[aX](a)),0!==this[aW]&&this.emit("readable"),c&&d(c),this[aR]}read(a){if(this[a$])return null;if(this[a8]=!1,0===this[aW]||0===a||a&&a>this[aW])return this[aH](),null;this[aZ]&&(a=null),this[aU].length>1&&!this[aZ]&&(this[aU]=[this[aP]?this[aU].join(""):Buffer.concat(this[aU],this[aW])]);let b=this[aM](a||null,this[aU][0]);return this[aH](),b}[aM](a,b){if(this[aZ])this[aY]();else{let c=b;a===c.length||null===a?this[aY]():("string"==typeof c?(this[aU][0]=c.slice(a),b=c.slice(0,a)):(this[aU][0]=c.subarray(a),b=c.subarray(0,a)),this[aW]-=a)}return this.emit("data",b),this[aU].length||this[aG]||this.emit("drain"),b}end(a,b,c){return"function"==typeof a&&(c=a,a=void 0),"function"==typeof b&&(c=b,b="utf8"),void 0!==a&&this.write(a,b),c&&this.once("end",c),this[aG]=!0,this.writable=!1,(this[aR]||!this[aS])&&this[aH](),this}[aT](){this[a$]||(this[a7]||this[aV].length||(this[a8]=!0),this[aS]=!1,this[aR]=!0,this.emit("resume"),this[aU].length?this[aN]():this[aG]?this[aH]():this.emit("drain"))}resume(){return this[aT]()}pause(){this[aR]=!1,this[aS]=!0,this[a8]=!1}get destroyed(){return this[a$]}get flowing(){return this[aR]}get paused(){return this[aS]}[aX](a){this[aZ]?this[aW]+=1:this[aW]+=a.length,this[aU].push(a)}[aY](){return this[aZ]?this[aW]-=1:this[aW]-=this[aU][0].length,this[aU].shift()}[aN](a=!1){do;while(this[aO](this[aY]())&&this[aU].length)a||this[aU].length||this[aG]||this.emit("drain")}[aO](a){return this.emit("data",a),this[aR]}pipe(a,b){if(this[a$])return a;this[a8]=!1;let c=this[aI];return b=b||{},a===aC.stdout||a===aC.stderr?b.end=!1:b.end=!1!==b.end,b.proxyErrors=!!b.proxyErrors,c?b.end&&a.end():(this[aV].push(b.proxyErrors?new bc(this,a,b):new bb(this,a,b)),this[a3]?a9(()=>this[aT]()):this[aT]()),a}unpipe(a){let b=this[aV].find(b=>b.dest===a);b&&(1===this[aV].length?(this[aR]&&0===this[a7]&&(this[aR]=!1),this[aV]=[]):this[aV].splice(this[aV].indexOf(b),1),b.unpipe())}addListener(a,b){return this.on(a,b)}on(a,b){let c=super.on(a,b);if("data"===a)this[a8]=!1,this[a7]++,this[aV].length||this[aR]||this[aT]();else if("readable"===a&&0!==this[aW])super.emit("readable");else("end"===a||"finish"===a||"prefinish"===a)&&this[aI]?(super.emit(a),this.removeAllListeners(a)):"error"===a&&this[aK]&&(this[a3]?a9(()=>b.call(this,this[aK])):b.call(this,this[aK]));return c}removeListener(a,b){return this.off(a,b)}off(a,b){let c=super.off(a,b);return"data"===a&&(this[a7]=this.listeners("data").length,0!==this[a7]||this[a8]||this[aV].length||(this[aR]=!1)),c}removeAllListeners(a){let b=super.removeAllListeners(a);return("data"===a||void 0===a)&&(this[a7]=0,this[a8]||this[aV].length||(this[aR]=!1)),b}get emittedEnd(){return this[aI]}[aH](){this[aJ]||this[aI]||this[a$]||0!==this[aU].length||!this[aG]||(this[aJ]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[aL]&&this.emit("close"),this[aJ]=!1)}emit(a,...b){let c=b[0];if("error"!==a&&"close"!==a&&a!==a$&&this[a$])return!1;if("data"===a)return(!!this[aZ]||!!c)&&(this[a3]?(a9(()=>this[a0](c)),!0):this[a0](c));if("end"===a)return this[a1]();if("close"===a){if(this[aL]=!0,!this[aI]&&!this[a$])return!1;let a=super.emit("close");return this.removeAllListeners("close"),a}if("error"===a){this[aK]=c,super.emit(a_,c);let a=(!this[a6]||!!this.listeners("error").length)&&super.emit("error",c);return this[aH](),a}else if("resume"===a){let a=super.emit("resume");return this[aH](),a}else if("finish"===a||"prefinish"===a){let b=super.emit(a);return this.removeAllListeners(a),b}let d=super.emit(a,...b);return this[aH](),d}[a0](a){for(let b of this[aV])!1===b.dest.write(a)&&this.pause();let b=!this[a8]&&super.emit("data",a);return this[aH](),b}[a1](){return!this[aI]&&(this[aI]=!0,this.readable=!1,this[a3]?(a9(()=>this[a2]()),!0):this[a2]())}[a2](){if(this[aQ]){let a=this[aQ].end();if(a){for(let b of this[aV])b.dest.write(a);this[a8]||super.emit("data",a)}}for(let a of this[aV])a.end();let a=super.emit("end");return this.removeAllListeners("end"),a}async collect(){let a=Object.assign([],{dataLength:0});this[aZ]||(a.dataLength=0);let b=this.promise();return this.on("data",b=>{a.push(b),this[aZ]||(a.dataLength+=b.length)}),await b,a}async concat(){if(this[aZ])throw Error("cannot concat in objectMode");let a=await this.collect();return this[aP]?a.join(""):Buffer.concat(a,a.dataLength)}async promise(){return new Promise((a,b)=>{this.on(a$,()=>b(Error("stream destroyed"))),this.on("error",a=>b(a)),this.on("end",()=>a())})}[Symbol.asyncIterator](){this[a8]=!1;let a=!1,b=async()=>(this.pause(),a=!0,{value:void 0,done:!0});return{next:()=>{let c,d;if(a)return b();let e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[aG])return b();let f=a=>{this.off("data",g),this.off("end",h),this.off(a$,i),b(),d(a)},g=a=>{this.off("error",f),this.off("end",h),this.off(a$,i),this.pause(),c({value:a,done:!!this[aG]})},h=()=>{this.off("error",f),this.off("data",g),this.off(a$,i),b(),c({done:!0,value:void 0})},i=()=>f(Error("stream destroyed"));return new Promise((a,b)=>{d=b,c=a,this.once(a$,i),this.once("error",f),this.once("end",h),this.once("data",g)})},throw:b,return:b,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[a8]=!1;let a=!1,b=()=>(this.pause(),this.off(a_,b),this.off(a$,b),this.off("end",b),a=!0,{done:!0,value:void 0}),c=()=>{if(a)return b();let c=this.read();return null===c?b():{done:!1,value:c}};return this.once("end",b),this.once(a_,b),this.once(a$,b),{next:c,throw:b,return:b,[Symbol.iterator](){return this}}}destroy(a){return this[a$]||(this[a$]=!0,this[a8]=!0,this[aU].length=0,this[aW]=0,"function"!=typeof this.close||this[aL]||this.close()),a?this.emit("error",a):this.emit(a$),this}static get isStream(){return aD}}let be=aw.realpathSync.native,bf={lstatSync:aw.lstatSync,readdir:aw.readdir,readdirSync:aw.readdirSync,readlinkSync:aw.readlinkSync,realpathSync:be,promises:{lstat:ay.lstat,readdir:ay.readdir,readlink:ay.readlink,realpath:ay.realpath}},bg=a=>a&&a!==bf&&a!==ax?{...bf,...a,promises:{...bf.promises,...a.promises||{}}}:bf,bh=/^\\\\\?\\([a-z]:)\\?$/i,bi=/[\\\/]/,bj=a=>a.isFile()?8:a.isDirectory()?4:a.isSymbolicLink()?10:a.isCharacterDevice()?2:a.isBlockDevice()?6:a.isSocket()?12:+!!a.isFIFO(),bk=new au({max:4096}),bl=a=>{let b=bk.get(a);if(b)return b;let c=a.normalize("NFKD");return bk.set(a,c),c},bm=new au({max:4096}),bn=a=>{let b=bm.get(a);if(b)return b;let c=bl(a.toLowerCase());return bm.set(a,c),c};class bo extends au{constructor(){super({max:256})}}class bp extends au{constructor(a=16384){super({maxSize:a,sizeCalculation:a=>a.length+1})}}let bq=Symbol("PathScurry setAsCwd");class br{name;root;roots;parent;nocase;isCWD=!1;#ai;#aj;get dev(){return this.#aj}#ak;get mode(){return this.#ak}#al;get nlink(){return this.#al}#am;get uid(){return this.#am}#an;get gid(){return this.#an}#ao;get rdev(){return this.#ao}#ap;get blksize(){return this.#ap}#aq;get ino(){return this.#aq}#y;get size(){return this.#y}#ar;get blocks(){return this.#ar}#as;get atimeMs(){return this.#as}#at;get mtimeMs(){return this.#at}#au;get ctimeMs(){return this.#au}#av;get birthtimeMs(){return this.#av}#aw;get atime(){return this.#aw}#ax;get mtime(){return this.#ax}#ay;get ctime(){return this.#ay}#az;get birthtime(){return this.#az}#aA;#aB;#aC;#aD;#aE;#aF;#aG;#aH;#aI;#aJ;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(a,b=0,c,d,e,f,g){this.name=a,this.#aA=e?bn(a):bl(a),this.#aG=1023&b,this.nocase=e,this.roots=d,this.root=c||this,this.#aH=f,this.#aC=g.fullpath,this.#aE=g.relative,this.#aF=g.relativePosix,this.parent=g.parent,this.parent?this.#ai=this.parent.#ai:this.#ai=bg(g.fs)}depth(){return void 0!==this.#aB?this.#aB:this.parent?this.#aB=this.parent.depth()+1:this.#aB=0}childrenCache(){return this.#aH}resolve(a){if(!a)return this;let b=this.getRootString(a),c=a.substring(b.length).split(this.splitSep);return b?this.getRoot(b).#aK(c):this.#aK(c)}#aK(a){let b=this;for(let c of a)b=b.child(c);return b}children(){let a=this.#aH.get(this);if(a)return a;let b=Object.assign([],{provisional:0});return this.#aH.set(this,b),this.#aG&=-17,b}child(a,b){if(""===a||"."===a)return this;if(".."===a)return this.parent||this;let c=this.children(),d=this.nocase?bn(a):bl(a);for(let a of c)if(a.#aA===d)return a;let e=this.parent?this.sep:"",f=this.#aC?this.#aC+e+a:void 0,g=this.newChild(a,0,{...b,parent:this,fullpath:f});return this.canReaddir()||(g.#aG|=128),c.push(g),g}relative(){if(this.isCWD)return"";if(void 0!==this.#aE)return this.#aE;let a=this.name,b=this.parent;if(!b)return this.#aE=this.name;let c=b.relative();return c+(c&&b.parent?this.sep:"")+a}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#aF)return this.#aF;let a=this.name,b=this.parent;if(!b)return this.#aF=this.fullpathPosix();let c=b.relativePosix();return c+(c&&b.parent?"/":"")+a}fullpath(){if(void 0!==this.#aC)return this.#aC;let a=this.name,b=this.parent;if(!b)return this.#aC=this.name;let c=b.fullpath()+(b.parent?this.sep:"")+a;return this.#aC=c}fullpathPosix(){if(void 0!==this.#aD)return this.#aD;if("/"===this.sep)return this.#aD=this.fullpath();if(!this.parent){let a=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(a)?this.#aD=`//?/${a}`:this.#aD=a}let a=this.parent,b=a.fullpathPosix(),c=b+(b&&a.parent?"/":"")+this.name;return this.#aD=c}isUnknown(){return(15&this.#aG)==0}isType(a){return this[`is${a}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(15&this.#aG)==8}isDirectory(){return(15&this.#aG)==4}isCharacterDevice(){return(15&this.#aG)==2}isBlockDevice(){return(15&this.#aG)==6}isFIFO(){return(15&this.#aG)==1}isSocket(){return(15&this.#aG)==12}isSymbolicLink(){return(10&this.#aG)==10}lstatCached(){return 32&this.#aG?this:void 0}readlinkCached(){return this.#aI}realpathCached(){return this.#aJ}readdirCached(){let a=this.children();return a.slice(0,a.provisional)}canReadlink(){if(this.#aI)return!0;if(!this.parent)return!1;let a=15&this.#aG;return!(0!==a&&10!==a||256&this.#aG||128&this.#aG)}calledReaddir(){return!!(16&this.#aG)}isENOENT(){return!!(128&this.#aG)}isNamed(a){return this.nocase?this.#aA===bn(a):this.#aA===bl(a)}async readlink(){let a=this.#aI;if(a)return a;if(this.canReadlink()&&this.parent)try{let a=await this.#ai.promises.readlink(this.fullpath()),b=(await this.parent.realpath())?.resolve(a);if(b)return this.#aI=b}catch(a){this.#aL(a.code);return}}readlinkSync(){let a=this.#aI;if(a)return a;if(this.canReadlink()&&this.parent)try{let a=this.#ai.readlinkSync(this.fullpath()),b=this.parent.realpathSync()?.resolve(a);if(b)return this.#aI=b}catch(a){this.#aL(a.code);return}}#aM(a){this.#aG|=16;for(let b=a.provisional;b<a.length;b++){let c=a[b];c&&c.#aN()}}#aN(){128&this.#aG||(this.#aG=(128|this.#aG)&-16,this.#aO())}#aO(){let a=this.children();for(let b of(a.provisional=0,a))b.#aN()}#aP(){this.#aG|=512,this.#aQ()}#aQ(){if(64&this.#aG)return;let a=this.#aG;(15&a)==4&&(a&=-16),this.#aG=64|a,this.#aO()}#aR(a=""){"ENOTDIR"===a||"EPERM"===a?this.#aQ():"ENOENT"===a?this.#aN():this.children().provisional=0}#aS(a=""){"ENOTDIR"===a?this.parent.#aQ():"ENOENT"===a&&this.#aN()}#aL(a=""){let b=this.#aG;b|=256,"ENOENT"===a&&(b|=128),("EINVAL"===a||"UNKNOWN"===a)&&(b&=-16),this.#aG=b,"ENOTDIR"===a&&this.parent&&this.parent.#aQ()}#aT(a,b){return this.#aU(a,b)||this.#aV(a,b)}#aV(a,b){let c=bj(a),d=this.newChild(a.name,c,{parent:this}),e=15&d.#aG;return 4!==e&&10!==e&&0!==e&&(d.#aG|=64),b.unshift(d),b.provisional++,d}#aU(a,b){for(let c=b.provisional;c<b.length;c++){let d=b[c];if((this.nocase?bn(a.name):bl(a.name))===d.#aA)return this.#aW(a,d,c,b)}}#aW(a,b,c,d){let e=b.name;return b.#aG=-16&b.#aG|bj(a),e!==a.name&&(b.name=a.name),c!==d.provisional&&(c===d.length-1?d.pop():d.splice(c,1),d.unshift(b)),d.provisional++,b}async lstat(){if((128&this.#aG)==0)try{return this.#aX(await this.#ai.promises.lstat(this.fullpath())),this}catch(a){this.#aS(a.code)}}lstatSync(){if((128&this.#aG)==0)try{return this.#aX(this.#ai.lstatSync(this.fullpath())),this}catch(a){this.#aS(a.code)}}#aX(a){let{atime:b,atimeMs:c,birthtime:d,birthtimeMs:e,blksize:f,blocks:g,ctime:h,ctimeMs:i,dev:j,gid:k,ino:l,mode:m,mtime:n,mtimeMs:o,nlink:p,rdev:q,size:r,uid:s}=a;this.#aw=b,this.#as=c,this.#az=d,this.#av=e,this.#ap=f,this.#ar=g,this.#ay=h,this.#au=i,this.#aj=j,this.#an=k,this.#aq=l,this.#ak=m,this.#ax=n,this.#at=o,this.#al=p,this.#ao=q,this.#y=r,this.#am=s;let t=bj(a);this.#aG=-16&this.#aG|t|32,0!==t&&4!==t&&10!==t&&(this.#aG|=64)}#aY=[];#aZ=!1;#a$(a){this.#aZ=!1;let b=this.#aY.slice();this.#aY.length=0,b.forEach(b=>b(null,a))}readdirCB(a,b=!1){if(!this.canReaddir())return void(b?a(null,[]):queueMicrotask(()=>a(null,[])));let c=this.children();if(this.calledReaddir()){let d=c.slice(0,c.provisional);b?a(null,d):queueMicrotask(()=>a(null,d));return}if(this.#aY.push(a),this.#aZ)return;this.#aZ=!0;let d=this.fullpath();this.#ai.readdir(d,{withFileTypes:!0},(a,b)=>{if(a)this.#aR(a.code),c.provisional=0;else{for(let a of b)this.#aT(a,c);this.#aM(c)}this.#a$(c.slice(0,c.provisional))})}#a_;async readdir(){if(!this.canReaddir())return[];let a=this.children();if(this.calledReaddir())return a.slice(0,a.provisional);let b=this.fullpath();if(this.#a_)await this.#a_;else{let c=()=>{};this.#a_=new Promise(a=>c=a);try{for(let c of(await this.#ai.promises.readdir(b,{withFileTypes:!0})))this.#aT(c,a);this.#aM(a)}catch(b){this.#aR(b.code),a.provisional=0}this.#a_=void 0,c()}return a.slice(0,a.provisional)}readdirSync(){if(!this.canReaddir())return[];let a=this.children();if(this.calledReaddir())return a.slice(0,a.provisional);let b=this.fullpath();try{for(let c of this.#ai.readdirSync(b,{withFileTypes:!0}))this.#aT(c,a);this.#aM(a)}catch(b){this.#aR(b.code),a.provisional=0}return a.slice(0,a.provisional)}canReaddir(){if(704&this.#aG)return!1;let a=15&this.#aG;return 0===a||4===a||10===a}shouldWalk(a,b){return(4&this.#aG)==4&&!(704&this.#aG)&&!a.has(this)&&(!b||b(this))}async realpath(){if(this.#aJ)return this.#aJ;if(!(896&this.#aG))try{let a=await this.#ai.promises.realpath(this.fullpath());return this.#aJ=this.resolve(a)}catch(a){this.#aP()}}realpathSync(){if(this.#aJ)return this.#aJ;if(!(896&this.#aG))try{let a=this.#ai.realpathSync(this.fullpath());return this.#aJ=this.resolve(a)}catch(a){this.#aP()}}[bq](a){if(a===this)return;a.isCWD=!1,this.isCWD=!0;let b=new Set([]),c=[],d=this;for(;d&&d.parent;)b.add(d),d.#aE=c.join(this.sep),d.#aF=c.join("/"),d=d.parent,c.push("..");for(d=a;d&&d.parent&&!b.has(d);)d.#aE=void 0,d.#aF=void 0,d=d.parent}}class bs extends br{sep="\\";splitSep=bi;constructor(a,b=0,c,d,e,f,g){super(a,b,c,d,e,f,g)}newChild(a,b=0,c={}){return new bs(a,b,this.root,this.roots,this.nocase,this.childrenCache(),c)}getRootString(a){return av.win32.parse(a).root}getRoot(a){if((a=a.toUpperCase().replace(/\//g,"\\").replace(bh,"$1\\"))===this.root.name)return this.root;for(let[b,c]of Object.entries(this.roots))if(this.sameRoot(a,b))return this.roots[a]=c;return this.roots[a]=new bv(a,this).root}sameRoot(a,b=this.root.name){return(a=a.toUpperCase().replace(/\//g,"\\").replace(bh,"$1\\"))===b}}class bt extends br{splitSep="/";sep="/";constructor(a,b=0,c,d,e,f,g){super(a,b,c,d,e,f,g)}getRootString(a){return a.startsWith("/")?"/":""}getRoot(a){return this.root}newChild(a,b=0,c={}){return new bt(a,b,this.root,this.roots,this.nocase,this.childrenCache(),c)}}class bu{root;rootPath;roots;cwd;#a0;#a1;#aH;nocase;#ai;constructor(a=process.cwd(),b,c,{nocase:d,childrenCacheSize:e=16384,fs:f=bf}={}){this.#ai=bg(f),(a instanceof URL||a.startsWith("file://"))&&(a=(0,aj.fileURLToPath)(a));const g=b.resolve(a);this.roots=Object.create(null),this.rootPath=this.parseRootPath(g),this.#a0=new bo,this.#a1=new bo,this.#aH=new bp(e);const h=g.substring(this.rootPath.length).split(c);if(1!==h.length||h[0]||h.pop(),void 0===d)throw TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=d,this.root=this.newRoot(this.#ai),this.roots[this.rootPath]=this.root;let i=this.root,j=h.length-1;const k=b.sep;let l=this.rootPath,m=!1;for(const a of h){const b=j--;i=i.child(a,{relative:Array(b).fill("..").join(k),relativePosix:Array(b).fill("..").join("/"),fullpath:l+=(m?"":k)+a}),m=!0}this.cwd=i}depth(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.depth()}childrenCache(){return this.#aH}resolve(...a){let b="";for(let c=a.length-1;c>=0;c--){let d=a[c];if(d&&"."!==d&&(b=b?`${d}/${b}`:d,this.isAbsolute(d)))break}let c=this.#a0.get(b);if(void 0!==c)return c;let d=this.cwd.resolve(b).fullpath();return this.#a0.set(b,d),d}resolvePosix(...a){let b="";for(let c=a.length-1;c>=0;c--){let d=a[c];if(d&&"."!==d&&(b=b?`${d}/${b}`:d,this.isAbsolute(d)))break}let c=this.#a1.get(b);if(void 0!==c)return c;let d=this.cwd.resolve(b).fullpathPosix();return this.#a1.set(b,d),d}relative(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.relative()}relativePosix(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.relativePosix()}basename(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.name}dirname(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),(a.parent||a).fullpath()}async readdir(a=this.cwd,b={withFileTypes:!0}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c}=b;if(!a.canReaddir())return[];{let b=await a.readdir();return c?b:b.map(a=>a.name)}}readdirSync(a=this.cwd,b={withFileTypes:!0}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c=!0}=b;return a.canReaddir()?c?a.readdirSync():a.readdirSync().map(a=>a.name):[]}async lstat(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.lstat()}lstatSync(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.lstatSync()}async readlink(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a.withFileTypes,a=this.cwd);let c=await a.readlink();return b?c:c?.fullpath()}readlinkSync(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a.withFileTypes,a=this.cwd);let c=a.readlinkSync();return b?c:c?.fullpath()}async realpath(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a.withFileTypes,a=this.cwd);let c=await a.realpath();return b?c:c?.fullpath()}realpathSync(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a.withFileTypes,a=this.cwd);let c=a.realpathSync();return b?c:c?.fullpath()}async walk(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=[];(!e||e(a))&&g.push(c?a:a.fullpath());let h=new Set,i=(a,b)=>{h.add(a),a.readdirCB((a,j)=>{if(a)return b(a);let k=j.length;if(!k)return b();let l=()=>{0==--k&&b()};for(let a of j)(!e||e(a))&&g.push(c?a:a.fullpath()),d&&a.isSymbolicLink()?a.realpath().then(a=>a?.isUnknown()?a.lstat():a).then(a=>a?.shouldWalk(h,f)?i(a,l):l()):a.shouldWalk(h,f)?i(a,l):l()},!0)},j=a;return new Promise((a,b)=>{i(j,c=>{if(c)return b(c);a(g)})})}walkSync(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=[];(!e||e(a))&&g.push(c?a:a.fullpath());let h=new Set([a]);for(let a of h)for(let b of a.readdirSync()){(!e||e(b))&&g.push(c?b:b.fullpath());let a=b;if(b.isSymbolicLink()){if(!(d&&(a=b.realpathSync())))continue;a.isUnknown()&&a.lstatSync()}a.shouldWalk(h,f)&&h.add(a)}return g}[Symbol.asyncIterator](){return this.iterate()}iterate(a=this.cwd,b={}){return"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd),this.stream(a,b)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b;(!e||e(a))&&(yield c?a:a.fullpath());let g=new Set([a]);for(let a of g)for(let b of a.readdirSync()){(!e||e(b))&&(yield c?b:b.fullpath());let a=b;if(b.isSymbolicLink()){if(!(d&&(a=b.realpathSync())))continue;a.isUnknown()&&a.lstatSync()}a.shouldWalk(g,f)&&g.add(a)}}stream(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=new bd({objectMode:!0});(!e||e(a))&&g.write(c?a:a.fullpath());let h=new Set,i=[a],j=0,k=()=>{let a=!1;for(;!a;){let b=i.shift();if(!b){0===j&&g.end();return}j++,h.add(b);let l=(b,n,o=!1)=>{if(b)return g.emit("error",b);if(d&&!o){let a=[];for(let b of n)b.isSymbolicLink()&&a.push(b.realpath().then(a=>a?.isUnknown()?a.lstat():a));if(a.length)return void Promise.all(a).then(()=>l(null,n,!0))}for(let b of n)b&&(!e||e(b))&&!g.write(c?b:b.fullpath())&&(a=!0);for(let a of(j--,n)){let b=a.realpathCached()||a;b.shouldWalk(h,f)&&i.push(b)}a&&!g.flowing?g.once("drain",k):m||k()},m=!0;b.readdirCB(l,!0),m=!1}};return k(),g}streamSync(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof br||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=new bd({objectMode:!0}),h=new Set;(!e||e(a))&&g.write(c?a:a.fullpath());let i=[a],j=0,k=()=>{let a=!1;for(;!a;){let b=i.shift();if(!b){0===j&&g.end();return}j++,h.add(b);let k=b.readdirSync();for(let b of k)(!e||e(b))&&!g.write(c?b:b.fullpath())&&(a=!0);for(let a of(j--,k)){let b=a;if(a.isSymbolicLink()){if(!(d&&(b=a.realpathSync())))continue;b.isUnknown()&&b.lstatSync()}b.shouldWalk(h,f)&&i.push(b)}}a&&!g.flowing&&g.once("drain",k)};return k(),g}chdir(a=this.cwd){let b=this.cwd;this.cwd="string"==typeof a?this.cwd.resolve(a):a,this.cwd[bq](b)}}class bv extends bu{sep="\\";constructor(a=process.cwd(),b={}){const{nocase:c=!0}=b;super(a,av.win32,"\\",{...b,nocase:c}),this.nocase=c;for(let a=this.cwd;a;a=a.parent)a.nocase=this.nocase}parseRootPath(a){return av.win32.parse(a).root.toUpperCase()}newRoot(a){return new bs(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:a})}isAbsolute(a){return a.startsWith("/")||a.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(a)}}class bw extends bu{sep="/";constructor(a=process.cwd(),b={}){const{nocase:c=!1}=b;super(a,av.posix,"/",{...b,nocase:c}),this.nocase=c}parseRootPath(a){return"/"}newRoot(a){return new bt(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:a})}isAbsolute(a){return a.startsWith("/")}}class bx extends bw{constructor(a=process.cwd(),b={}){const{nocase:c=!0}=b;super(a,{...b,nocase:c})}}class by{#a2;#a3;#a4;length;#a5;#a6;#a7;#a8;#a9;#ba;#bb=!0;constructor(a,b,c,d){if(!(a=>a.length>=1)(a))throw TypeError("empty pattern list");if(!(a=>a.length>=1)(b))throw TypeError("empty glob list");if(b.length!==a.length)throw TypeError("mismatched pattern list and glob list lengths");if(this.length=a.length,c<0||c>=this.length)throw TypeError("index out of range");if(this.#a2=a,this.#a3=b,this.#a4=c,this.#a5=d,0===this.#a4){if(this.isUNC()){const[a,b,c,d,...e]=this.#a2,[f,g,h,i,...j]=this.#a3;""===e[0]&&(e.shift(),j.shift());const k=[a,b,c,d,""].join("/"),l=[f,g,h,i,""].join("/");this.#a2=[k,...e],this.#a3=[l,...j],this.length=this.#a2.length}else if(this.isDrive()||this.isAbsolute()){const[a,...b]=this.#a2,[c,...d]=this.#a3;""===b[0]&&(b.shift(),d.shift()),this.#a2=[a+"/",...b],this.#a3=[c+"/",...d],this.length=this.#a2.length}}}pattern(){return this.#a2[this.#a4]}isString(){return"string"==typeof this.#a2[this.#a4]}isGlobstar(){return this.#a2[this.#a4]===ae}isRegExp(){return this.#a2[this.#a4]instanceof RegExp}globString(){return this.#a7=this.#a7||(0===this.#a4?this.isAbsolute()?this.#a3[0]+this.#a3.slice(1).join("/"):this.#a3.join("/"):this.#a3.slice(this.#a4).join("/"))}hasMore(){return this.length>this.#a4+1}rest(){return void 0!==this.#a6?this.#a6:this.hasMore()?(this.#a6=new by(this.#a2,this.#a3,this.#a4+1,this.#a5),this.#a6.#ba=this.#ba,this.#a6.#a9=this.#a9,this.#a6.#a8=this.#a8,this.#a6):this.#a6=null}isUNC(){let a=this.#a2;return void 0!==this.#a9?this.#a9:this.#a9="win32"===this.#a5&&0===this.#a4&&""===a[0]&&""===a[1]&&"string"==typeof a[2]&&!!a[2]&&"string"==typeof a[3]&&!!a[3]}isDrive(){let a=this.#a2;return void 0!==this.#a8?this.#a8:this.#a8="win32"===this.#a5&&0===this.#a4&&this.length>1&&"string"==typeof a[0]&&/^[a-z]:$/i.test(a[0])}isAbsolute(){let a=this.#a2;return void 0!==this.#ba?this.#ba:this.#ba=""===a[0]&&a.length>1||this.isDrive()||this.isUNC()}root(){let a=this.#a2[0];return"string"==typeof a&&this.isAbsolute()&&0===this.#a4?a:""}checkFollowGlobstar(){return!(0===this.#a4||!this.isGlobstar()||!this.#bb)}markFollowGlobstar(){return 0!==this.#a4&&!!this.isGlobstar()&&!!this.#bb&&(this.#bb=!1,!0)}}let bz="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class bA{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(a,{nobrace:b,nocase:c,noext:d,noglobstar:e,platform:f=bz}){for(const g of(this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=f,this.mmopts={dot:!0,nobrace:b,nocase:c,noext:d,noglobstar:e,optimizationLevel:2,platform:f,nocomment:!0,nonegate:!0},a))this.add(g)}add(a){let b=new ai(a,this.mmopts);for(let a=0;a<b.set.length;a++){let c=b.set[a],d=b.globParts[a];if(!c||!d)throw Error("invalid pattern object");for(;"."===c[0]&&"."===d[0];)c.shift(),d.shift();let e=new by(c,d,0,this.platform),f=new ai(e.globString(),this.mmopts),g="**"===d[d.length-1],h=e.isAbsolute();h?this.absolute.push(f):this.relative.push(f),g&&(h?this.absoluteChildren.push(f):this.relativeChildren.push(f))}}ignored(a){let b=a.fullpath(),c=`${b}/`,d=a.relative()||".",e=`${d}/`;for(let a of this.relative)if(a.match(d)||a.match(e))return!0;for(let a of this.absolute)if(a.match(b)||a.match(c))return!0;return!1}childrenIgnored(a){let b=a.fullpath()+"/",c=(a.relative()||".")+"/";for(let a of this.relativeChildren)if(a.match(c))return!0;for(let a of this.absoluteChildren)if(a.match(b))return!0;return!1}}class bB{store;constructor(a=new Map){this.store=a}copy(){return new bB(new Map(this.store))}hasWalked(a,b){return this.store.get(a.fullpath())?.has(b.globString())}storeWalked(a,b){let c=a.fullpath(),d=this.store.get(c);d?d.add(b.globString()):this.store.set(c,new Set([b.globString()]))}}class bC{store=new Map;add(a,b,c){let d=2*!!b|!!c,e=this.store.get(a);this.store.set(a,void 0===e?d:d&e)}entries(){return[...this.store.entries()].map(([a,b])=>[a,!!(2&b),!!(1&b)])}}class bD{store=new Map;add(a,b){if(!a.canReaddir())return;let c=this.store.get(a);c?c.find(a=>a.globString()===b.globString())||c.push(b):this.store.set(a,[b])}get(a){let b=this.store.get(a);if(!b)throw Error("attempting to walk unknown path");return b}entries(){return this.keys().map(a=>[a,this.store.get(a)])}keys(){return[...this.store.keys()].filter(a=>a.canReaddir())}}class bE{hasWalkedCache;matches=new bC;subwalks=new bD;patterns;follow;dot;opts;constructor(a,b){this.opts=a,this.follow=!!a.follow,this.dot=!!a.dot,this.hasWalkedCache=b?b.copy():new bB}processPatterns(a,b){for(let[c,d]of(this.patterns=b,b.map(b=>[a,b]))){let a,b;this.hasWalkedCache.storeWalked(c,d);let e=d.root(),f=d.isAbsolute()&&!1!==this.opts.absolute;if(e){c=c.resolve("/"===e&&void 0!==this.opts.root?this.opts.root:e);let a=d.rest();if(a)d=a;else{this.matches.add(c,!0,!1);continue}}if(c.isENOENT())continue;let g=!1;for(;"string"==typeof(a=d.pattern())&&(b=d.rest());)c=c.resolve(a),d=b,g=!0;if(a=d.pattern(),b=d.rest(),g){if(this.hasWalkedCache.hasWalked(c,d))continue;this.hasWalkedCache.storeWalked(c,d)}if("string"==typeof a){let b=".."===a||""===a||"."===a;this.matches.add(c.resolve(a),f,b);continue}if(a===ae){(!c.isSymbolicLink()||this.follow||d.checkFollowGlobstar())&&this.subwalks.add(c,d);let a=b?.pattern(),e=b?.rest();if(b&&(""!==a&&"."!==a||e)){if(".."===a){let a=c.parent||c;e?this.hasWalkedCache.hasWalked(a,e)||this.subwalks.add(a,e):this.matches.add(a,f,!0)}}else this.matches.add(c,f,""===a||"."===a)}else a instanceof RegExp&&this.subwalks.add(c,d)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new bE(this.opts,this.hasWalkedCache)}filterEntries(a,b){let c=this.subwalks.get(a),d=this.child();for(let a of b)for(let b of c){let c=b.isAbsolute(),e=b.pattern(),f=b.rest();e===ae?d.testGlobstar(a,b,f,c):e instanceof RegExp?d.testRegExp(a,e,f,c):d.testString(a,e,f,c)}return d}testGlobstar(a,b,c,d){if((this.dot||!a.name.startsWith("."))&&(b.hasMore()||this.matches.add(a,d,!1),a.canReaddir()&&(this.follow||!a.isSymbolicLink()?this.subwalks.add(a,b):a.isSymbolicLink()&&(c&&b.checkFollowGlobstar()?this.subwalks.add(a,c):b.markFollowGlobstar()&&this.subwalks.add(a,b)))),c){let b=c.pattern();if("string"==typeof b&&".."!==b&&""!==b&&"."!==b)this.testString(a,b,c.rest(),d);else if(".."===b){let b=a.parent||a;this.subwalks.add(b,c)}else b instanceof RegExp&&this.testRegExp(a,b,c.rest(),d)}}testRegExp(a,b,c,d){b.test(a.name)&&(c?this.subwalks.add(a,c):this.matches.add(a,d,!1))}testString(a,b,c,d){a.isNamed(b)&&(c?this.subwalks.add(a,c):this.matches.add(a,d,!1))}}class bF{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#bc=[];#bd;#be;signal;maxDepth;includeChildMatches;constructor(a,b,c){if(this.patterns=a,this.path=b,this.opts=c,this.#be=c.posix||"win32"!==c.platform?"/":"\\",this.includeChildMatches=!1!==c.includeChildMatches,(c.ignore||!this.includeChildMatches)&&(this.#bd=((a,b)=>"string"==typeof a?new bA([a],b):Array.isArray(a)?new bA(a,b):a)(c.ignore??[],c),!this.includeChildMatches&&"function"!=typeof this.#bd.add))throw Error("cannot ignore child matches, ignore lacks add() method.");this.maxDepth=c.maxDepth||1/0,c.signal&&(this.signal=c.signal,this.signal.addEventListener("abort",()=>{this.#bc.length=0}))}#bf(a){return this.seen.has(a)||!!this.#bd?.ignored?.(a)}#bg(a){return!!this.#bd?.childrenIgnored?.(a)}pause(){this.paused=!0}resume(){let a;if(!this.signal?.aborted)for(this.paused=!1;!this.paused&&(a=this.#bc.shift());)a()}onResume(a){this.signal?.aborted||(this.paused?this.#bc.push(a):a())}async matchCheck(a,b){let c;if(b&&this.opts.nodir)return;if(this.opts.realpath){if(!(c=a.realpathCached()||await a.realpath()))return;a=c}let d=a.isUnknown()||this.opts.stat?await a.lstat():a;if(this.opts.follow&&this.opts.nodir&&d?.isSymbolicLink()){let a=await d.realpath();a&&(a.isUnknown()||this.opts.stat)&&await a.lstat()}return this.matchCheckTest(d,b)}matchCheckTest(a,b){return a&&(this.maxDepth===1/0||a.depth()<=this.maxDepth)&&(!b||a.canReaddir())&&(!this.opts.nodir||!a.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!a.isSymbolicLink()||!a.realpathCached()?.isDirectory())&&!this.#bf(a)?a:void 0}matchCheckSync(a,b){let c;if(b&&this.opts.nodir)return;if(this.opts.realpath){if(!(c=a.realpathCached()||a.realpathSync()))return;a=c}let d=a.isUnknown()||this.opts.stat?a.lstatSync():a;if(this.opts.follow&&this.opts.nodir&&d?.isSymbolicLink()){let a=d.realpathSync();a&&(a?.isUnknown()||this.opts.stat)&&a.lstatSync()}return this.matchCheckTest(d,b)}matchFinish(a,b){if(this.#bf(a))return;if(!this.includeChildMatches&&this.#bd?.add){let b=`${a.relativePosix()}/**`;this.#bd.add(b)}let c=void 0===this.opts.absolute?b:this.opts.absolute;this.seen.add(a);let d=this.opts.mark&&a.isDirectory()?this.#be:"";if(this.opts.withFileTypes)this.matchEmit(a);else if(c){let b=this.opts.posix?a.fullpathPosix():a.fullpath();this.matchEmit(b+d)}else{let b=this.opts.posix?a.relativePosix():a.relative(),c=this.opts.dotRelative&&!b.startsWith(".."+this.#be)?"."+this.#be:"";this.matchEmit(b?c+b+d:"."+d)}}async match(a,b,c){let d=await this.matchCheck(a,c);d&&this.matchFinish(d,b)}matchSync(a,b,c){let d=this.matchCheckSync(a,c);d&&this.matchFinish(d,b)}walkCB(a,b,c){this.signal?.aborted&&c(),this.walkCB2(a,b,new bE(this.opts),c)}walkCB2(a,b,c,d){if(this.#bg(a))return d();if(this.signal?.aborted&&d(),this.paused)return void this.onResume(()=>this.walkCB2(a,b,c,d));c.processPatterns(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||(e++,this.match(a,b,d).then(()=>f()));for(let a of c.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;e++;let b=a.readdirCached();a.calledReaddir()?this.walkCB3(a,b,c,f):a.readdirCB((b,d)=>this.walkCB3(a,d,c,f),!0)}f()}walkCB3(a,b,c,d){c=c.filterEntries(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||(e++,this.match(a,b,d).then(()=>f()));for(let[a,b]of c.subwalks.entries())e++,this.walkCB2(a,b,c.child(),f);f()}walkCBSync(a,b,c){this.signal?.aborted&&c(),this.walkCB2Sync(a,b,new bE(this.opts),c)}walkCB2Sync(a,b,c,d){if(this.#bg(a))return d();if(this.signal?.aborted&&d(),this.paused)return void this.onResume(()=>this.walkCB2Sync(a,b,c,d));c.processPatterns(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||this.matchSync(a,b,d);for(let a of c.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;e++;let b=a.readdirSync();this.walkCB3Sync(a,b,c,f)}f()}walkCB3Sync(a,b,c,d){c=c.filterEntries(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||this.matchSync(a,b,d);for(let[a,b]of c.subwalks.entries())e++,this.walkCB2Sync(a,b,c.child(),f);f()}}class bG extends bF{matches=new Set;constructor(a,b,c){super(a,b,c)}matchEmit(a){this.matches.add(a)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((a,b)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?b(this.signal.reason):a(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}class bH extends bF{results;constructor(a,b,c){super(a,b,c),this.results=new bd({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(a){this.results.write(a),this.results.flowing||this.pause()}stream(){let a=this.path;return a.isUnknown()?a.lstat().then(()=>{this.walkCB(a,this.patterns,()=>this.results.end())}):this.walkCB(a,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}let bI="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class bJ{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(a,b){if(!b)throw TypeError("glob options required");if(this.withFileTypes=!!b.withFileTypes,this.signal=b.signal,this.follow=!!b.follow,this.dot=!!b.dot,this.dotRelative=!!b.dotRelative,this.nodir=!!b.nodir,this.mark=!!b.mark,b.cwd?(b.cwd instanceof URL||b.cwd.startsWith("file://"))&&(b.cwd=(0,aj.fileURLToPath)(b.cwd)):this.cwd="",this.cwd=b.cwd||"",this.root=b.root,this.magicalBraces=!!b.magicalBraces,this.nobrace=!!b.nobrace,this.noext=!!b.noext,this.realpath=!!b.realpath,this.absolute=b.absolute,this.includeChildMatches=!1!==b.includeChildMatches,this.noglobstar=!!b.noglobstar,this.matchBase=!!b.matchBase,this.maxDepth="number"==typeof b.maxDepth?b.maxDepth:1/0,this.stat=!!b.stat,this.ignore=b.ignore,this.withFileTypes&&void 0!==this.absolute)throw Error("cannot set absolute and withFileTypes:true");if("string"==typeof a&&(a=[a]),this.windowsPathsNoEscape=!!b.windowsPathsNoEscape||!1===b.allowWindowsEscape,this.windowsPathsNoEscape&&(a=a.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(b.noglobstar)throw TypeError("base matching requires globstar");a=a.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=a,this.platform=b.platform||bI,this.opts={...b,platform:this.platform},b.scurry){if(this.scurry=b.scurry,void 0!==b.nocase&&b.nocase!==b.scurry.nocase)throw Error("nocase option contradicts provided scurry option")}else{const a="win32"===b.platform?bv:"darwin"===b.platform?bx:(b.platform,bw);this.scurry=new a(this.cwd,{nocase:b.nocase,fs:b.fs})}this.nocase=this.scurry.nocase;const c="darwin"===this.platform||"win32"===this.platform,d={...b,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:c,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},[e,f]=this.pattern.map(a=>new ai(a,d)).reduce((a,b)=>(a[0].push(...b.set),a[1].push(...b.globParts),a),[[],[]]);this.patterns=e.map((a,b)=>{let c=f[b];if(!c)throw Error("invalid pattern object");return new by(a,c,0,this.platform)})}async walk(){return[...await new bG(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new bG(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new bH(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new bH(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function bK(a,b={}){return new bJ(a,b).streamSync()}function bL(a,b={}){return new bJ(a,b).stream()}function bM(a,b={}){return new bJ(a,b).walkSync()}async function bN(a,b={}){return new bJ(a,b).walk()}function bO(a,b={}){return new bJ(a,b).iterateSync()}function bP(a,b={}){return new bJ(a,b).iterate()}let bQ=Object.assign(bL,{sync:bK}),bR=Object.assign(bP,{sync:bO}),bS=Object.assign(bM,{stream:bK,iterate:bO}),bT=Object.assign(bN,{glob:bN,globSync:bM,sync:bS,globStream:bL,stream:bQ,globStreamSync:bK,streamSync:bK,globIterate:bP,iterate:bR,globIterateSync:bO,iterateSync:bO,Glob:bJ,hasMagic:(a,b={})=>{for(let c of(Array.isArray(a)||(a=[a]),a))if(new ai(c,b).hasMagic())return!0;return!1},escape:R,unescape:F});bT.glob=bT;let bU=["/home/ubuntu/clawd/.brv/canonical-memory","/home/ubuntu/clawd/memory"];async function bV(){let a=[];for(let d of bU)try{for(let e of(await bT("**/*.md",{cwd:d,absolute:!0})))try{let f=await b.default.readFile(e,"utf-8"),g=await b.default.stat(e),h=f.match(/^#\s+(.+)$/m),i=h?h[1]:c.default.basename(e,".md"),j=(f.match(/\[\[([^\]]+)\]\]|\[([^\]]+)\]\(([^)]+)\)/g)||[]).map(a=>a.replace(/[\[\]()]/g,"")),k=c.default.relative(d,e).split("/")[0]||"general";a.push({id:Buffer.from(e).toString("base64"),title:i,path:e,content:f,category:k,lastModified:g.mtime,links:j})}catch(a){console.error(`Error reading ${e}:`,a)}}catch(a){console.error(`Error scanning ${d}:`,a)}return a.sort((a,b)=>b.lastModified.getTime()-a.lastModified.getTime())}async function bW(a){return(await bV()).find(b=>b.id===a)||null}async function bX(){return(await bV()).filter(a=>a.path.includes("memory/")&&(a.title.match(/^\d{4}-\d{2}-\d{2}/)||a.path.match(/\d{4}-\d{2}-\d{2}/))).sort((a,b)=>b.lastModified.getTime()-a.lastModified.getTime())}a.s(["getAllDocuments",()=>bV,"getDocumentById",()=>bW,"getJournalEntries",()=>bX],59084);let bY=(0,a.i(74803).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>bY],60225)}];

//# sourceMappingURL=d584f_builds_20260205-second-brain_second-brain_lib_documents_ts_d7cde656._.js.map