module.exports=[72629,a=>{"use strict";var b,c=a.i(62346),d=a.i(39731),e={value:()=>{}};function f(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d||/[\s.]/.test(a))throw Error("illegal type: "+a);d[a]=[]}return new g(d)}function g(a){this._=a}function h(a,b,c){for(var d=0,f=a.length;d<f;++d)if(a[d].name===b){a[d]=e,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function i(){}function j(a){return null==a?i:function(){return this.querySelector(a)}}function k(){return[]}function l(a){return null==a?k:function(){return this.querySelectorAll(a)}}function m(a){return function(){return this.matches(a)}}function n(a){return function(b){return b.matches(a)}}g.prototype=f.prototype={constructor:g,on:function(a,b){var c,d=this._,e=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");if(c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),a&&!d.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:b}}),f=-1,g=e.length;if(arguments.length<2){for(;++f<g;)if((c=(a=e[f]).type)&&(c=function(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}(d[c],a.name)))return c;return}if(null!=b&&"function"!=typeof b)throw Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=h(d[c],a.name,b);else if(null==b)for(c in d)d[c]=h(d[c],a.name,null);return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new g(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var o=Array.prototype.find;function p(){return this.firstElementChild}var q=Array.prototype.filter;function r(){return Array.from(this.children)}function s(a){return Array(a.length)}function t(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function u(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new t(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function v(a,b,c,d,e,f,g){var h,i,j,k=new Map,l=b.length,m=f.length,n=Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=g.call(i,i.__data__,h,b)+"",k.has(j)?e[h]=i:k.set(j,i));for(h=0;h<m;++h)j=g.call(a,f[h],h,f)+"",(i=k.get(j))?(d[h]=i,i.__data__=f[h],k.delete(j)):c[h]=new t(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(n[h])===i&&(e[h]=i)}function w(a){return a.__data__}function x(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}t.prototype={constructor:t,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var y="http://www.w3.org/1999/xhtml";let z={svg:"http://www.w3.org/2000/svg",xhtml:y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function A(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),z.hasOwnProperty(b)?{space:z[b],local:a}:a}function B(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function C(a,b){return a.style.getPropertyValue(b)||B(a).getComputedStyle(a,null).getPropertyValue(b)}function D(a){return a.trim().split(/^|\s+/)}function E(a){return a.classList||new F(a)}function F(a){this._node=a,this._names=D(a.getAttribute("class")||"")}function G(a,b){for(var c=E(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function H(a,b){for(var c=E(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function I(){this.textContent=""}function J(){this.innerHTML=""}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M(a){var b=A(a);return(b.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===y&&b.documentElement.namespaceURI===y?b.createElement(a):b.createElementNS(c,a)}})(b)}function N(){return null}function O(){var a=this.parentNode;a&&a.removeChild(this)}function P(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Q(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function R(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)(c=b[d],a.type&&c.type!==a.type||c.name!==a.name)?b[++e]=c:this.removeEventListener(c.type,c.listener,c.options);++e?b.length=e:delete this.__on}}}function S(a,b,c){return function(){var d,e=this.__on,f=function(a){b.call(this,a,this.__data__)};if(e){for(var g=0,h=e.length;g<h;++g)if((d=e[g]).type===a.type&&d.name===a.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=c),d.value=b;return}}this.addEventListener(a.type,f,c),d={type:a.type,name:a.name,value:b,listener:f,options:c},e?e.push(d):this.__on=[d]}}function T(a,b,c){var d=B(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}F.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var U=[null];function V(a,b){this._groups=a,this._parents=b}function W(){return new V([[document.documentElement]],U)}function X(a){return"string"==typeof a?new V([[document.querySelector(a)]],[document.documentElement]):new V([[a]],U)}V.prototype=W.prototype={constructor:V,select:function(a){"function"!=typeof a&&(a=j(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,k=d[e]=Array(i),l=0;l<i;++l)(f=h[l])&&(g=a.call(f,f.__data__,l,h))&&("__data__"in f&&(g.__data__=f.__data__),k[l]=g);return new V(d,this._parents)},selectAll:function(a){if("function"==typeof a){var b;b=a,a=function(){var a;return a=b.apply(this,arguments),null==a?[]:Array.isArray(a)?a:Array.from(a)}}else a=l(a);for(var c=this._groups,d=c.length,e=[],f=[],g=0;g<d;++g)for(var h,i=c[g],j=i.length,k=0;k<j;++k)(h=i[k])&&(e.push(a.call(h,h.__data__,k,i)),f.push(h));return new V(e,f)},selectChild:function(a){var b;return this.select(null==a?p:(b="function"==typeof a?a:n(a),function(){return o.call(this.children,b)}))},selectChildren:function(a){var b;return this.selectAll(null==a?r:(b="function"==typeof a?a:n(a),function(){return q.call(this.children,b)}))},filter:function(a){"function"!=typeof a&&(a=m(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new V(d,this._parents)},data:function(a,b){if(!arguments.length)return Array.from(this,w);var c=b?v:u,d=this._parents,e=this._groups;"function"!=typeof a&&(s=a,a=function(){return s});for(var f=e.length,g=Array(f),h=Array(f),i=Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n="object"==typeof(r=a.call(k,k&&k.__data__,j,d))&&"length"in r?r:Array.from(r),o=n.length,p=h[j]=Array(o),q=g[j]=Array(o);c(k,l,p,q,i[j]=Array(m),n,b);for(var r,s,t,x,y=0,z=0;y<o;++y)if(t=p[y]){for(y>=z&&(z=y+1);!(x=q[z])&&++z<o;);t._next=x||null}}return(g=new V(g,d))._enter=h,g._exit=i,g},enter:function(){return new V(this._enter||this._groups.map(s),this._parents)},exit:function(){return new V(this._exit||this._groups.map(s),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,f=this.exit();return"function"==typeof a?(d=a(d))&&(d=d.selection()):d=d.append(a+""),null!=b&&(e=b(e))&&(e=e.selection()),null==c?f.remove():c(f),d&&e?d.merge(e).order():e},merge:function(a){for(var b=a.selection?a.selection():a,c=this._groups,d=b._groups,e=c.length,f=d.length,g=Math.min(e,f),h=Array(e),i=0;i<g;++i)for(var j,k=c[i],l=d[i],m=k.length,n=h[i]=Array(m),o=0;o<m;++o)(j=k[o]||l[o])&&(n[o]=j);for(;i<e;++i)h[i]=c[i];return new V(h,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&4^d.compareDocumentPosition(g)&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=x);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new V(e,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){let a=0;for(let b of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},attr:function(a,b){var c=A(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?c.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:c.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(c,b))},style:function(a,b,c){return arguments.length>1?this.each((null==b?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof b?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(a,b,null==c?"":c)):C(this.node(),a)},property:function(a,b){return arguments.length>1?this.each((null==b?function(a){return function(){delete this[a]}}:"function"==typeof b?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(a,b)):this.node()[a]},classed:function(a,b){var c=D(a+"");if(arguments.length<2){for(var d=E(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?function(a,b){return function(){(b.apply(this,arguments)?G:H)(this,a)}}:b?function(a){return function(){G(this,a)}}:function(a){return function(){H(this,a)}})(c,b))},text:function(a){return arguments.length?this.each(null==a?I:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?J:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(K)},lower:function(){return this.each(L)},append:function(a){var b="function"==typeof a?a:M(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:M(a),d=null==b?N:"function"==typeof b?b:j(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(O)},clone:function(a){return this.select(a?Q:P)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d,e,f=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}}),g=f.length;if(arguments.length<2){var h=this.node().__on;if(h){for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}return}for(d=0,h=b?S:R;d<g;++d)this.each(h(f[d],b,c));return this},dispatch:function(a,b){return this.each(("function"==typeof b?function(a,b){return function(){return T(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return T(this,a,b)}})(a,b))},[Symbol.iterator]:function*(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)(d=e[f])&&(yield d)}};let Y={passive:!1},Z={capture:!0,passive:!1};function $(a){a.stopImmediatePropagation()}function _(a){a.preventDefault(),a.stopImmediatePropagation()}function aa(a){var b=a.document.documentElement,c=X(a).on("dragstart.drag",_,Z);"onselectstart"in b?c.on("selectstart.drag",_,Z):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function ab(a,b){var c=a.document.documentElement,d=X(a).on("dragstart.drag",null);b&&(d.on("click.drag",_,Z),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}function ac(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function ad(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function ae(){}var af="\\s*([+-]?\\d+)\\s*",ag="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ai=/^#([0-9a-f]{3,8})$/,aj=RegExp(`^rgb\\(${af},${af},${af}\\)$`),ak=RegExp(`^rgb\\(${ah},${ah},${ah}\\)$`),al=RegExp(`^rgba\\(${af},${af},${af},${ag}\\)$`),am=RegExp(`^rgba\\(${ah},${ah},${ah},${ag}\\)$`),an=RegExp(`^hsl\\(${ag},${ah},${ah}\\)$`),ao=RegExp(`^hsla\\(${ag},${ah},${ah},${ag}\\)$`),ap={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function aq(){return this.rgb().formatHex()}function ar(){return this.rgb().formatRgb()}function as(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=ai.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?at(b):3===c?new aw(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?au(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?au(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=aj.exec(a))?new aw(b[1],b[2],b[3],1):(b=ak.exec(a))?new aw(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=al.exec(a))?au(b[1],b[2],b[3],b[4]):(b=am.exec(a))?au(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=an.exec(a))?aC(b[1],b[2]/100,b[3]/100,1):(b=ao.exec(a))?aC(b[1],b[2]/100,b[3]/100,b[4]):ap.hasOwnProperty(a)?at(ap[a]):"transparent"===a?new aw(NaN,NaN,NaN,0):null}function at(a){return new aw(a>>16&255,a>>8&255,255&a,1)}function au(a,b,c,d){return d<=0&&(a=b=c=NaN),new aw(a,b,c,d)}function av(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof ae||(e=as(e)),e)?new aw((e=e.rgb()).r,e.g,e.b,e.opacity):new aw:new aw(a,b,c,null==d?1:d)}function aw(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function ax(){return`#${aB(this.r)}${aB(this.g)}${aB(this.b)}`}function ay(){let a=az(this.opacity);return`${1===a?"rgb(":"rgba("}${aA(this.r)}, ${aA(this.g)}, ${aA(this.b)}${1===a?")":`, ${a})`}`}function az(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function aA(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function aB(a){return((a=aA(a))<16?"0":"")+a.toString(16)}function aC(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new aE(a,b,c,d)}function aD(a){if(a instanceof aE)return new aE(a.h,a.s,a.l,a.opacity);if(a instanceof ae||(a=as(a)),!a)return new aE;if(a instanceof aE)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new aE(g,h,i,a.opacity)}function aE(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function aF(a){return(a=(a||0)%360)<0?a+360:a}function aG(a){return Math.max(0,Math.min(1,a||0))}function aH(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function aI(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}ac(ae,as,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:aq,formatHex:aq,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return aD(this).formatHsl()},formatRgb:ar,toString:ar}),ac(aw,av,ad(ae,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new aw(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new aw(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new aw(aA(this.r),aA(this.g),aA(this.b),az(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ax,formatHex:ax,formatHex8:function(){return`#${aB(this.r)}${aB(this.g)}${aB(this.b)}${aB((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ay,toString:ay})),ac(aE,function(a,b,c,d){return 1==arguments.length?aD(a):new aE(a,b,c,null==d?1:d)},ad(ae,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new aE(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new aE(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new aw(aH(a>=240?a-240:a+120,e,d),aH(a,e,d),aH(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new aE(aF(this.h),aG(this.s),aG(this.l),az(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=az(this.opacity);return`${1===a?"hsl(":"hsla("}${aF(this.h)}, ${100*aG(this.s)}%, ${100*aG(this.l)}%${1===a?")":`, ${a})`}`}}));let aJ=a=>()=>a;function aK(a,b){var c=b-a;return c?function(b){return a+b*c}:aJ(isNaN(a)?b:a)}let aL=function a(b){var c,d=1==(c=+b)?aK:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):aJ(isNaN(a)?b:a)};function e(a,b){var c=d((a=av(a)).r,(b=av(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=aK(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function aM(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=av(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function aN(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}aM(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return aI((c-d/b)*b,g,e,f,h)}}),aM(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return aI((c-d/b)*b,e,f,g,h)}});var aO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aP=RegExp(aO.source,"g");function aQ(a,b){if(a=function(a){let b;for(;b=a.sourceEvent;)a=b;return a}(a),void 0===b&&(b=a.currentTarget),b){var c=b.ownerSVGElement||b;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=a.clientX,d.y=a.clientY,[(d=d.matrixTransform(b.getScreenCTM().inverse())).x,d.y]}if(b.getBoundingClientRect){var e=b.getBoundingClientRect();return[a.clientX-e.left-b.clientLeft,a.clientY-e.top-b.clientTop]}}return[a.pageX,a.pageY]}var aR,aS,aT=0,aU=0,aV=0,aW=0,aX=0,aY=0,aZ="object"==typeof performance&&performance.now?performance:Date,a$=function(a){setTimeout(a,17)};function a_(){return aX||(a$(a0),aX=aZ.now()+aY)}function a0(){aX=0}function a1(){this._call=this._time=this._next=null}function a2(a,b,c){var d=new a1;return d.restart(a,b,c),d}function a3(){aX=(aW=aZ.now())+aY,aT=aU=0;try{a_(),++aT;for(var a,b=aR;b;)(a=aX-b._time)>=0&&b._call.call(void 0,a),b=b._next;--aT}finally{aT=0,function(){for(var a,b,c=aR,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:aR=b);aS=a,a5(d)}(),aX=0}}function a4(){var a=aZ.now(),b=a-aW;b>1e3&&(aY-=b,aW=a)}function a5(a){!aT&&(aU&&(aU=clearTimeout(aU)),a-aX>24?(a<1/0&&(aU=setTimeout(a3,a-aZ.now()-aY)),aV&&(aV=clearInterval(aV))):(aV||(aW=aZ.now(),aV=setInterval(a4,1e3)),aT=1,a$(a3)))}function a6(a,b,c){var d=new a1;return b=null==b?0:+b,d.restart(c=>{d.stop(),a(c+b)},b,c),d}a1.prototype=a2.prototype={constructor:a1,restart:function(a,b,c){if("function"!=typeof a)throw TypeError("callback is not a function");c=(null==c?a_():+c)+(null==b?0:+b),this._next||aS===this||(aS?aS._next=this:aR=this,aS=this),this._call=a,this._time=c,a5()},stop:function(){this._call&&(this._call=null,this._time=1/0,a5())}};var a7=f("start","end","cancel","interrupt"),a8=[];function a9(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};!function(a,b,c){var d,e=a.__transition;function f(i){var j,k,l,m;if(1!==c.state)return h();for(j in e)if((m=e[j]).name===c.name){if(3===m.state)return a6(f);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete e[j]):+j<b&&(m.state=6,m.timer.stop(),m.on.call("cancel",a,a.__data__,m.index,m.group),delete e[j])}if(a6(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(i))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(j=0,c.state=3,d=Array(l=c.tween.length),k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(d[++k]=m);d.length=k+1}}function g(b){for(var e=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=5,1),f=-1,g=d.length;++f<g;)d[f].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){for(var d in c.state=6,c.timer.stop(),delete e[b],e)return;delete a.__transition}e[b]=c,c.timer=a2(function(a){c.state=1,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)},0,c.time)}(a,c,{name:b,index:d,group:e,on:a7,tween:a8,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function ba(a,b){var c=bc(a,b);if(c.state>0)throw Error("too late; already scheduled");return c}function bb(a,b){var c=bc(a,b);if(c.state>3)throw Error("too late; already running");return c}function bc(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw Error("transition not found");return c}function bd(a,b){var c,d,e,f=a.__transition,g=!0;if(f){for(e in b=null==b?null:b+"",f){if((c=f[e]).name!==b){g=!1;continue}d=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(d?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete f[e]}g&&delete a.__transition}}var be=180/Math.PI,bf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bg(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*be,skewX:Math.atan(i)*be,scaleX:g,scaleY:h}}function bh(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var h,i,j,k,l=[],m=[];return f=a(f),g=a(g),!function(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:aN(a,e)},{i:i-2,x:aN(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}(f.translateX,f.translateY,g.translateX,g.translateY,l,m),h=f.rotate,i=g.rotate,h!==i?(h-i>180?i+=360:i-h>180&&(h+=360),m.push({i:l.push(e(l)+"rotate(",null,d)-2,x:aN(h,i)})):i&&l.push(e(l)+"rotate("+i+d),j=f.skewX,k=g.skewX,j!==k?m.push({i:l.push(e(l)+"skewX(",null,d)-2,x:aN(j,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:aN(a,c)},{i:h-2,x:aN(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,l,m),f=g=null,function(a){for(var b,c=-1,d=m.length;++c<d;)l[(b=m[c]).i]=b.x(a);return l.join("")}}}var bi=bh(function(a){let b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return b.isIdentity?bf:bg(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),bj=bh(function(a){return null==a?bf:(b||(b=document.createElementNS("http://www.w3.org/2000/svg","g")),b.setAttribute("transform",a),a=b.transform.baseVal.consolidate())?bg((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):bf},", ",")",")");function bk(a,b,c){var d=a._id;return a.each(function(){var a=bb(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return bc(a,d).value[b]}}function bl(a,b){var c;return("number"==typeof b?aN:b instanceof as?aL:(c=as(b))?(b=c,aL):function(a,b){var c,d,e,f,g,h=aO.lastIndex=aP.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=aO.exec(a))&&(f=aP.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:aN(e,f)})),h=aP.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})})(a,b)}var bm=W.prototype.constructor;function bn(a){return function(){this.style.removeProperty(a)}}var bo=0;function bp(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}var bq=W.prototype;bp.prototype=(function(a){return W().transition(a)}).prototype={constructor:bp,select:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=j(a));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i,k=d[g],l=k.length,m=f[g]=Array(l),n=0;n<l;++n)(h=k[n])&&(i=a.call(h,h.__data__,n,k))&&("__data__"in h&&(i.__data__=h.__data__),m[n]=i,a9(m[n],b,c,n,m,bc(h,c)));return new bp(f,this._parents,b,c)},selectAll:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=l(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,m=0;m<k;++m)if(i=j[m]){for(var n,o=a.call(i,i.__data__,m,j),p=bc(i,c),q=0,r=o.length;q<r;++q)(n=o[q])&&a9(n,b,c,q,o,p);f.push(o),g.push(i)}return new bp(f,g,b,c)},selectChild:bq.selectChild,selectChildren:bq.selectChildren,filter:function(a){"function"!=typeof a&&(a=m(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new bp(d,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new bp(g,this._parents,this._name,this._id)},selection:function(){return new bm(this._groups,this._parents)},transition:function(){for(var a=this._name,b=this._id,c=++bo,d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=bc(g,b);a9(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new bp(d,this._parents,a,c)},call:bq.call,nodes:bq.nodes,node:bq.node,size:bq.size,empty:bq.empty,each:bq.each,on:function(a,b){var c,d,e,f,g,h,i=this._id;return arguments.length<2?bc(this.node(),i).on.on(a):this.each((c=i,d=a,e=b,h=(d+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?ba:bb,function(){var a=h(this,c),b=a.on;b!==f&&(g=(f=b).copy()).on(d,e),a.on=g}))},attr:function(a,b){var c=A(a),d="transform"===c?bj:bl;return this.attrTween(a,"function"==typeof b?(c.local?function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}}:function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttribute(a):(g=this.getAttribute(a))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}})(c,d,bk(this,"attr."+a,b)):null==b?(c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(c):(c.local?function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttributeNS(a.space,a.local);return g===f?null:g===d?e:e=b(d=g,c)}}:function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttribute(a);return g===f?null:g===d?e:e=b(d=g,c)}})(c,d,b))},attrTween:function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw Error();var d=A(a);return this.tween(c,(d.local?function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttributeNS(a.space,a.local,e.call(this,b))}),c}return e._value=b,e}:function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttribute(a,e.call(this,b))}),c}return e._value=b,e})(d,b))},style:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="transform"==(a+="")?bi:bl;return null==b?this.styleTween(a,(d=a,function(){var a=C(this,d),b=(this.style.removeProperty(d),C(this,d));return a===b?null:a===e&&b===f?g:g=y(e=a,f=b)})).on("end.style."+a,bn(a)):"function"==typeof b?this.styleTween(a,(h=a,i=bk(this,"style."+a,b),function(){var a=C(this,h),b=i(this),c=b+"";return null==b&&(this.style.removeProperty(h),c=b=C(this,h)),a===c?null:a===j&&c===k?l:(k=c,l=y(j=a,b))})).each((m=this._id,t="end."+(s="style."+(n=a)),function(){var a=bb(this,m),b=a.on,c=null==a.value[s]?r||(r=bn(n)):void 0;(b!==o||q!==c)&&(p=(o=b).copy()).on(t,q=c),a.on=p})):this.styleTween(a,(u=a,x=b+"",function(){var a=C(this,u);return a===x?null:a===v?w:w=y(v=a,b)}),c).on("end.style."+a,null)},styleTween:function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw Error();return this.tween(d,function(a,b,c){var d,e;function f(){var f=b.apply(this,arguments);return f!==e&&(d=(e=f)&&function(b){this.style.setProperty(a,f.call(this,b),c)}),d}return f._value=b,f}(a,b,null==c?"":c))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=bk(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},textTween:function(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==a)return this.tween(b,null);if("function"!=typeof a)throw Error();return this.tween(b,function(a){var b,c;function d(){var d=a.apply(this,arguments);return d!==c&&(b=(c=d)&&function(a){this.textContent=d.call(this,a)}),b}return d._value=a,d}(a))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=bc(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?function(a,b){var c,d;return function(){var e=bb(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){(d=d.slice()).splice(g,1);break}}e.tween=d}}:function(a,b,c){var d,e;if("function"!=typeof c)throw Error();return function(){var f=bb(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}})(c,a,b))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){ba(this,a).delay=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){ba(this,a).delay=b}})(b,a)):bc(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){bb(this,a).duration=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){bb(this,a).duration=b}})(b,a)):bc(this.node(),b).duration},ease:function(a){var b=this._id;return arguments.length?this.each(function(a,b){if("function"!=typeof b)throw Error();return function(){bb(this,a).ease=b}}(b,a)):bc(this.node(),b).ease},easeVarying:function(a){var b;if("function"!=typeof a)throw Error();return this.each((b=this._id,function(){var c=a.apply(this,arguments);if("function"!=typeof c)throw Error();bb(this,b).ease=c}))},end:function(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){0==--e&&f()}};c.each(function(){var c=bb(this,d),e=c.on;e!==a&&((b=(a=e).copy())._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),c.on=b}),0===e&&f()})},[Symbol.iterator]:bq[Symbol.iterator]};var br={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};W.prototype.interrupt=function(a){return this.each(function(){bd(this,a)})},W.prototype.transition=function(a){var b,c;a instanceof bp?(b=a._id,a=a._name):(b=++bo,(c=br).time=a_(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&a9(g,a,b,j,h,c||function(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw Error(`transition ${b} not found`);return c}(g,b));return new bp(d,this._parents,a,b)};let{abs:bs,max:bt,min:bu}=Math;function bv(a){return{type:a}}function bw(a){return((a=Math.exp(a))+1/a)/2}["w","e"].map(bv),["n","s"].map(bv),["n","w","e","s","nw","ne","sw","se"].map(bv);let bx=function a(b,c,d){function e(a,e){var f,g,h=a[0],i=a[1],j=a[2],k=e[0],l=e[1],m=e[2],n=k-h,o=l-i,p=n*n+o*o;if(p<1e-12)g=Math.log(m/j)/b,f=function(a){return[h+a*n,i+a*o,j*Math.exp(b*a*g)]};else{var q=Math.sqrt(p),r=(m*m-j*j+d*p)/(2*j*c*q),s=(m*m-j*j-d*p)/(2*m*c*q),t=Math.log(Math.sqrt(r*r+1)-r);g=(Math.log(Math.sqrt(s*s+1)-s)-t)/b,f=function(a){var d,e,f=a*g,k=bw(t),l=j/(c*q)*(k*(((d=Math.exp(2*(d=b*f+t)))-1)/(d+1))-((e=Math.exp(e=t))-1/e)/2);return[h+l*n,i+l*o,j*k/bw(b*f+t)]}}return f.duration=1e3*g*b/Math.SQRT2,f}return e.rho=function(b){var c=Math.max(.001,+b),d=c*c;return a(c,d,d*d)},e}(Math.SQRT2,2,4),by=a=>()=>a;function bz(a,{sourceEvent:b,target:c,transform:d,dispatch:e}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},transform:{value:d,enumerable:!0,configurable:!0},_:{value:e}})}function bA(a,b,c){this.k=a,this.x=b,this.y=c}bA.prototype={constructor:bA,scale:function(a){return 1===a?this:new bA(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new bA(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bB=new bA(1,0,0);function bC(a){a.stopImmediatePropagation()}function bD(a){a.preventDefault(),a.stopImmediatePropagation()}function bE(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function bF(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a).hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]:[[0,0],[a.clientWidth,a.clientHeight]]}function bG(){return this.__zoom||bB}function bH(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function bI(){return navigator.maxTouchPoints||"ontouchstart"in this}function bJ(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}bA.prototype,a.s([],33508);class bK extends Map{constructor(a,b=bM){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:b}}),null!=a)for(const[b,c]of a)this.set(b,c)}get(a){return super.get(bL(this,a))}has(a){return super.has(bL(this,a))}set(a,b){return super.set(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):(a.set(d,c),c)}(this,a),b)}delete(a){return super.delete(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)&&(c=a.get(d),a.delete(d)),c}(this,a))}}function bL({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):c}function bM(a){return null!==a&&"object"==typeof a?a.valueOf():a}function bN(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}let bO=Symbol("implicit");function bP(a){return a.x}function bQ(a){return a.y}var bR=Math.PI*(3-Math.sqrt(5));function bS(a){return function(){return a}}function bT(a){return(a()-.5)*1e-6}function bU(a){return a.index}function bV(a,b){var c=a.get(b);if(!c)throw Error("node not found: "+b);return c}function bW(a,b,c,d){if(isNaN(b)||isNaN(c))return a;var e,f,g,h,i,j,k,l,m,n=a._root,o={data:d},p=a._x0,q=a._y0,r=a._x1,s=a._y1;if(!n)return a._root=o,a;for(;n.length;)if((j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g,e=n,!(n=n[l=k<<1|j]))return e[l]=o,a;if(h=+a._x.call(null,n.data),i=+a._y.call(null,n.data),b===h&&c===i)return o.next=n,e?e[l]=o:a._root=o,a;do e=e?e[l]=[,,,,]:a._root=[,,,,],(j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g;while((l=k<<1|j)==(m=(i>=g)<<1|h>=f))return e[m]=n,e[l]=o,a}function bX(a,b,c,d,e){this.node=a,this.x0=b,this.y0=c,this.x1=d,this.y1=e}function bY(a){return a[0]}function bZ(a){return a[1]}function b$(a,b,c){var d=new b_(null==b?bY:b,null==c?bZ:c,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function b_(a,b,c,d,e,f){this._x=a,this._y=b,this._x0=c,this._y0=d,this._x1=e,this._y1=f,this._root=void 0}function b0(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}var b1=b$.prototype=b_.prototype;function b2(a){return a.x+a.vx}function b3(a){return a.y+a.vy}b1.copy=function(){var a,b,c=new b_(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root;if(!d)return c;if(!d.length)return c._root=b0(d),c;for(a=[{source:d,target:c._root=[,,,,]}];d=a.pop();)for(var e=0;e<4;++e)(b=d.source[e])&&(b.length?a.push({source:b,target:d.target[e]=[,,,,]}):d.target[e]=b0(b));return c},b1.add=function(a){let b=+this._x.call(null,a),c=+this._y.call(null,a);return bW(this.cover(b,c),b,c,a)},b1.addAll=function(a){var b,c,d,e,f=a.length,g=Array(f),h=Array(f),i=1/0,j=1/0,k=-1/0,l=-1/0;for(c=0;c<f;++c)!(isNaN(d=+this._x.call(null,b=a[c]))||isNaN(e=+this._y.call(null,b)))&&(g[c]=d,h[c]=e,d<i&&(i=d),d>k&&(k=d),e<j&&(j=e),e>l&&(l=e));if(i>k||j>l)return this;for(this.cover(i,j).cover(k,l),c=0;c<f;++c)bW(this,g[c],h[c],a[c]);return this},b1.cover=function(a,b){if(isNaN(a*=1)||isNaN(b*=1))return this;var c=this._x0,d=this._y0,e=this._x1,f=this._y1;if(isNaN(c))e=(c=Math.floor(a))+1,f=(d=Math.floor(b))+1;else{for(var g,h,i=e-c||1,j=this._root;c>a||a>=e||d>b||b>=f;)switch(h=(b<d)<<1|a<c,(g=[,,,,])[h]=j,j=g,i*=2,h){case 0:e=c+i,f=d+i;break;case 1:c=e-i,f=d+i;break;case 2:e=c+i,d=f-i;break;case 3:c=e-i,d=f-i}this._root&&this._root.length&&(this._root=j)}return this._x0=c,this._y0=d,this._x1=e,this._y1=f,this},b1.data=function(){var a=[];return this.visit(function(b){if(!b.length)do a.push(b.data);while(b=b.next)}),a},b1.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},b1.find=function(a,b,c){var d,e,f,g,h,i,j,k=this._x0,l=this._y0,m=this._x1,n=this._y1,o=[],p=this._root;for(p&&o.push(new bX(p,k,l,m,n)),null==c?c=1/0:(k=a-c,l=b-c,m=a+c,n=b+c,c*=c);i=o.pop();)if((p=i.node)&&!((e=i.x0)>m)&&!((f=i.y0)>n)&&!((g=i.x1)<k)&&!((h=i.y1)<l))if(p.length){var q=(e+g)/2,r=(f+h)/2;o.push(new bX(p[3],q,r,g,h),new bX(p[2],e,r,q,h),new bX(p[1],q,f,g,r),new bX(p[0],e,f,q,r)),(j=(b>=r)<<1|a>=q)&&(i=o[o.length-1],o[o.length-1]=o[o.length-1-j],o[o.length-1-j]=i)}else{var s=a-this._x.call(null,p.data),t=b-this._y.call(null,p.data),u=s*s+t*t;if(u<c){var v=Math.sqrt(c=u);k=a-v,l=b-v,m=a+v,n=b+v,d=p.data}}return d},b1.remove=function(a){if(isNaN(f=+this._x.call(null,a))||isNaN(g=+this._y.call(null,a)))return this;var b,c,d,e,f,g,h,i,j,k,l,m,n=this._root,o=this._x0,p=this._y0,q=this._x1,r=this._y1;if(!n)return this;if(n.length)for(;;){if((j=f>=(h=(o+q)/2))?o=h:q=h,(k=g>=(i=(p+r)/2))?p=i:r=i,b=n,!(n=n[l=k<<1|j]))return this;if(!n.length)break;(b[l+1&3]||b[l+2&3]||b[l+3&3])&&(c=b,m=l)}for(;n.data!==a;)if(d=n,!(n=n.next))return this;return((e=n.next)&&delete n.next,d)?e?d.next=e:delete d.next:b?(e?b[l]=e:delete b[l],(n=b[0]||b[1]||b[2]||b[3])&&n===(b[3]||b[2]||b[1]||b[0])&&!n.length&&(c?c[m]=n:this._root=n)):this._root=e,this},b1.removeAll=function(a){for(var b=0,c=a.length;b<c;++b)this.remove(a[b]);return this},b1.root=function(){return this._root},b1.size=function(){var a=0;return this.visit(function(b){if(!b.length)do++a;while(b=b.next)}),a},b1.visit=function(a){var b,c,d,e,f,g,h=[],i=this._root;for(i&&h.push(new bX(i,this._x0,this._y0,this._x1,this._y1));b=h.pop();)if(!a(i=b.node,d=b.x0,e=b.y0,f=b.x1,g=b.y1)&&i.length){var j=(d+f)/2,k=(e+g)/2;(c=i[3])&&h.push(new bX(c,j,k,f,g)),(c=i[2])&&h.push(new bX(c,d,k,j,g)),(c=i[1])&&h.push(new bX(c,j,e,f,k)),(c=i[0])&&h.push(new bX(c,d,e,j,k))}return this},b1.visitAfter=function(a){var b,c=[],d=[];for(this._root&&c.push(new bX(this._root,this._x0,this._y0,this._x1,this._y1));b=c.pop();){var e=b.node;if(e.length){var f,g=b.x0,h=b.y0,i=b.x1,j=b.y1,k=(g+i)/2,l=(h+j)/2;(f=e[0])&&c.push(new bX(f,g,h,k,l)),(f=e[1])&&c.push(new bX(f,k,h,i,l)),(f=e[2])&&c.push(new bX(f,g,l,k,j)),(f=e[3])&&c.push(new bX(f,k,l,i,j))}d.push(b)}for(;b=d.pop();)a(b.node,b.x0,b.y0,b.x1,b.y1);return this},b1.x=function(a){return arguments.length?(this._x=a,this):this._x},b1.y=function(a){return arguments.length?(this._y=a,this):this._y},a.i(33508);let b4=a=>()=>a;function b5(a,{sourceEvent:b,subject:c,target:d,identifier:e,active:f,x:g,y:h,dx:i,dy:j,dispatch:k}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},subject:{value:c,enumerable:!0,configurable:!0},target:{value:d,enumerable:!0,configurable:!0},identifier:{value:e,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:g,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:i,enumerable:!0,configurable:!0},dy:{value:j,enumerable:!0,configurable:!0},_:{value:k}})}function b6(a){return!a.ctrlKey&&!a.button}function b7(){return this.parentNode}function b8(a,b){return null==b?{x:a.x,y:a.y}:b}function b9(){return navigator.maxTouchPoints||"ontouchstart"in this}b5.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var ca=a.i(24868),cb=a.i(14747);let cc=(a,b,c)=>{let d=a instanceof RegExp?cd(a,c):a,e=b instanceof RegExp?cd(b,c):b,f=null!==d&&null!=e&&ce(d,e,c);return f&&{start:f[0],end:f[1],pre:c.slice(0,f[0]),body:c.slice(f[0]+d.length,f[1]),post:c.slice(f[1]+e.length)}},cd=(a,b)=>{let c=b.match(a);return c?c[0]:null},ce=(a,b,c)=>{let d,e,f,g,h,i=c.indexOf(a),j=c.indexOf(b,i+1),k=i;if(i>=0&&j>0){if(a===b)return[i,j];for(d=[],f=c.length;k>=0&&!h;){if(k===i)d.push(k),i=c.indexOf(a,k+1);else if(1===d.length){let a=d.pop();void 0!==a&&(h=[a,j])}else void 0!==(e=d.pop())&&e<f&&(f=e,g=j),j=c.indexOf(b,k+1);k=i<j&&i>=0?i:j}d.length&&void 0!==g&&(h=[f,g])}return h},cf="\0SLASH"+Math.random()+"\0",cg="\0OPEN"+Math.random()+"\0",ch="\0CLOSE"+Math.random()+"\0",ci="\0COMMA"+Math.random()+"\0",cj="\0PERIOD"+Math.random()+"\0",ck=RegExp(cf,"g"),cl=RegExp(cg,"g"),cm=RegExp(ch,"g"),cn=RegExp(ci,"g"),co=RegExp(cj,"g"),cp=/\\\\/g,cq=/\\{/g,cr=/\\}/g,cs=/\\,/g,ct=/\\./g;function cu(a){return isNaN(a)?a.charCodeAt(0):parseInt(a,10)}function cv(a){return a.replace(ck,"\\").replace(cl,"{").replace(cm,"}").replace(cn,",").replace(co,".")}function cw(a){return"{"+a+"}"}function cx(a){return/^-?0\d/.test(a)}function cy(a,b){return a<=b}function cz(a,b){return a>=b}let cA=a=>{if("string"!=typeof a)throw TypeError("invalid pattern");if(a.length>65536)throw TypeError("pattern is too long")},cB={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},cC=a=>a.replace(/[[\]\\-]/g,"\\$&"),cD=(a,b)=>{if("["!==a.charAt(b))throw Error("not in a brace expression");let c=[],d=[],e=b+1,f=!1,g=!1,h=!1,i=!1,j=b,k="";a:for(;e<a.length;){let l=a.charAt(e);if(("!"===l||"^"===l)&&e===b+1){i=!0,e++;continue}if("]"===l&&f&&!h){j=e+1;break}if(f=!0,"\\"===l&&!h){h=!0,e++;continue}if("["===l&&!h){for(let[f,[h,i,j]]of Object.entries(cB))if(a.startsWith(f,e)){if(k)return["$.",!1,a.length-b,!0];e+=f.length,j?d.push(h):c.push(h),g=g||i;continue a}}if(h=!1,k){l>k?c.push(cC(k)+"-"+cC(l)):l===k&&c.push(cC(l)),k="",e++;continue}if(a.startsWith("-]",e+1)){c.push(cC(l+"-")),e+=2;continue}if(a.startsWith("-",e+1)){k=l,e+=2;continue}c.push(cC(l)),e++}if(j<e)return["",!1,0,!1];if(!c.length&&!d.length)return["$.",!1,a.length-b,!0];if(0===d.length&&1===c.length&&/^\\?.$/.test(c[0])&&!i)return[(2===c[0].length?c[0].slice(-1):c[0]).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),!1,j-b,!1];let l="["+(i?"^":"")+c.join("")+"]",m="["+(i?"":"^")+d.join("")+"]";return[c.length&&d.length?"("+l+"|"+m+")":c.length?l:m,g,j-b,!0]},cE=(a,{windowsPathsNoEscape:b=!1,magicalBraces:c=!0}={})=>c?b?a.replace(/\[([^\/\\])\]/g,"$1"):a.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"):b?a.replace(/\[([^\/\\{}])\]/g,"$1"):a.replace(/((?!\\).|^)\[([^\/\\{}])\]/g,"$1$2").replace(/\\([^\/{}])/g,"$1"),cF=new Set(["!","?","+","*","@"]),cG=a=>cF.has(a),cH="(?!\\.)",cI=new Set(["[","."]),cJ=new Set(["..","."]),cK=new Set("().*{}+?[]^$\\!"),cL=a=>a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),cM="[^/]",cN=cM+"*?",cO=cM+"+?";class cP{type;#a;#b;#c=!1;#d=[];#e;#f;#g;#h=!1;#i;#j;#k=!1;constructor(a,b,c={}){this.type=a,a&&(this.#b=!0),this.#e=b,this.#a=this.#e?this.#e.#a:this,this.#i=this.#a===this?c:this.#a.#i,this.#g=this.#a===this?[]:this.#a.#g,"!"!==a||this.#a.#h||this.#g.push(this),this.#f=this.#e?this.#e.#d.length:0}get hasMagic(){if(void 0!==this.#b)return this.#b;for(let a of this.#d)if("string"!=typeof a&&(a.type||a.hasMagic))return this.#b=!0;return this.#b}toString(){return void 0!==this.#j?this.#j:this.type?this.#j=this.type+"("+this.#d.map(a=>String(a)).join("|")+")":this.#j=this.#d.map(a=>String(a)).join("")}#l(){let a;if(this!==this.#a)throw Error("should only call on root");if(this.#h)return this;for(this.toString(),this.#h=!0;a=this.#g.pop();){if("!"!==a.type)continue;let b=a,c=b.#e;for(;c;){for(let d=b.#f+1;!c.type&&d<c.#d.length;d++)for(let b of a.#d){if("string"==typeof b)throw Error("string part in extglob AST??");b.copyIn(c.#d[d])}c=(b=c).#e}}return this}push(...a){for(let b of a)if(""!==b){if("string"!=typeof b&&!(b instanceof cP&&b.#e===this))throw Error("invalid part: "+b);this.#d.push(b)}}toJSON(){let a=null===this.type?this.#d.slice().map(a=>"string"==typeof a?a:a.toJSON()):[this.type,...this.#d.map(a=>a.toJSON())];return this.isStart()&&!this.type&&a.unshift([]),this.isEnd()&&(this===this.#a||this.#a.#h&&this.#e?.type==="!")&&a.push({}),a}isStart(){if(this.#a===this)return!0;if(!this.#e?.isStart())return!1;if(0===this.#f)return!0;let a=this.#e;for(let b=0;b<this.#f;b++){let c=a.#d[b];if(!(c instanceof cP&&"!"===c.type))return!1}return!0}isEnd(){if(this.#a===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();let a=this.#e?this.#e.#d.length:0;return this.#f===a-1}copyIn(a){"string"==typeof a?this.push(a):this.push(a.clone(this))}clone(a){let b=new cP(this.type,a);for(let a of this.#d)b.copyIn(a);return b}static #m(a,b,c,d){let e=!1,f=!1,g=-1,h=!1;if(null===b.type){let i=c,j="";for(;i<a.length;){let c=a.charAt(i++);if(e||"\\"===c){e=!e,j+=c;continue}if(f){i===g+1?("^"===c||"!"===c)&&(h=!0):"]"!==c||i===g+2&&h||(f=!1),j+=c;continue}if("["===c){f=!0,g=i,h=!1,j+=c;continue}if(!d.noext&&cG(c)&&"("===a.charAt(i)){b.push(j),j="";let e=new cP(c,b);i=cP.#m(a,e,i,d),b.push(e);continue}j+=c}return b.push(j),i}let i=c+1,j=new cP(null,b),k=[],l="";for(;i<a.length;){let c=a.charAt(i++);if(e||"\\"===c){e=!e,l+=c;continue}if(f){i===g+1?("^"===c||"!"===c)&&(h=!0):"]"!==c||i===g+2&&h||(f=!1),l+=c;continue}if("["===c){f=!0,g=i,h=!1,l+=c;continue}if(cG(c)&&"("===a.charAt(i)){j.push(l),l="";let b=new cP(c,j);j.push(b),i=cP.#m(a,b,i,d);continue}if("|"===c){j.push(l),l="",k.push(j),j=new cP(null,b);continue}if(")"===c)return""===l&&0===b.#d.length&&(b.#k=!0),j.push(l),l="",b.push(...k,j),i;l+=c}return b.type=null,b.#b=void 0,b.#d=[a.substring(c-1)],i}static fromGlob(a,b={}){let c=new cP(null,void 0,b);return cP.#m(a,c,0,b),c}toMMPattern(){if(this!==this.#a)return this.#a.toMMPattern();let a=this.toString(),[b,c,d,e]=this.toRegExpSource();return d||this.#b||this.#i.nocase&&!this.#i.nocaseMagicOnly&&a.toUpperCase()!==a.toLowerCase()?Object.assign(RegExp(`^${b}$`,(this.#i.nocase?"i":"")+(e?"u":"")),{_src:b,_glob:a}):c}get options(){return this.#i}toRegExpSource(a){let b=a??!!this.#i.dot;if(this.#a===this&&this.#l(),!this.type){let c=this.isStart()&&this.isEnd()&&!this.#d.some(a=>"string"!=typeof a),d=this.#d.map(b=>{let[d,e,f,g]="string"==typeof b?cP.#n(b,this.#b,c):b.toRegExpSource(a);return this.#b=this.#b||f,this.#c=this.#c||g,d}).join(""),e="";if(this.isStart()&&"string"==typeof this.#d[0]&&!(1===this.#d.length&&cJ.has(this.#d[0]))){let c=b&&cI.has(d.charAt(0))||d.startsWith("\\.")&&cI.has(d.charAt(2))||d.startsWith("\\.\\.")&&cI.has(d.charAt(4)),f=!b&&!a&&cI.has(d.charAt(0));e=c?"(?!(?:^|/)\\.\\.?(?:$|/))":f?cH:""}let f="";return this.isEnd()&&this.#a.#h&&this.#e?.type==="!"&&(f="(?:$|\\/)"),[e+d+f,cE(d),this.#b=!!this.#b,this.#c]}let c="*"===this.type||"+"===this.type,d="!"===this.type?"(?:(?!(?:":"(?:",e=this.#o(b);if(this.isStart()&&this.isEnd()&&!e&&"!"!==this.type){let a=this.toString();return this.#d=[a],this.type=null,this.#b=void 0,[a,cE(this.toString()),!1,!1]}let f=!c||a||b||!cH?"":this.#o(!0);f===e&&(f=""),f&&(e=`(?:${e})(?:${f})*?`);return["!"===this.type&&this.#k?(this.isStart()&&!b?cH:"")+cO:d+e+("!"===this.type?"))"+(!this.isStart()||b||a?"":cH)+cN+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&f?")":"*"===this.type&&f?")?":`)${this.type}`),cE(e),this.#b=!!this.#b,this.#c]}#o(a){return this.#d.map(b=>{if("string"==typeof b)throw Error("string type in extglob ast??");let[c,d,e,f]=b.toRegExpSource(a);return this.#c=this.#c||f,c}).filter(a=>!(this.isStart()&&this.isEnd())||!!a).join("|")}static #n(a,b,c=!1){let d=!1,e="",f=!1;for(let g=0;g<a.length;g++){let h=a.charAt(g);if(d){d=!1,e+=(cK.has(h)?"\\":"")+h;continue}if("\\"===h){g===a.length-1?e+="\\\\":d=!0;continue}if("["===h){let[c,d,h,i]=cD(a,g);if(h){e+=c,f=f||d,g+=h-1,b=b||i;continue}}if("*"===h){e+=c&&"*"===a?cO:cN,b=!0;continue}if("?"===h){e+=cM,b=!0;continue}e+=cL(h)}return[e,cE(a),!!b,f]}}let cQ=(a,{windowsPathsNoEscape:b=!1,magicalBraces:c=!1}={})=>c?b?a.replace(/[?*()[\]{}]/g,"[$&]"):a.replace(/[?*()[\]\\{}]/g,"\\$&"):b?a.replace(/[?*()[\]]/g,"[$&]"):a.replace(/[?*()[\]\\]/g,"\\$&"),cR=(a,b,c={})=>(cA(b),(!!c.nocomment||"#"!==b.charAt(0))&&new c7(b,c).match(a)),cS=/^\*+([^+@!?\*\[\(]*)$/,cT=/^\*+\.\*+$/,cU=a=>!a.startsWith(".")&&a.includes("."),cV=a=>"."!==a&&".."!==a&&a.includes("."),cW=/^\.\*+$/,cX=a=>"."!==a&&".."!==a&&a.startsWith("."),cY=/^\*+$/,cZ=a=>0!==a.length&&!a.startsWith("."),c$=a=>0!==a.length&&"."!==a&&".."!==a,c_=/^\?+([^+@!?\*\[\(]*)?$/,c0=([a])=>{let b=a.length;return a=>a.length===b&&!a.startsWith(".")},c1=([a])=>{let b=a.length;return a=>a.length===b&&"."!==a&&".."!==a},c2="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";cR.sep="win32"===c2?"\\":"/";let c3=Symbol("globstar **");cR.GLOBSTAR=c3;cR.filter=(a,b={})=>c=>cR(c,a,b);let c4=(a,b={})=>Object.assign({},a,b);cR.defaults=a=>{if(!a||"object"!=typeof a||!Object.keys(a).length)return cR;let b=cR;return Object.assign((c,d,e={})=>b(c,d,c4(a,e)),{Minimatch:class extends b.Minimatch{constructor(b,c={}){super(b,c4(a,c))}static defaults(c){return b.defaults(c4(a,c)).Minimatch}},AST:class extends b.AST{constructor(b,c,d={}){super(b,c,c4(a,d))}static fromGlob(c,d={}){return b.AST.fromGlob(c,c4(a,d))}},unescape:(c,d={})=>b.unescape(c,c4(a,d)),escape:(c,d={})=>b.escape(c,c4(a,d)),filter:(c,d={})=>b.filter(c,c4(a,d)),defaults:c=>b.defaults(c4(a,c)),makeRe:(c,d={})=>b.makeRe(c,c4(a,d)),braceExpand:(c,d={})=>b.braceExpand(c,c4(a,d)),match:(c,d,e={})=>b.match(c,d,c4(a,e)),sep:b.sep,GLOBSTAR:c3})};let c5=(a,b={})=>(cA(a),b.nobrace||!/\{(?:(?!\{).)*\}/.test(a))?[a]:function(a,b={}){if(!a)return[];let{max:c=1e5}=b;return"{}"===a.slice(0,2)&&(a="\\{\\}"+a.slice(2)),(function a(b,c,d){let e=[],f=cc("{","}",b);if(!f)return[b];let g=f.pre,h=f.post.length?a(f.post,c,!1):[""];if(/\$$/.test(f.pre))for(let a=0;a<h.length&&a<c;a++){let b=g+"{"+f.body+"}"+h[a];e.push(b)}else{let i,j,k=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(f.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(f.body),m=k||l,n=f.body.indexOf(",")>=0;if(!m&&!n)return f.post.match(/,(?!,).*\}/)?a(b=f.pre+"{"+f.body+ch+f.post,c,!0):[b];if(m)i=f.body.split(/\.\./);else if(1===(i=function a(b){if(!b)return[""];let c=[],d=cc("{","}",b);if(!d)return b.split(",");let{pre:e,body:f,post:g}=d,h=e.split(",");h[h.length-1]+="{"+f+"}";let i=a(g);return g.length&&(h[h.length-1]+=i.shift(),h.push.apply(h,i)),c.push.apply(c,h),c}(f.body)).length&&void 0!==i[0]&&1===(i=a(i[0],c,!1).map(cw)).length)return h.map(a=>f.pre+i[0]+a);if(m&&void 0!==i[0]&&void 0!==i[1]){let a=cu(i[0]),b=cu(i[1]),c=Math.max(i[0].length,i[1].length),d=3===i.length&&void 0!==i[2]?Math.abs(cu(i[2])):1,e=cy;b<a&&(d*=-1,e=cz);let f=i.some(cx);j=[];for(let g=a;e(g,b);g+=d){let a;if(l)"\\"===(a=String.fromCharCode(g))&&(a="");else if(a=String(g),f){let b=c-a.length;if(b>0){let c=Array(b+1).join("0");a=g<0?"-"+c+a.slice(1):c+a}}j.push(a)}}else{j=[];for(let b=0;b<i.length;b++)j.push.apply(j,a(i[b],c,!1))}for(let a=0;a<j.length;a++)for(let b=0;b<h.length&&e.length<c;b++){let c=g+j[a]+h[b];(!d||m||c)&&e.push(c)}}return e})(a.replace(cp,cf).replace(cq,cg).replace(cr,ch).replace(cs,ci).replace(ct,cj),c,!0).map(cv)}(a);cR.braceExpand=c5,cR.makeRe=(a,b={})=>new c7(a,b).makeRe(),cR.match=(a,b,c={})=>{let d=new c7(b,c);return a=a.filter(a=>d.match(a)),d.options.nonull&&!a.length&&a.push(b),a};let c6=/[?*]|[+@!]\(.*?\)|\[|\]/;class c7{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(a,b={}){cA(a),b=b||{},this.options=b,this.pattern=a,this.platform=b.platform||c2,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!b.windowsPathsNoEscape||!1===b.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!b.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!b.nonegate,this.comment=!1,this.empty=!1,this.partial=!!b.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==b.windowsNoMagicRoot?b.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let a of this.set)for(let b of a)if("string"!=typeof b)return!0;return!1}debug(){}make(){let a=this.pattern,b=this.options;if(!b.nocomment&&"#"===a.charAt(0)){this.comment=!0;return}if(!a){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],b.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let c=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(c),this.debug(this.pattern,this.globParts);let d=this.globParts.map((a,b,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){let b=""===a[0]&&""===a[1]&&("?"===a[2]||!c6.test(a[2]))&&!c6.test(a[3]),c=/^[a-z]:/i.test(a[0]);if(b)return[...a.slice(0,4),...a.slice(4).map(a=>this.parse(a))];if(c)return[a[0],...a.slice(1).map(a=>this.parse(a))]}return a.map(a=>this.parse(a))});if(this.debug(this.pattern,d),this.set=d.filter(a=>-1===a.indexOf(!1)),this.isWindows)for(let a=0;a<this.set.length;a++){let b=this.set[a];""===b[0]&&""===b[1]&&"?"===this.globParts[a][2]&&"string"==typeof b[3]&&/^[a-z]:$/i.test(b[3])&&(b[2]="?")}this.debug(this.pattern,this.set)}preprocess(a){if(this.options.noglobstar)for(let b=0;b<a.length;b++)for(let c=0;c<a[b].length;c++)"**"===a[b][c]&&(a[b][c]="*");let{optimizationLevel:b=1}=this.options;return b>=2?(a=this.firstPhasePreProcess(a),a=this.secondPhasePreProcess(a)):a=b>=1?this.levelOneOptimize(a):this.adjascentGlobstarOptimize(a),a}adjascentGlobstarOptimize(a){return a.map(a=>{let b=-1;for(;-1!==(b=a.indexOf("**",b+1));){let c=b;for(;"**"===a[c+1];)c++;c!==b&&a.splice(b,c-b)}return a})}levelOneOptimize(a){return a.map(a=>0===(a=a.reduce((a,b)=>{let c=a[a.length-1];return"**"===b&&"**"===c||(".."===b&&c&&".."!==c&&"."!==c&&"**"!==c?a.pop():a.push(b)),a},[])).length?[""]:a)}levelTwoFileOptimize(a){Array.isArray(a)||(a=this.slashSplit(a));let b=!1;do{if(b=!1,!this.preserveMultipleSlashes){for(let c=1;c<a.length-1;c++){let d=a[c];(1!==c||""!==d||""!==a[0])&&("."===d||""===d)&&(b=!0,a.splice(c,1),c--)}"."===a[0]&&2===a.length&&("."===a[1]||""===a[1])&&(b=!0,a.pop())}let c=0;for(;-1!==(c=a.indexOf("..",c+1));){let d=a[c-1];d&&"."!==d&&".."!==d&&"**"!==d&&(b=!0,a.splice(c-1,2),c-=2)}}while(b)return 0===a.length?[""]:a}firstPhasePreProcess(a){let b=!1;do for(let c of(b=!1,a)){let d=-1;for(;-1!==(d=c.indexOf("**",d+1));){let e=d;for(;"**"===c[e+1];)e++;e>d&&c.splice(d+1,e-d);let f=c[d+1],g=c[d+2],h=c[d+3];if(".."!==f||!g||"."===g||".."===g||!h||"."===h||".."===h)continue;b=!0,c.splice(d,1);let i=c.slice(0);i[d]="**",a.push(i),d--}if(!this.preserveMultipleSlashes){for(let a=1;a<c.length-1;a++){let d=c[a];(1!==a||""!==d||""!==c[0])&&("."===d||""===d)&&(b=!0,c.splice(a,1),a--)}"."===c[0]&&2===c.length&&("."===c[1]||""===c[1])&&(b=!0,c.pop())}let e=0;for(;-1!==(e=c.indexOf("..",e+1));){let a=c[e-1];if(a&&"."!==a&&".."!==a&&"**"!==a){b=!0;let a=1===e&&"**"===c[e+1]?["."]:[];c.splice(e-1,2,...a),0===c.length&&c.push(""),e-=2}}}while(b)return a}secondPhasePreProcess(a){for(let b=0;b<a.length-1;b++)for(let c=b+1;c<a.length;c++){let d=this.partsMatch(a[b],a[c],!this.preserveMultipleSlashes);if(d){a[b]=[],a[c]=d;break}}return a.filter(a=>a.length)}partsMatch(a,b,c=!1){let d=0,e=0,f=[],g="";for(;d<a.length&&e<b.length;)if(a[d]===b[e])f.push("b"===g?b[e]:a[d]),d++,e++;else if(c&&"**"===a[d]&&b[e]===a[d+1])f.push(a[d]),d++;else if(c&&"**"===b[e]&&a[d]===b[e+1])f.push(b[e]),e++;else if("*"===a[d]&&b[e]&&(this.options.dot||!b[e].startsWith("."))&&"**"!==b[e]){if("b"===g)return!1;g="a",f.push(a[d]),d++,e++}else{if("*"!==b[e]||!a[d]||!this.options.dot&&a[d].startsWith(".")||"**"===a[d]||"a"===g)return!1;g="b",f.push(b[e]),d++,e++}return a.length===b.length&&f}parseNegate(){if(this.nonegate)return;let a=this.pattern,b=!1,c=0;for(let d=0;d<a.length&&"!"===a.charAt(d);d++)b=!b,c++;c&&(this.pattern=a.slice(c)),this.negate=b}matchOne(a,b,c=!1){let d=this.options;if(this.isWindows){let c="string"==typeof a[0]&&/^[a-z]:$/i.test(a[0]),d=!c&&""===a[0]&&""===a[1]&&"?"===a[2]&&/^[a-z]:$/i.test(a[3]),e="string"==typeof b[0]&&/^[a-z]:$/i.test(b[0]),f=!e&&""===b[0]&&""===b[1]&&"?"===b[2]&&"string"==typeof b[3]&&/^[a-z]:$/i.test(b[3]),g=d?3:c?0:void 0,h=f?3:e?0:void 0;if("number"==typeof g&&"number"==typeof h){let[c,d]=[a[g],b[h]];c.toLowerCase()===d.toLowerCase()&&(b[h]=c,h>g?b=b.slice(h):g>h&&(a=a.slice(g)))}}let{optimizationLevel:e=1}=this.options;e>=2&&(a=this.levelTwoFileOptimize(a)),this.debug("matchOne",this,{file:a,pattern:b}),this.debug("matchOne",a.length,b.length);for(var f=0,g=0,h=a.length,i=b.length;f<h&&g<i;f++,g++){let e;this.debug("matchOne loop");var j=b[g],k=a[f];if(this.debug(b,j,k),!1===j)return!1;if(j===c3){this.debug("GLOBSTAR",[b,j,k]);var l=f,m=g+1;if(m===i){for(this.debug("** at the end");f<h;f++)if("."===a[f]||".."===a[f]||!d.dot&&"."===a[f].charAt(0))return!1;return!0}for(;l<h;){var n=a[l];if(this.debug("\nglobstar while",a,l,b,m,n),this.matchOne(a.slice(l),b.slice(m),c))return this.debug("globstar found match!",l,h,n),!0;if("."===n||".."===n||!d.dot&&"."===n.charAt(0)){this.debug("dot detected!",a,l,b,m);break}this.debug("globstar swallow a segment, and continue"),l++}if(c&&(this.debug("\n>>> no match, partial?",a,l,b,m),l===h))return!0;return!1}if("string"==typeof j?(e=k===j,this.debug("string match",j,k,e)):(e=j.test(k),this.debug("pattern match",j,k,e)),!e)return!1}if(f===h&&g===i)return!0;if(f===h)return c;if(g===i)return f===h-1&&""===a[f];throw Error("wtf?")}braceExpand(){return c5(this.pattern,this.options)}parse(a){let b;cA(a);let c=this.options;if("**"===a)return c3;if(""===a)return"";let d=null;(b=a.match(cY))?d=c.dot?c$:cZ:(b=a.match(cS))?d=(c.nocase?c.dot?a=>(a=a.toLowerCase(),b=>b.toLowerCase().endsWith(a)):a=>(a=a.toLowerCase(),b=>!b.startsWith(".")&&b.toLowerCase().endsWith(a)):c.dot?a=>b=>b.endsWith(a):a=>b=>!b.startsWith(".")&&b.endsWith(a))(b[1]):(b=a.match(c_))?d=(c.nocase?c.dot?([a,b=""])=>{let c=c1([a]);return b?(b=b.toLowerCase(),a=>c(a)&&a.toLowerCase().endsWith(b)):c}:([a,b=""])=>{let c=c0([a]);return b?(b=b.toLowerCase(),a=>c(a)&&a.toLowerCase().endsWith(b)):c}:c.dot?([a,b=""])=>{let c=c1([a]);return b?a=>c(a)&&a.endsWith(b):c}:([a,b=""])=>{let c=c0([a]);return b?a=>c(a)&&a.endsWith(b):c})(b):(b=a.match(cT))?d=c.dot?cV:cU:(b=a.match(cW))&&(d=cX);let e=cP.fromGlob(a,this.options).toMMPattern();return d&&"object"==typeof e&&Reflect.defineProperty(e,"test",{value:d}),e}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let a=this.set;if(!a.length)return this.regexp=!1,this.regexp;let b=this.options,c=b.noglobstar?"[^/]*?":b.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",d=new Set(b.nocase?["i"]:[]),e=a.map(a=>{let b=a.map(a=>{if(a instanceof RegExp)for(let b of a.flags.split(""))d.add(b);return"string"==typeof a?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):a===c3?c3:a._src});b.forEach((a,d)=>{let e=b[d+1],f=b[d-1];a===c3&&f!==c3&&(void 0===f?void 0!==e&&e!==c3?b[d+1]="(?:\\/|"+c+"\\/)?"+e:b[d]=c:void 0===e?b[d-1]=f+"(?:\\/|\\/"+c+")?":e!==c3&&(b[d-1]=f+"(?:\\/|\\/"+c+"\\/)"+e,b[d+1]=c3))});let e=b.filter(a=>a!==c3);if(this.partial&&e.length>=1){let a=[];for(let b=1;b<=e.length;b++)a.push(e.slice(0,b).join("/"));return"(?:"+a.join("|")+")"}return e.join("/")}).join("|"),[f,g]=a.length>1?["(?:",")"]:["",""];e="^"+f+e+g+"$",this.partial&&(e="^(?:\\/|"+f+e.slice(1,-1)+g+")$"),this.negate&&(e="^(?!"+e+").+$");try{this.regexp=new RegExp(e,[...d].join(""))}catch(a){this.regexp=!1}return this.regexp}slashSplit(a){return this.preserveMultipleSlashes?a.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(a)?["",...a.split(/\/+/)]:a.split(/\/+/)}match(a,b=this.partial){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return""===a;if("/"===a&&b)return!0;let c=this.options;this.isWindows&&(a=a.split("\\").join("/"));let d=this.slashSplit(a);this.debug(this.pattern,"split",d);let e=this.set;this.debug(this.pattern,"set",e);let f=d[d.length-1];if(!f)for(let a=d.length-2;!f&&a>=0;a--)f=d[a];for(let a=0;a<e.length;a++){let g=e[a],h=d;if(c.matchBase&&1===g.length&&(h=[f]),this.matchOne(h,g,b)){if(c.flipNegate)return!0;return!this.negate}}return!c.flipNegate&&this.negate}static defaults(a){return cR.defaults(a).Minimatch}}cR.AST=cP,cR.Minimatch=c7,cR.escape=cQ,cR.unescape=cE;var c8=a.i(57764);let c9="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,da=new Set,db="object"==typeof process&&process?process:{},dc=(a,b,c,d)=>{"function"==typeof db.emitWarning?db.emitWarning(a,b,c,d):console.error(`[${c}] ${b}: ${a}`)},dd=globalThis.AbortController,de=globalThis.AbortSignal;if(void 0===dd){de=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(a,b){this._onabort.push(b)}},dd=class{constructor(){b()}signal=new de;abort(a){if(!this.signal.aborted){for(let b of(this.signal.reason=a,this.signal.aborted=!0,this.signal._onabort))b(a);this.signal.onabort?.(a)}}};let a=db.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",b=()=>{a&&(a=!1,dc("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",b))}}Symbol("type");let df=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),dg=a=>df(a)?a<=256?Uint8Array:a<=65536?Uint16Array:a<=0x100000000?Uint32Array:a<=Number.MAX_SAFE_INTEGER?dh:null:null;class dh extends Array{constructor(a){super(a),this.fill(0)}}class di{heap;length;static #p=!1;static create(a){let b=dg(a);if(!b)return[];di.#p=!0;let c=new di(a,b);return di.#p=!1,c}constructor(a,b){if(!di.#p)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new b(a),this.length=0}push(a){this.heap[this.length++]=a}pop(){return this.heap[--this.length]}}class dj{#q;#r;#s;#t;#u;#v;#w;#x;get perf(){return this.#x}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#y;#z;#A;#B;#C;#D;#E;#F;#G;#H;#I;#J;#K;#L;#M;#N;#O;#P;#Q;static unsafeExposeInternals(a){return{starts:a.#K,ttls:a.#L,autopurgeTimers:a.#M,sizes:a.#J,keyMap:a.#A,keyList:a.#B,valList:a.#C,next:a.#D,prev:a.#E,get head(){return a.#F},get tail(){return a.#G},free:a.#H,isBackgroundFetch:b=>a.#R(b),backgroundFetch:(b,c,d,e)=>a.#S(b,c,d,e),moveToTail:b=>a.#T(b),indexes:b=>a.#U(b),rindexes:b=>a.#V(b),isStale:b=>a.#W(b)}}get max(){return this.#q}get maxSize(){return this.#r}get calculatedSize(){return this.#z}get size(){return this.#y}get fetchMethod(){return this.#v}get memoMethod(){return this.#w}get dispose(){return this.#s}get onInsert(){return this.#t}get disposeAfter(){return this.#u}constructor(a){const{max:b=0,ttl:c,ttlResolution:d=1,ttlAutopurge:e,updateAgeOnGet:f,updateAgeOnHas:g,allowStale:h,dispose:i,onInsert:j,disposeAfter:k,noDisposeOnSet:l,noUpdateTTL:m,maxSize:n=0,maxEntrySize:o=0,sizeCalculation:p,fetchMethod:q,memoMethod:r,noDeleteOnFetchRejection:s,noDeleteOnStaleGet:t,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:v,ignoreFetchAbort:w,perf:x}=a;if(void 0!==x&&"function"!=typeof x?.now)throw TypeError("perf option must have a now() method if specified");if(this.#x=x??c9,0!==b&&!df(b))throw TypeError("max option must be a nonnegative integer");const y=b?dg(b):Array;if(!y)throw Error("invalid max value: "+b);if(this.#q=b,this.#r=n,this.maxEntrySize=o||this.#r,this.sizeCalculation=p,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==r&&"function"!=typeof r)throw TypeError("memoMethod must be a function if defined");if(this.#w=r,void 0!==q&&"function"!=typeof q)throw TypeError("fetchMethod must be a function if specified");if(this.#v=q,this.#O=!!q,this.#A=new Map,this.#B=Array(b).fill(void 0),this.#C=Array(b).fill(void 0),this.#D=new y(b),this.#E=new y(b),this.#F=0,this.#G=0,this.#H=di.create(b),this.#y=0,this.#z=0,"function"==typeof i&&(this.#s=i),"function"==typeof j&&(this.#t=j),"function"==typeof k?(this.#u=k,this.#I=[]):(this.#u=void 0,this.#I=void 0),this.#N=!!this.#s,this.#Q=!!this.#t,this.#P=!!this.#u,this.noDisposeOnSet=!!l,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!s,this.allowStaleOnFetchRejection=!!u,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#r&&!df(this.#r))throw TypeError("maxSize must be a positive integer if specified");if(!df(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#X()}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!t,this.updateAgeOnGet=!!f,this.updateAgeOnHas=!!g,this.ttlResolution=df(d)||0===d?d:1,this.ttlAutopurge=!!e,this.ttl=c||0,this.ttl){if(!df(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#Y()}if(0===this.#q&&0===this.ttl&&0===this.#r)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#q&&!this.#r){const a="LRU_CACHE_UNBOUNDED";(a=>!da.has(a))(a)&&(da.add(a),dc("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",a,dj))}}getRemainingTTL(a){return this.#A.has(a)?1/0:0}#Y(){let a=new dh(this.#q),b=new dh(this.#q);this.#L=a,this.#K=b;let c=this.ttlAutopurge?Array(this.#q):void 0;this.#M=c,this.#Z=(d,e,f=this.#x.now())=>{if(b[d]=0!==e?f:0,a[d]=e,c?.[d]&&(clearTimeout(c[d]),c[d]=void 0),0!==e&&c){let a=setTimeout(()=>{this.#W(d)&&this.#$(this.#B[d],"expire")},e+1);a.unref&&a.unref(),c[d]=a}},this.#_=c=>{b[c]=0!==a[c]?this.#x.now():0},this.#aa=(c,f)=>{if(a[f]){let g=a[f],h=b[f];if(!g||!h)return;c.ttl=g,c.start=h,c.now=d||e();let i=c.now-h;c.remainingTTL=g-i}};let d=0,e=()=>{let a=this.#x.now();if(this.ttlResolution>0){d=a;let b=setTimeout(()=>d=0,this.ttlResolution);b.unref&&b.unref()}return a};this.getRemainingTTL=c=>{let f=this.#A.get(c);if(void 0===f)return 0;let g=a[f],h=b[f];return g&&h?g-((d||e())-h):1/0},this.#W=c=>{let f=b[c],g=a[c];return!!g&&!!f&&(d||e())-f>g}}#_=()=>{};#aa=()=>{};#Z=()=>{};#W=()=>!1;#X(){let a=new dh(this.#q);this.#z=0,this.#J=a,this.#ab=b=>{this.#z-=a[b],a[b]=0},this.#ac=(a,b,c,d)=>{if(this.#R(b))return 0;if(!df(c))if(d){if("function"!=typeof d)throw TypeError("sizeCalculation must be a function");if(!df(c=d(b,a)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return c},this.#ad=(b,c,d)=>{if(a[b]=c,this.#r){let c=this.#r-a[b];for(;this.#z>c;)this.#ae(!0)}this.#z+=a[b],d&&(d.entrySize=c,d.totalCalculatedSize=this.#z)}}#ab=a=>{};#ad=(a,b,c)=>{};#ac=(a,b,c,d)=>{if(c||d)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#U({allowStale:a=this.allowStale}={}){if(this.#y)for(let b=this.#G;this.#af(b)&&((a||!this.#W(b))&&(yield b),b!==this.#F);)b=this.#E[b]}*#V({allowStale:a=this.allowStale}={}){if(this.#y)for(let b=this.#F;this.#af(b)&&((a||!this.#W(b))&&(yield b),b!==this.#G);)b=this.#D[b]}#af(a){return void 0!==a&&this.#A.get(this.#B[a])===a}*entries(){for(let a of this.#U())void 0===this.#C[a]||void 0===this.#B[a]||this.#R(this.#C[a])||(yield[this.#B[a],this.#C[a]])}*rentries(){for(let a of this.#V())void 0===this.#C[a]||void 0===this.#B[a]||this.#R(this.#C[a])||(yield[this.#B[a],this.#C[a]])}*keys(){for(let a of this.#U()){let b=this.#B[a];void 0===b||this.#R(this.#C[a])||(yield b)}}*rkeys(){for(let a of this.#V()){let b=this.#B[a];void 0===b||this.#R(this.#C[a])||(yield b)}}*values(){for(let a of this.#U())void 0===this.#C[a]||this.#R(this.#C[a])||(yield this.#C[a])}*rvalues(){for(let a of this.#V())void 0===this.#C[a]||this.#R(this.#C[a])||(yield this.#C[a])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(a,b={}){for(let c of this.#U()){let d=this.#C[c],e=this.#R(d)?d.__staleWhileFetching:d;if(void 0!==e&&a(e,this.#B[c],this))return this.get(this.#B[c],b)}}forEach(a,b=this){for(let c of this.#U()){let d=this.#C[c],e=this.#R(d)?d.__staleWhileFetching:d;void 0!==e&&a.call(b,e,this.#B[c],this)}}rforEach(a,b=this){for(let c of this.#V()){let d=this.#C[c],e=this.#R(d)?d.__staleWhileFetching:d;void 0!==e&&a.call(b,e,this.#B[c],this)}}purgeStale(){let a=!1;for(let b of this.#V({allowStale:!0}))this.#W(b)&&(this.#$(this.#B[b],"expire"),a=!0);return a}info(a){let b=this.#A.get(a);if(void 0===b)return;let c=this.#C[b],d=this.#R(c)?c.__staleWhileFetching:c;if(void 0===d)return;let e={value:d};if(this.#L&&this.#K){let a=this.#L[b],c=this.#K[b];a&&c&&(e.ttl=a-(this.#x.now()-c),e.start=Date.now())}return this.#J&&(e.size=this.#J[b]),e}dump(){let a=[];for(let b of this.#U({allowStale:!0})){let c=this.#B[b],d=this.#C[b],e=this.#R(d)?d.__staleWhileFetching:d;if(void 0===e||void 0===c)continue;let f={value:e};if(this.#L&&this.#K){f.ttl=this.#L[b];let a=this.#x.now()-this.#K[b];f.start=Math.floor(Date.now()-a)}this.#J&&(f.size=this.#J[b]),a.unshift([c,f])}return a}load(a){for(let[b,c]of(this.clear(),a)){if(c.start){let a=Date.now()-c.start;c.start=this.#x.now()-a}this.set(b,c.value,c)}}set(a,b,c={}){if(void 0===b)return this.delete(a),this;let{ttl:d=this.ttl,start:e,noDisposeOnSet:f=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:h}=c,{noUpdateTTL:i=this.noUpdateTTL}=c,j=this.#ac(a,b,c.size||0,g);if(this.maxEntrySize&&j>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.#$(a,"set"),this;let k=0===this.#y?void 0:this.#A.get(a);if(void 0===k)k=0===this.#y?this.#G:0!==this.#H.length?this.#H.pop():this.#y===this.#q?this.#ae(!1):this.#y,this.#B[k]=a,this.#C[k]=b,this.#A.set(a,k),this.#D[this.#G]=k,this.#E[k]=this.#G,this.#G=k,this.#y++,this.#ad(k,j,h),h&&(h.set="add"),i=!1,this.#Q&&this.#t?.(b,a,"add");else{this.#T(k);let c=this.#C[k];if(b!==c){if(this.#O&&this.#R(c)){c.__abortController.abort(Error("replaced"));let{__staleWhileFetching:b}=c;void 0!==b&&!f&&(this.#N&&this.#s?.(b,a,"set"),this.#P&&this.#I?.push([b,a,"set"]))}else!f&&(this.#N&&this.#s?.(c,a,"set"),this.#P&&this.#I?.push([c,a,"set"]));if(this.#ab(k),this.#ad(k,j,h),this.#C[k]=b,h){h.set="replace";let a=c&&this.#R(c)?c.__staleWhileFetching:c;void 0!==a&&(h.oldValue=a)}}else h&&(h.set="update");this.#Q&&this.onInsert?.(b,a,b===c?"update":"replace")}if(0===d||this.#L||this.#Y(),this.#L&&(i||this.#Z(k,d,e),h&&this.#aa(h,k)),!f&&this.#P&&this.#I){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}return this}pop(){try{for(;this.#y;){let a=this.#C[this.#F];if(this.#ae(!0),this.#R(a)){if(a.__staleWhileFetching)return a.__staleWhileFetching}else if(void 0!==a)return a}}finally{if(this.#P&&this.#I){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}}}#ae(a){let b=this.#F,c=this.#B[b],d=this.#C[b];return this.#O&&this.#R(d)?d.__abortController.abort(Error("evicted")):(this.#N||this.#P)&&(this.#N&&this.#s?.(d,c,"evict"),this.#P&&this.#I?.push([d,c,"evict"])),this.#ab(b),this.#M?.[b]&&(clearTimeout(this.#M[b]),this.#M[b]=void 0),a&&(this.#B[b]=void 0,this.#C[b]=void 0,this.#H.push(b)),1===this.#y?(this.#F=this.#G=0,this.#H.length=0):this.#F=this.#D[b],this.#A.delete(c),this.#y--,b}has(a,b={}){let{updateAgeOnHas:c=this.updateAgeOnHas,status:d}=b,e=this.#A.get(a);if(void 0!==e){let a=this.#C[e];if(this.#R(a)&&void 0===a.__staleWhileFetching)return!1;if(!this.#W(e))return c&&this.#_(e),d&&(d.has="hit",this.#aa(d,e)),!0;d&&(d.has="stale",this.#aa(d,e))}else d&&(d.has="miss");return!1}peek(a,b={}){let{allowStale:c=this.allowStale}=b,d=this.#A.get(a);if(void 0===d||!c&&this.#W(d))return;let e=this.#C[d];return this.#R(e)?e.__staleWhileFetching:e}#S(a,b,c,d){let e=void 0===b?void 0:this.#C[b];if(this.#R(e))return e;let f=new dd,{signal:g}=c;g?.addEventListener("abort",()=>f.abort(g.reason),{signal:f.signal});let h={signal:f.signal,options:c,context:d},i=(d,e=!1)=>{let{aborted:g}=f.signal,i=c.ignoreFetchAbort&&void 0!==d,k=c.ignoreFetchAbort||!!(c.allowStaleOnFetchAbort&&void 0!==d);if(c.status&&(g&&!e?(c.status.fetchAborted=!0,c.status.fetchError=f.signal.reason,i&&(c.status.fetchAbortIgnored=!0)):c.status.fetchResolved=!0),g&&!i&&!e)return j(f.signal.reason,k);let m=this.#C[b];return(m===l||i&&e&&void 0===m)&&(void 0===d?void 0!==l.__staleWhileFetching?this.#C[b]=l.__staleWhileFetching:this.#$(a,"fetch"):(c.status&&(c.status.fetchUpdated=!0),this.set(a,d,h.options))),d},j=(d,e)=>{let{aborted:g}=f.signal,h=g&&c.allowStaleOnFetchAbort,i=h||c.allowStaleOnFetchRejection,j=i||c.noDeleteOnFetchRejection;if(this.#C[b]===l&&(j&&(e||void 0!==l.__staleWhileFetching)?h||(this.#C[b]=l.__staleWhileFetching):this.#$(a,"fetch")),i)return c.status&&void 0!==l.__staleWhileFetching&&(c.status.returnedStale=!0),l.__staleWhileFetching;if(l.__returned===l)throw d},k=(b,d)=>{let g=this.#v?.(a,e,h);g&&g instanceof Promise&&g.then(a=>b(void 0===a?void 0:a),d),f.signal.addEventListener("abort",()=>{(!c.ignoreFetchAbort||c.allowStaleOnFetchAbort)&&(b(void 0),c.allowStaleOnFetchAbort&&(b=a=>i(a,!0)))})};c.status&&(c.status.fetchDispatched=!0);let l=new Promise(k).then(i,a=>(c.status&&(c.status.fetchRejected=!0,c.status.fetchError=a),j(a,!1))),m=Object.assign(l,{__abortController:f,__staleWhileFetching:e,__returned:void 0});return void 0===b?(this.set(a,m,{...h.options,status:void 0}),b=this.#A.get(a)):this.#C[b]=m,m}#R(a){return!!this.#O&&!!a&&a instanceof Promise&&a.hasOwnProperty("__staleWhileFetching")&&a.__abortController instanceof dd}async fetch(a,b={}){let{allowStale:c=this.allowStale,updateAgeOnGet:d=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,ttl:f=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:h=0,sizeCalculation:i=this.sizeCalculation,noUpdateTTL:j=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:l=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:n=this.allowStaleOnFetchAbort,context:o,forceRefresh:p=!1,status:q,signal:r}=b;if(!this.#O)return q&&(q.fetch="get"),this.get(a,{allowStale:c,updateAgeOnGet:d,noDeleteOnStaleGet:e,status:q});let s={allowStale:c,updateAgeOnGet:d,noDeleteOnStaleGet:e,ttl:f,noDisposeOnSet:g,size:h,sizeCalculation:i,noUpdateTTL:j,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:l,allowStaleOnFetchAbort:n,ignoreFetchAbort:m,status:q,signal:r},t=this.#A.get(a);if(void 0===t){q&&(q.fetch="miss");let b=this.#S(a,t,s,o);return b.__returned=b}{let b=this.#C[t];if(this.#R(b)){let a=c&&void 0!==b.__staleWhileFetching;return q&&(q.fetch="inflight",a&&(q.returnedStale=!0)),a?b.__staleWhileFetching:b.__returned=b}let e=this.#W(t);if(!p&&!e)return q&&(q.fetch="hit"),this.#T(t),d&&this.#_(t),q&&this.#aa(q,t),b;let f=this.#S(a,t,s,o),g=void 0!==f.__staleWhileFetching&&c;return q&&(q.fetch=e?"stale":"refresh",g&&e&&(q.returnedStale=!0)),g?f.__staleWhileFetching:f.__returned=f}}async forceFetch(a,b={}){let c=await this.fetch(a,b);if(void 0===c)throw Error("fetch() returned undefined");return c}memo(a,b={}){let c=this.#w;if(!c)throw Error("no memoMethod provided to constructor");let{context:d,forceRefresh:e,...f}=b,g=this.get(a,f);if(!e&&void 0!==g)return g;let h=c(a,g,{options:f,context:d});return this.set(a,h,f),h}get(a,b={}){let{allowStale:c=this.allowStale,updateAgeOnGet:d=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,status:f}=b,g=this.#A.get(a);if(void 0!==g){let b=this.#C[g],h=this.#R(b);return(f&&this.#aa(f,g),this.#W(g))?(f&&(f.get="stale"),h)?(f&&c&&void 0!==b.__staleWhileFetching&&(f.returnedStale=!0),c?b.__staleWhileFetching:void 0):(e||this.#$(a,"expire"),f&&c&&(f.returnedStale=!0),c?b:void 0):(f&&(f.get="hit"),h)?b.__staleWhileFetching:(this.#T(g),d&&this.#_(g),b)}f&&(f.get="miss")}#ag(a,b){this.#E[b]=a,this.#D[a]=b}#T(a){a!==this.#G&&(a===this.#F?this.#F=this.#D[a]:this.#ag(this.#E[a],this.#D[a]),this.#ag(this.#G,a),this.#G=a)}delete(a){return this.#$(a,"delete")}#$(a,b){let c=!1;if(0!==this.#y){let d=this.#A.get(a);if(void 0!==d)if(this.#M?.[d]&&(clearTimeout(this.#M?.[d]),this.#M[d]=void 0),c=!0,1===this.#y)this.#ah(b);else{this.#ab(d);let c=this.#C[d];if(this.#R(c)?c.__abortController.abort(Error("deleted")):(this.#N||this.#P)&&(this.#N&&this.#s?.(c,a,b),this.#P&&this.#I?.push([c,a,b])),this.#A.delete(a),this.#B[d]=void 0,this.#C[d]=void 0,d===this.#G)this.#G=this.#E[d];else if(d===this.#F)this.#F=this.#D[d];else{let a=this.#E[d];this.#D[a]=this.#D[d];let b=this.#D[d];this.#E[b]=this.#E[d]}this.#y--,this.#H.push(d)}}if(this.#P&&this.#I?.length){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}return c}clear(){return this.#ah("delete")}#ah(a){for(let b of this.#V({allowStale:!0})){let c=this.#C[b];if(this.#R(c))c.__abortController.abort(Error("deleted"));else{let d=this.#B[b];this.#N&&this.#s?.(c,d,a),this.#P&&this.#I?.push([c,d,a])}}if(this.#A.clear(),this.#C.fill(void 0),this.#B.fill(void 0),this.#L&&this.#K){for(let a of(this.#L.fill(0),this.#K.fill(0),this.#M??[]))void 0!==a&&clearTimeout(a);this.#M?.fill(void 0)}if(this.#J&&this.#J.fill(0),this.#F=0,this.#G=0,this.#H.length=0,this.#z=0,this.#y=0,this.#P&&this.#I){let a,b=this.#I;for(;a=b?.shift();)this.#u?.(...a)}}}var dk=a.i(50227),dl=a.i(22734),dm=a.i(2157),dn=a.i(12714),dp=a.i(87769),dq=a.i(81111),dr=a.i(99871);let ds="object"==typeof process&&process?process:{stdout:null,stderr:null},dt=a=>!!a&&"object"==typeof a&&(a instanceof d3||a instanceof dq.default||du(a)||dv(a)),du=a=>!!a&&"object"==typeof a&&a instanceof dp.EventEmitter&&"function"==typeof a.pipe&&a.pipe!==dq.default.Writable.prototype.pipe,dv=a=>!!a&&"object"==typeof a&&a instanceof dp.EventEmitter&&"function"==typeof a.write&&"function"==typeof a.end,dw=Symbol("EOF"),dx=Symbol("maybeEmitEnd"),dy=Symbol("emittedEnd"),dz=Symbol("emittingEnd"),dA=Symbol("emittedError"),dB=Symbol("closed"),dC=Symbol("read"),dD=Symbol("flush"),dE=Symbol("flushChunk"),dF=Symbol("encoding"),dG=Symbol("decoder"),dH=Symbol("flowing"),dI=Symbol("paused"),dJ=Symbol("resume"),dK=Symbol("buffer"),dL=Symbol("pipes"),dM=Symbol("bufferLength"),dN=Symbol("bufferPush"),dO=Symbol("bufferShift"),dP=Symbol("objectMode"),dQ=Symbol("destroyed"),dR=Symbol("error"),dS=Symbol("emitData"),dT=Symbol("emitEnd"),dU=Symbol("emitEnd2"),dV=Symbol("async"),dW=Symbol("abort"),dX=Symbol("aborted"),dY=Symbol("signal"),dZ=Symbol("dataListeners"),d$=Symbol("discarded"),d_=a=>Promise.resolve().then(a),d0=a=>a();class d1{src;dest;opts;ondrain;constructor(a,b,c){this.src=a,this.dest=b,this.opts=c,this.ondrain=()=>a[dJ](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(a){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class d2 extends d1{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(a,b,c){super(a,b,c),this.proxyErrors=a=>b.emit("error",a),a.on("error",this.proxyErrors)}}class d3 extends dp.EventEmitter{[dH]=!1;[dI]=!1;[dL]=[];[dK]=[];[dP];[dF];[dV];[dG];[dw]=!1;[dy]=!1;[dz]=!1;[dB]=!1;[dA]=null;[dM]=0;[dQ]=!1;[dY];[dX]=!1;[dZ]=0;[d$]=!1;writable=!0;readable=!0;constructor(...a){const b=a[0]||{};if(super(),b.objectMode&&"string"==typeof b.encoding)throw TypeError("Encoding and objectMode may not be used together");(a=>!!a.objectMode)(b)?(this[dP]=!0,this[dF]=null):(a=>!a.objectMode&&!!a.encoding&&"buffer"!==a.encoding)(b)?(this[dF]=b.encoding,this[dP]=!1):(this[dP]=!1,this[dF]=null),this[dV]=!!b.async,this[dG]=this[dF]?new dr.StringDecoder(this[dF]):null,b&&!0===b.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[dK]}),b&&!0===b.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[dL]});const{signal:c}=b;c&&(this[dY]=c,c.aborted?this[dW]():c.addEventListener("abort",()=>this[dW]()))}get bufferLength(){return this[dM]}get encoding(){return this[dF]}set encoding(a){throw Error("Encoding must be set at instantiation time")}setEncoding(a){throw Error("Encoding must be set at instantiation time")}get objectMode(){return this[dP]}set objectMode(a){throw Error("objectMode must be set at instantiation time")}get async(){return this[dV]}set async(a){this[dV]=this[dV]||!!a}[dW](){this[dX]=!0,this.emit("abort",this[dY]?.reason),this.destroy(this[dY]?.reason)}get aborted(){return this[dX]}set aborted(a){}write(a,b,c){if(this[dX])return!1;if(this[dw])throw Error("write after end");if(this[dQ])return this.emit("error",Object.assign(Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof b&&(c=b,b="utf8"),b||(b="utf8");let d=this[dV]?d_:d0;if(!this[dP]&&!Buffer.isBuffer(a)){let b;if(b=a,!Buffer.isBuffer(b)&&ArrayBuffer.isView(b))a=Buffer.from(a.buffer,a.byteOffset,a.byteLength);else{let b;if((b=a)instanceof ArrayBuffer||b&&"object"==typeof b&&b.constructor&&"ArrayBuffer"===b.constructor.name&&b.byteLength>=0)a=Buffer.from(a);else if("string"!=typeof a)throw Error("Non-contiguous data written to non-objectMode stream")}}return this[dP]?(this[dH]&&0!==this[dM]&&this[dD](!0),this[dH]?this.emit("data",a):this[dN](a)):a.length&&("string"==typeof a&&(b!==this[dF]||this[dG]?.lastNeed)&&(a=Buffer.from(a,b)),Buffer.isBuffer(a)&&this[dF]&&(a=this[dG].write(a)),this[dH]&&0!==this[dM]&&this[dD](!0),this[dH]?this.emit("data",a):this[dN](a)),0!==this[dM]&&this.emit("readable"),c&&d(c),this[dH]}read(a){if(this[dQ])return null;if(this[d$]=!1,0===this[dM]||0===a||a&&a>this[dM])return this[dx](),null;this[dP]&&(a=null),this[dK].length>1&&!this[dP]&&(this[dK]=[this[dF]?this[dK].join(""):Buffer.concat(this[dK],this[dM])]);let b=this[dC](a||null,this[dK][0]);return this[dx](),b}[dC](a,b){if(this[dP])this[dO]();else{let c=b;a===c.length||null===a?this[dO]():("string"==typeof c?(this[dK][0]=c.slice(a),b=c.slice(0,a)):(this[dK][0]=c.subarray(a),b=c.subarray(0,a)),this[dM]-=a)}return this.emit("data",b),this[dK].length||this[dw]||this.emit("drain"),b}end(a,b,c){return"function"==typeof a&&(c=a,a=void 0),"function"==typeof b&&(c=b,b="utf8"),void 0!==a&&this.write(a,b),c&&this.once("end",c),this[dw]=!0,this.writable=!1,(this[dH]||!this[dI])&&this[dx](),this}[dJ](){this[dQ]||(this[dZ]||this[dL].length||(this[d$]=!0),this[dI]=!1,this[dH]=!0,this.emit("resume"),this[dK].length?this[dD]():this[dw]?this[dx]():this.emit("drain"))}resume(){return this[dJ]()}pause(){this[dH]=!1,this[dI]=!0,this[d$]=!1}get destroyed(){return this[dQ]}get flowing(){return this[dH]}get paused(){return this[dI]}[dN](a){this[dP]?this[dM]+=1:this[dM]+=a.length,this[dK].push(a)}[dO](){return this[dP]?this[dM]-=1:this[dM]-=this[dK][0].length,this[dK].shift()}[dD](a=!1){do;while(this[dE](this[dO]())&&this[dK].length)a||this[dK].length||this[dw]||this.emit("drain")}[dE](a){return this.emit("data",a),this[dH]}pipe(a,b){if(this[dQ])return a;this[d$]=!1;let c=this[dy];return b=b||{},a===ds.stdout||a===ds.stderr?b.end=!1:b.end=!1!==b.end,b.proxyErrors=!!b.proxyErrors,c?b.end&&a.end():(this[dL].push(b.proxyErrors?new d2(this,a,b):new d1(this,a,b)),this[dV]?d_(()=>this[dJ]()):this[dJ]()),a}unpipe(a){let b=this[dL].find(b=>b.dest===a);b&&(1===this[dL].length?(this[dH]&&0===this[dZ]&&(this[dH]=!1),this[dL]=[]):this[dL].splice(this[dL].indexOf(b),1),b.unpipe())}addListener(a,b){return this.on(a,b)}on(a,b){let c=super.on(a,b);if("data"===a)this[d$]=!1,this[dZ]++,this[dL].length||this[dH]||this[dJ]();else if("readable"===a&&0!==this[dM])super.emit("readable");else("end"===a||"finish"===a||"prefinish"===a)&&this[dy]?(super.emit(a),this.removeAllListeners(a)):"error"===a&&this[dA]&&(this[dV]?d_(()=>b.call(this,this[dA])):b.call(this,this[dA]));return c}removeListener(a,b){return this.off(a,b)}off(a,b){let c=super.off(a,b);return"data"===a&&(this[dZ]=this.listeners("data").length,0!==this[dZ]||this[d$]||this[dL].length||(this[dH]=!1)),c}removeAllListeners(a){let b=super.removeAllListeners(a);return("data"===a||void 0===a)&&(this[dZ]=0,this[d$]||this[dL].length||(this[dH]=!1)),b}get emittedEnd(){return this[dy]}[dx](){this[dz]||this[dy]||this[dQ]||0!==this[dK].length||!this[dw]||(this[dz]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[dB]&&this.emit("close"),this[dz]=!1)}emit(a,...b){let c=b[0];if("error"!==a&&"close"!==a&&a!==dQ&&this[dQ])return!1;if("data"===a)return(!!this[dP]||!!c)&&(this[dV]?(d_(()=>this[dS](c)),!0):this[dS](c));if("end"===a)return this[dT]();if("close"===a){if(this[dB]=!0,!this[dy]&&!this[dQ])return!1;let a=super.emit("close");return this.removeAllListeners("close"),a}if("error"===a){this[dA]=c,super.emit(dR,c);let a=(!this[dY]||!!this.listeners("error").length)&&super.emit("error",c);return this[dx](),a}else if("resume"===a){let a=super.emit("resume");return this[dx](),a}else if("finish"===a||"prefinish"===a){let b=super.emit(a);return this.removeAllListeners(a),b}let d=super.emit(a,...b);return this[dx](),d}[dS](a){for(let b of this[dL])!1===b.dest.write(a)&&this.pause();let b=!this[d$]&&super.emit("data",a);return this[dx](),b}[dT](){return!this[dy]&&(this[dy]=!0,this.readable=!1,this[dV]?(d_(()=>this[dU]()),!0):this[dU]())}[dU](){if(this[dG]){let a=this[dG].end();if(a){for(let b of this[dL])b.dest.write(a);this[d$]||super.emit("data",a)}}for(let a of this[dL])a.end();let a=super.emit("end");return this.removeAllListeners("end"),a}async collect(){let a=Object.assign([],{dataLength:0});this[dP]||(a.dataLength=0);let b=this.promise();return this.on("data",b=>{a.push(b),this[dP]||(a.dataLength+=b.length)}),await b,a}async concat(){if(this[dP])throw Error("cannot concat in objectMode");let a=await this.collect();return this[dF]?a.join(""):Buffer.concat(a,a.dataLength)}async promise(){return new Promise((a,b)=>{this.on(dQ,()=>b(Error("stream destroyed"))),this.on("error",a=>b(a)),this.on("end",()=>a())})}[Symbol.asyncIterator](){this[d$]=!1;let a=!1,b=async()=>(this.pause(),a=!0,{value:void 0,done:!0});return{next:()=>{let c,d;if(a)return b();let e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[dw])return b();let f=a=>{this.off("data",g),this.off("end",h),this.off(dQ,i),b(),d(a)},g=a=>{this.off("error",f),this.off("end",h),this.off(dQ,i),this.pause(),c({value:a,done:!!this[dw]})},h=()=>{this.off("error",f),this.off("data",g),this.off(dQ,i),b(),c({done:!0,value:void 0})},i=()=>f(Error("stream destroyed"));return new Promise((a,b)=>{d=b,c=a,this.once(dQ,i),this.once("error",f),this.once("end",h),this.once("data",g)})},throw:b,return:b,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[d$]=!1;let a=!1,b=()=>(this.pause(),this.off(dR,b),this.off(dQ,b),this.off("end",b),a=!0,{done:!0,value:void 0}),c=()=>{if(a)return b();let c=this.read();return null===c?b():{done:!1,value:c}};return this.once("end",b),this.once(dR,b),this.once(dQ,b),{next:c,throw:b,return:b,[Symbol.iterator](){return this}}}destroy(a){return this[dQ]||(this[dQ]=!0,this[d$]=!0,this[dK].length=0,this[dM]=0,"function"!=typeof this.close||this[dB]||this.close()),a?this.emit("error",a):this.emit(dQ),this}static get isStream(){return dt}}let d4=dl.realpathSync.native,d5={lstatSync:dl.lstatSync,readdir:dl.readdir,readdirSync:dl.readdirSync,readlinkSync:dl.readlinkSync,realpathSync:d4,promises:{lstat:dn.lstat,readdir:dn.readdir,readlink:dn.readlink,realpath:dn.realpath}},d6=a=>a&&a!==d5&&a!==dm?{...d5,...a,promises:{...d5.promises,...a.promises||{}}}:d5,d7=/^\\\\\?\\([a-z]:)\\?$/i,d8=/[\\\/]/,d9=a=>a.isFile()?8:a.isDirectory()?4:a.isSymbolicLink()?10:a.isCharacterDevice()?2:a.isBlockDevice()?6:a.isSocket()?12:+!!a.isFIFO(),ea=new dj({max:4096}),eb=a=>{let b=ea.get(a);if(b)return b;let c=a.normalize("NFKD");return ea.set(a,c),c},ec=new dj({max:4096}),ed=a=>{let b=ec.get(a);if(b)return b;let c=eb(a.toLowerCase());return ec.set(a,c),c};class ee extends dj{constructor(){super({max:256})}}class ef extends dj{constructor(a=16384){super({maxSize:a,sizeCalculation:a=>a.length+1})}}let eg=Symbol("PathScurry setAsCwd");class eh{name;root;roots;parent;nocase;isCWD=!1;#ai;#aj;get dev(){return this.#aj}#ak;get mode(){return this.#ak}#al;get nlink(){return this.#al}#am;get uid(){return this.#am}#an;get gid(){return this.#an}#ao;get rdev(){return this.#ao}#ap;get blksize(){return this.#ap}#aq;get ino(){return this.#aq}#y;get size(){return this.#y}#ar;get blocks(){return this.#ar}#as;get atimeMs(){return this.#as}#at;get mtimeMs(){return this.#at}#au;get ctimeMs(){return this.#au}#av;get birthtimeMs(){return this.#av}#aw;get atime(){return this.#aw}#ax;get mtime(){return this.#ax}#ay;get ctime(){return this.#ay}#az;get birthtime(){return this.#az}#aA;#aB;#aC;#aD;#aE;#aF;#aG;#aH;#aI;#aJ;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(a,b=0,c,d,e,f,g){this.name=a,this.#aA=e?ed(a):eb(a),this.#aG=1023&b,this.nocase=e,this.roots=d,this.root=c||this,this.#aH=f,this.#aC=g.fullpath,this.#aE=g.relative,this.#aF=g.relativePosix,this.parent=g.parent,this.parent?this.#ai=this.parent.#ai:this.#ai=d6(g.fs)}depth(){return void 0!==this.#aB?this.#aB:this.parent?this.#aB=this.parent.depth()+1:this.#aB=0}childrenCache(){return this.#aH}resolve(a){if(!a)return this;let b=this.getRootString(a),c=a.substring(b.length).split(this.splitSep);return b?this.getRoot(b).#aK(c):this.#aK(c)}#aK(a){let b=this;for(let c of a)b=b.child(c);return b}children(){let a=this.#aH.get(this);if(a)return a;let b=Object.assign([],{provisional:0});return this.#aH.set(this,b),this.#aG&=-17,b}child(a,b){if(""===a||"."===a)return this;if(".."===a)return this.parent||this;let c=this.children(),d=this.nocase?ed(a):eb(a);for(let a of c)if(a.#aA===d)return a;let e=this.parent?this.sep:"",f=this.#aC?this.#aC+e+a:void 0,g=this.newChild(a,0,{...b,parent:this,fullpath:f});return this.canReaddir()||(g.#aG|=128),c.push(g),g}relative(){if(this.isCWD)return"";if(void 0!==this.#aE)return this.#aE;let a=this.name,b=this.parent;if(!b)return this.#aE=this.name;let c=b.relative();return c+(c&&b.parent?this.sep:"")+a}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#aF)return this.#aF;let a=this.name,b=this.parent;if(!b)return this.#aF=this.fullpathPosix();let c=b.relativePosix();return c+(c&&b.parent?"/":"")+a}fullpath(){if(void 0!==this.#aC)return this.#aC;let a=this.name,b=this.parent;if(!b)return this.#aC=this.name;let c=b.fullpath()+(b.parent?this.sep:"")+a;return this.#aC=c}fullpathPosix(){if(void 0!==this.#aD)return this.#aD;if("/"===this.sep)return this.#aD=this.fullpath();if(!this.parent){let a=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(a)?this.#aD=`//?/${a}`:this.#aD=a}let a=this.parent,b=a.fullpathPosix(),c=b+(b&&a.parent?"/":"")+this.name;return this.#aD=c}isUnknown(){return(15&this.#aG)==0}isType(a){return this[`is${a}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(15&this.#aG)==8}isDirectory(){return(15&this.#aG)==4}isCharacterDevice(){return(15&this.#aG)==2}isBlockDevice(){return(15&this.#aG)==6}isFIFO(){return(15&this.#aG)==1}isSocket(){return(15&this.#aG)==12}isSymbolicLink(){return(10&this.#aG)==10}lstatCached(){return 32&this.#aG?this:void 0}readlinkCached(){return this.#aI}realpathCached(){return this.#aJ}readdirCached(){let a=this.children();return a.slice(0,a.provisional)}canReadlink(){if(this.#aI)return!0;if(!this.parent)return!1;let a=15&this.#aG;return!(0!==a&&10!==a||256&this.#aG||128&this.#aG)}calledReaddir(){return!!(16&this.#aG)}isENOENT(){return!!(128&this.#aG)}isNamed(a){return this.nocase?this.#aA===ed(a):this.#aA===eb(a)}async readlink(){let a=this.#aI;if(a)return a;if(this.canReadlink()&&this.parent)try{let a=await this.#ai.promises.readlink(this.fullpath()),b=(await this.parent.realpath())?.resolve(a);if(b)return this.#aI=b}catch(a){this.#aL(a.code);return}}readlinkSync(){let a=this.#aI;if(a)return a;if(this.canReadlink()&&this.parent)try{let a=this.#ai.readlinkSync(this.fullpath()),b=this.parent.realpathSync()?.resolve(a);if(b)return this.#aI=b}catch(a){this.#aL(a.code);return}}#aM(a){this.#aG|=16;for(let b=a.provisional;b<a.length;b++){let c=a[b];c&&c.#aN()}}#aN(){128&this.#aG||(this.#aG=(128|this.#aG)&-16,this.#aO())}#aO(){let a=this.children();for(let b of(a.provisional=0,a))b.#aN()}#aP(){this.#aG|=512,this.#aQ()}#aQ(){if(64&this.#aG)return;let a=this.#aG;(15&a)==4&&(a&=-16),this.#aG=64|a,this.#aO()}#aR(a=""){"ENOTDIR"===a||"EPERM"===a?this.#aQ():"ENOENT"===a?this.#aN():this.children().provisional=0}#aS(a=""){"ENOTDIR"===a?this.parent.#aQ():"ENOENT"===a&&this.#aN()}#aL(a=""){let b=this.#aG;b|=256,"ENOENT"===a&&(b|=128),("EINVAL"===a||"UNKNOWN"===a)&&(b&=-16),this.#aG=b,"ENOTDIR"===a&&this.parent&&this.parent.#aQ()}#aT(a,b){return this.#aU(a,b)||this.#aV(a,b)}#aV(a,b){let c=d9(a),d=this.newChild(a.name,c,{parent:this}),e=15&d.#aG;return 4!==e&&10!==e&&0!==e&&(d.#aG|=64),b.unshift(d),b.provisional++,d}#aU(a,b){for(let c=b.provisional;c<b.length;c++){let d=b[c];if((this.nocase?ed(a.name):eb(a.name))===d.#aA)return this.#aW(a,d,c,b)}}#aW(a,b,c,d){let e=b.name;return b.#aG=-16&b.#aG|d9(a),e!==a.name&&(b.name=a.name),c!==d.provisional&&(c===d.length-1?d.pop():d.splice(c,1),d.unshift(b)),d.provisional++,b}async lstat(){if((128&this.#aG)==0)try{return this.#aX(await this.#ai.promises.lstat(this.fullpath())),this}catch(a){this.#aS(a.code)}}lstatSync(){if((128&this.#aG)==0)try{return this.#aX(this.#ai.lstatSync(this.fullpath())),this}catch(a){this.#aS(a.code)}}#aX(a){let{atime:b,atimeMs:c,birthtime:d,birthtimeMs:e,blksize:f,blocks:g,ctime:h,ctimeMs:i,dev:j,gid:k,ino:l,mode:m,mtime:n,mtimeMs:o,nlink:p,rdev:q,size:r,uid:s}=a;this.#aw=b,this.#as=c,this.#az=d,this.#av=e,this.#ap=f,this.#ar=g,this.#ay=h,this.#au=i,this.#aj=j,this.#an=k,this.#aq=l,this.#ak=m,this.#ax=n,this.#at=o,this.#al=p,this.#ao=q,this.#y=r,this.#am=s;let t=d9(a);this.#aG=-16&this.#aG|t|32,0!==t&&4!==t&&10!==t&&(this.#aG|=64)}#aY=[];#aZ=!1;#a$(a){this.#aZ=!1;let b=this.#aY.slice();this.#aY.length=0,b.forEach(b=>b(null,a))}readdirCB(a,b=!1){if(!this.canReaddir())return void(b?a(null,[]):queueMicrotask(()=>a(null,[])));let c=this.children();if(this.calledReaddir()){let d=c.slice(0,c.provisional);b?a(null,d):queueMicrotask(()=>a(null,d));return}if(this.#aY.push(a),this.#aZ)return;this.#aZ=!0;let d=this.fullpath();this.#ai.readdir(d,{withFileTypes:!0},(a,b)=>{if(a)this.#aR(a.code),c.provisional=0;else{for(let a of b)this.#aT(a,c);this.#aM(c)}this.#a$(c.slice(0,c.provisional))})}#a_;async readdir(){if(!this.canReaddir())return[];let a=this.children();if(this.calledReaddir())return a.slice(0,a.provisional);let b=this.fullpath();if(this.#a_)await this.#a_;else{let c=()=>{};this.#a_=new Promise(a=>c=a);try{for(let c of(await this.#ai.promises.readdir(b,{withFileTypes:!0})))this.#aT(c,a);this.#aM(a)}catch(b){this.#aR(b.code),a.provisional=0}this.#a_=void 0,c()}return a.slice(0,a.provisional)}readdirSync(){if(!this.canReaddir())return[];let a=this.children();if(this.calledReaddir())return a.slice(0,a.provisional);let b=this.fullpath();try{for(let c of this.#ai.readdirSync(b,{withFileTypes:!0}))this.#aT(c,a);this.#aM(a)}catch(b){this.#aR(b.code),a.provisional=0}return a.slice(0,a.provisional)}canReaddir(){if(704&this.#aG)return!1;let a=15&this.#aG;return 0===a||4===a||10===a}shouldWalk(a,b){return(4&this.#aG)==4&&!(704&this.#aG)&&!a.has(this)&&(!b||b(this))}async realpath(){if(this.#aJ)return this.#aJ;if(!(896&this.#aG))try{let a=await this.#ai.promises.realpath(this.fullpath());return this.#aJ=this.resolve(a)}catch(a){this.#aP()}}realpathSync(){if(this.#aJ)return this.#aJ;if(!(896&this.#aG))try{let a=this.#ai.realpathSync(this.fullpath());return this.#aJ=this.resolve(a)}catch(a){this.#aP()}}[eg](a){if(a===this)return;a.isCWD=!1,this.isCWD=!0;let b=new Set([]),c=[],d=this;for(;d&&d.parent;)b.add(d),d.#aE=c.join(this.sep),d.#aF=c.join("/"),d=d.parent,c.push("..");for(d=a;d&&d.parent&&!b.has(d);)d.#aE=void 0,d.#aF=void 0,d=d.parent}}class ei extends eh{sep="\\";splitSep=d8;constructor(a,b=0,c,d,e,f,g){super(a,b,c,d,e,f,g)}newChild(a,b=0,c={}){return new ei(a,b,this.root,this.roots,this.nocase,this.childrenCache(),c)}getRootString(a){return dk.win32.parse(a).root}getRoot(a){if((a=a.toUpperCase().replace(/\//g,"\\").replace(d7,"$1\\"))===this.root.name)return this.root;for(let[b,c]of Object.entries(this.roots))if(this.sameRoot(a,b))return this.roots[a]=c;return this.roots[a]=new el(a,this).root}sameRoot(a,b=this.root.name){return(a=a.toUpperCase().replace(/\//g,"\\").replace(d7,"$1\\"))===b}}class ej extends eh{splitSep="/";sep="/";constructor(a,b=0,c,d,e,f,g){super(a,b,c,d,e,f,g)}getRootString(a){return a.startsWith("/")?"/":""}getRoot(a){return this.root}newChild(a,b=0,c={}){return new ej(a,b,this.root,this.roots,this.nocase,this.childrenCache(),c)}}class ek{root;rootPath;roots;cwd;#a0;#a1;#aH;nocase;#ai;constructor(a=process.cwd(),b,c,{nocase:d,childrenCacheSize:e=16384,fs:f=d5}={}){this.#ai=d6(f),(a instanceof URL||a.startsWith("file://"))&&(a=(0,c8.fileURLToPath)(a));const g=b.resolve(a);this.roots=Object.create(null),this.rootPath=this.parseRootPath(g),this.#a0=new ee,this.#a1=new ee,this.#aH=new ef(e);const h=g.substring(this.rootPath.length).split(c);if(1!==h.length||h[0]||h.pop(),void 0===d)throw TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=d,this.root=this.newRoot(this.#ai),this.roots[this.rootPath]=this.root;let i=this.root,j=h.length-1;const k=b.sep;let l=this.rootPath,m=!1;for(const a of h){const b=j--;i=i.child(a,{relative:Array(b).fill("..").join(k),relativePosix:Array(b).fill("..").join("/"),fullpath:l+=(m?"":k)+a}),m=!0}this.cwd=i}depth(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.depth()}childrenCache(){return this.#aH}resolve(...a){let b="";for(let c=a.length-1;c>=0;c--){let d=a[c];if(d&&"."!==d&&(b=b?`${d}/${b}`:d,this.isAbsolute(d)))break}let c=this.#a0.get(b);if(void 0!==c)return c;let d=this.cwd.resolve(b).fullpath();return this.#a0.set(b,d),d}resolvePosix(...a){let b="";for(let c=a.length-1;c>=0;c--){let d=a[c];if(d&&"."!==d&&(b=b?`${d}/${b}`:d,this.isAbsolute(d)))break}let c=this.#a1.get(b);if(void 0!==c)return c;let d=this.cwd.resolve(b).fullpathPosix();return this.#a1.set(b,d),d}relative(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.relative()}relativePosix(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.relativePosix()}basename(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.name}dirname(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),(a.parent||a).fullpath()}async readdir(a=this.cwd,b={withFileTypes:!0}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c}=b;if(!a.canReaddir())return[];{let b=await a.readdir();return c?b:b.map(a=>a.name)}}readdirSync(a=this.cwd,b={withFileTypes:!0}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c=!0}=b;return a.canReaddir()?c?a.readdirSync():a.readdirSync().map(a=>a.name):[]}async lstat(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.lstat()}lstatSync(a=this.cwd){return"string"==typeof a&&(a=this.cwd.resolve(a)),a.lstatSync()}async readlink(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a.withFileTypes,a=this.cwd);let c=await a.readlink();return b?c:c?.fullpath()}readlinkSync(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a.withFileTypes,a=this.cwd);let c=a.readlinkSync();return b?c:c?.fullpath()}async realpath(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a.withFileTypes,a=this.cwd);let c=await a.realpath();return b?c:c?.fullpath()}realpathSync(a=this.cwd,{withFileTypes:b}={withFileTypes:!1}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a.withFileTypes,a=this.cwd);let c=a.realpathSync();return b?c:c?.fullpath()}async walk(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=[];(!e||e(a))&&g.push(c?a:a.fullpath());let h=new Set,i=(a,b)=>{h.add(a),a.readdirCB((a,j)=>{if(a)return b(a);let k=j.length;if(!k)return b();let l=()=>{0==--k&&b()};for(let a of j)(!e||e(a))&&g.push(c?a:a.fullpath()),d&&a.isSymbolicLink()?a.realpath().then(a=>a?.isUnknown()?a.lstat():a).then(a=>a?.shouldWalk(h,f)?i(a,l):l()):a.shouldWalk(h,f)?i(a,l):l()},!0)},j=a;return new Promise((a,b)=>{i(j,c=>{if(c)return b(c);a(g)})})}walkSync(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=[];(!e||e(a))&&g.push(c?a:a.fullpath());let h=new Set([a]);for(let a of h)for(let b of a.readdirSync()){(!e||e(b))&&g.push(c?b:b.fullpath());let a=b;if(b.isSymbolicLink()){if(!(d&&(a=b.realpathSync())))continue;a.isUnknown()&&a.lstatSync()}a.shouldWalk(h,f)&&h.add(a)}return g}[Symbol.asyncIterator](){return this.iterate()}iterate(a=this.cwd,b={}){return"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd),this.stream(a,b)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b;(!e||e(a))&&(yield c?a:a.fullpath());let g=new Set([a]);for(let a of g)for(let b of a.readdirSync()){(!e||e(b))&&(yield c?b:b.fullpath());let a=b;if(b.isSymbolicLink()){if(!(d&&(a=b.realpathSync())))continue;a.isUnknown()&&a.lstatSync()}a.shouldWalk(g,f)&&g.add(a)}}stream(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=new d3({objectMode:!0});(!e||e(a))&&g.write(c?a:a.fullpath());let h=new Set,i=[a],j=0,k=()=>{let a=!1;for(;!a;){let b=i.shift();if(!b){0===j&&g.end();return}j++,h.add(b);let l=(b,n,o=!1)=>{if(b)return g.emit("error",b);if(d&&!o){let a=[];for(let b of n)b.isSymbolicLink()&&a.push(b.realpath().then(a=>a?.isUnknown()?a.lstat():a));if(a.length)return void Promise.all(a).then(()=>l(null,n,!0))}for(let b of n)b&&(!e||e(b))&&!g.write(c?b:b.fullpath())&&(a=!0);for(let a of(j--,n)){let b=a.realpathCached()||a;b.shouldWalk(h,f)&&i.push(b)}a&&!g.flowing?g.once("drain",k):m||k()},m=!0;b.readdirCB(l,!0),m=!1}};return k(),g}streamSync(a=this.cwd,b={}){"string"==typeof a?a=this.cwd.resolve(a):a instanceof eh||(b=a,a=this.cwd);let{withFileTypes:c=!0,follow:d=!1,filter:e,walkFilter:f}=b,g=new d3({objectMode:!0}),h=new Set;(!e||e(a))&&g.write(c?a:a.fullpath());let i=[a],j=0,k=()=>{let a=!1;for(;!a;){let b=i.shift();if(!b){0===j&&g.end();return}j++,h.add(b);let k=b.readdirSync();for(let b of k)(!e||e(b))&&!g.write(c?b:b.fullpath())&&(a=!0);for(let a of(j--,k)){let b=a;if(a.isSymbolicLink()){if(!(d&&(b=a.realpathSync())))continue;b.isUnknown()&&b.lstatSync()}b.shouldWalk(h,f)&&i.push(b)}}a&&!g.flowing&&g.once("drain",k)};return k(),g}chdir(a=this.cwd){let b=this.cwd;this.cwd="string"==typeof a?this.cwd.resolve(a):a,this.cwd[eg](b)}}class el extends ek{sep="\\";constructor(a=process.cwd(),b={}){const{nocase:c=!0}=b;super(a,dk.win32,"\\",{...b,nocase:c}),this.nocase=c;for(let a=this.cwd;a;a=a.parent)a.nocase=this.nocase}parseRootPath(a){return dk.win32.parse(a).root.toUpperCase()}newRoot(a){return new ei(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:a})}isAbsolute(a){return a.startsWith("/")||a.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(a)}}class em extends ek{sep="/";constructor(a=process.cwd(),b={}){const{nocase:c=!1}=b;super(a,dk.posix,"/",{...b,nocase:c}),this.nocase=c}parseRootPath(a){return"/"}newRoot(a){return new ej(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:a})}isAbsolute(a){return a.startsWith("/")}}class en extends em{constructor(a=process.cwd(),b={}){const{nocase:c=!0}=b;super(a,{...b,nocase:c})}}class eo{#a2;#a3;#a4;length;#a5;#a6;#a7;#a8;#a9;#ba;#bb=!0;constructor(a,b,c,d){if(!(a=>a.length>=1)(a))throw TypeError("empty pattern list");if(!(a=>a.length>=1)(b))throw TypeError("empty glob list");if(b.length!==a.length)throw TypeError("mismatched pattern list and glob list lengths");if(this.length=a.length,c<0||c>=this.length)throw TypeError("index out of range");if(this.#a2=a,this.#a3=b,this.#a4=c,this.#a5=d,0===this.#a4){if(this.isUNC()){const[a,b,c,d,...e]=this.#a2,[f,g,h,i,...j]=this.#a3;""===e[0]&&(e.shift(),j.shift());const k=[a,b,c,d,""].join("/"),l=[f,g,h,i,""].join("/");this.#a2=[k,...e],this.#a3=[l,...j],this.length=this.#a2.length}else if(this.isDrive()||this.isAbsolute()){const[a,...b]=this.#a2,[c,...d]=this.#a3;""===b[0]&&(b.shift(),d.shift()),this.#a2=[a+"/",...b],this.#a3=[c+"/",...d],this.length=this.#a2.length}}}pattern(){return this.#a2[this.#a4]}isString(){return"string"==typeof this.#a2[this.#a4]}isGlobstar(){return this.#a2[this.#a4]===c3}isRegExp(){return this.#a2[this.#a4]instanceof RegExp}globString(){return this.#a7=this.#a7||(0===this.#a4?this.isAbsolute()?this.#a3[0]+this.#a3.slice(1).join("/"):this.#a3.join("/"):this.#a3.slice(this.#a4).join("/"))}hasMore(){return this.length>this.#a4+1}rest(){return void 0!==this.#a6?this.#a6:this.hasMore()?(this.#a6=new eo(this.#a2,this.#a3,this.#a4+1,this.#a5),this.#a6.#ba=this.#ba,this.#a6.#a9=this.#a9,this.#a6.#a8=this.#a8,this.#a6):this.#a6=null}isUNC(){let a=this.#a2;return void 0!==this.#a9?this.#a9:this.#a9="win32"===this.#a5&&0===this.#a4&&""===a[0]&&""===a[1]&&"string"==typeof a[2]&&!!a[2]&&"string"==typeof a[3]&&!!a[3]}isDrive(){let a=this.#a2;return void 0!==this.#a8?this.#a8:this.#a8="win32"===this.#a5&&0===this.#a4&&this.length>1&&"string"==typeof a[0]&&/^[a-z]:$/i.test(a[0])}isAbsolute(){let a=this.#a2;return void 0!==this.#ba?this.#ba:this.#ba=""===a[0]&&a.length>1||this.isDrive()||this.isUNC()}root(){let a=this.#a2[0];return"string"==typeof a&&this.isAbsolute()&&0===this.#a4?a:""}checkFollowGlobstar(){return!(0===this.#a4||!this.isGlobstar()||!this.#bb)}markFollowGlobstar(){return 0!==this.#a4&&!!this.isGlobstar()&&!!this.#bb&&(this.#bb=!1,!0)}}let ep="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class eq{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(a,{nobrace:b,nocase:c,noext:d,noglobstar:e,platform:f=ep}){for(const g of(this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=f,this.mmopts={dot:!0,nobrace:b,nocase:c,noext:d,noglobstar:e,optimizationLevel:2,platform:f,nocomment:!0,nonegate:!0},a))this.add(g)}add(a){let b=new c7(a,this.mmopts);for(let a=0;a<b.set.length;a++){let c=b.set[a],d=b.globParts[a];if(!c||!d)throw Error("invalid pattern object");for(;"."===c[0]&&"."===d[0];)c.shift(),d.shift();let e=new eo(c,d,0,this.platform),f=new c7(e.globString(),this.mmopts),g="**"===d[d.length-1],h=e.isAbsolute();h?this.absolute.push(f):this.relative.push(f),g&&(h?this.absoluteChildren.push(f):this.relativeChildren.push(f))}}ignored(a){let b=a.fullpath(),c=`${b}/`,d=a.relative()||".",e=`${d}/`;for(let a of this.relative)if(a.match(d)||a.match(e))return!0;for(let a of this.absolute)if(a.match(b)||a.match(c))return!0;return!1}childrenIgnored(a){let b=a.fullpath()+"/",c=(a.relative()||".")+"/";for(let a of this.relativeChildren)if(a.match(c))return!0;for(let a of this.absoluteChildren)if(a.match(b))return!0;return!1}}class er{store;constructor(a=new Map){this.store=a}copy(){return new er(new Map(this.store))}hasWalked(a,b){return this.store.get(a.fullpath())?.has(b.globString())}storeWalked(a,b){let c=a.fullpath(),d=this.store.get(c);d?d.add(b.globString()):this.store.set(c,new Set([b.globString()]))}}class es{store=new Map;add(a,b,c){let d=2*!!b|!!c,e=this.store.get(a);this.store.set(a,void 0===e?d:d&e)}entries(){return[...this.store.entries()].map(([a,b])=>[a,!!(2&b),!!(1&b)])}}class et{store=new Map;add(a,b){if(!a.canReaddir())return;let c=this.store.get(a);c?c.find(a=>a.globString()===b.globString())||c.push(b):this.store.set(a,[b])}get(a){let b=this.store.get(a);if(!b)throw Error("attempting to walk unknown path");return b}entries(){return this.keys().map(a=>[a,this.store.get(a)])}keys(){return[...this.store.keys()].filter(a=>a.canReaddir())}}class eu{hasWalkedCache;matches=new es;subwalks=new et;patterns;follow;dot;opts;constructor(a,b){this.opts=a,this.follow=!!a.follow,this.dot=!!a.dot,this.hasWalkedCache=b?b.copy():new er}processPatterns(a,b){for(let[c,d]of(this.patterns=b,b.map(b=>[a,b]))){let a,b;this.hasWalkedCache.storeWalked(c,d);let e=d.root(),f=d.isAbsolute()&&!1!==this.opts.absolute;if(e){c=c.resolve("/"===e&&void 0!==this.opts.root?this.opts.root:e);let a=d.rest();if(a)d=a;else{this.matches.add(c,!0,!1);continue}}if(c.isENOENT())continue;let g=!1;for(;"string"==typeof(a=d.pattern())&&(b=d.rest());)c=c.resolve(a),d=b,g=!0;if(a=d.pattern(),b=d.rest(),g){if(this.hasWalkedCache.hasWalked(c,d))continue;this.hasWalkedCache.storeWalked(c,d)}if("string"==typeof a){let b=".."===a||""===a||"."===a;this.matches.add(c.resolve(a),f,b);continue}if(a===c3){(!c.isSymbolicLink()||this.follow||d.checkFollowGlobstar())&&this.subwalks.add(c,d);let a=b?.pattern(),e=b?.rest();if(b&&(""!==a&&"."!==a||e)){if(".."===a){let a=c.parent||c;e?this.hasWalkedCache.hasWalked(a,e)||this.subwalks.add(a,e):this.matches.add(a,f,!0)}}else this.matches.add(c,f,""===a||"."===a)}else a instanceof RegExp&&this.subwalks.add(c,d)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new eu(this.opts,this.hasWalkedCache)}filterEntries(a,b){let c=this.subwalks.get(a),d=this.child();for(let a of b)for(let b of c){let c=b.isAbsolute(),e=b.pattern(),f=b.rest();e===c3?d.testGlobstar(a,b,f,c):e instanceof RegExp?d.testRegExp(a,e,f,c):d.testString(a,e,f,c)}return d}testGlobstar(a,b,c,d){if((this.dot||!a.name.startsWith("."))&&(b.hasMore()||this.matches.add(a,d,!1),a.canReaddir()&&(this.follow||!a.isSymbolicLink()?this.subwalks.add(a,b):a.isSymbolicLink()&&(c&&b.checkFollowGlobstar()?this.subwalks.add(a,c):b.markFollowGlobstar()&&this.subwalks.add(a,b)))),c){let b=c.pattern();if("string"==typeof b&&".."!==b&&""!==b&&"."!==b)this.testString(a,b,c.rest(),d);else if(".."===b){let b=a.parent||a;this.subwalks.add(b,c)}else b instanceof RegExp&&this.testRegExp(a,b,c.rest(),d)}}testRegExp(a,b,c,d){b.test(a.name)&&(c?this.subwalks.add(a,c):this.matches.add(a,d,!1))}testString(a,b,c,d){a.isNamed(b)&&(c?this.subwalks.add(a,c):this.matches.add(a,d,!1))}}class ev{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#bc=[];#bd;#be;signal;maxDepth;includeChildMatches;constructor(a,b,c){if(this.patterns=a,this.path=b,this.opts=c,this.#be=c.posix||"win32"!==c.platform?"/":"\\",this.includeChildMatches=!1!==c.includeChildMatches,(c.ignore||!this.includeChildMatches)&&(this.#bd=((a,b)=>"string"==typeof a?new eq([a],b):Array.isArray(a)?new eq(a,b):a)(c.ignore??[],c),!this.includeChildMatches&&"function"!=typeof this.#bd.add))throw Error("cannot ignore child matches, ignore lacks add() method.");this.maxDepth=c.maxDepth||1/0,c.signal&&(this.signal=c.signal,this.signal.addEventListener("abort",()=>{this.#bc.length=0}))}#bf(a){return this.seen.has(a)||!!this.#bd?.ignored?.(a)}#bg(a){return!!this.#bd?.childrenIgnored?.(a)}pause(){this.paused=!0}resume(){let a;if(!this.signal?.aborted)for(this.paused=!1;!this.paused&&(a=this.#bc.shift());)a()}onResume(a){this.signal?.aborted||(this.paused?this.#bc.push(a):a())}async matchCheck(a,b){let c;if(b&&this.opts.nodir)return;if(this.opts.realpath){if(!(c=a.realpathCached()||await a.realpath()))return;a=c}let d=a.isUnknown()||this.opts.stat?await a.lstat():a;if(this.opts.follow&&this.opts.nodir&&d?.isSymbolicLink()){let a=await d.realpath();a&&(a.isUnknown()||this.opts.stat)&&await a.lstat()}return this.matchCheckTest(d,b)}matchCheckTest(a,b){return a&&(this.maxDepth===1/0||a.depth()<=this.maxDepth)&&(!b||a.canReaddir())&&(!this.opts.nodir||!a.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!a.isSymbolicLink()||!a.realpathCached()?.isDirectory())&&!this.#bf(a)?a:void 0}matchCheckSync(a,b){let c;if(b&&this.opts.nodir)return;if(this.opts.realpath){if(!(c=a.realpathCached()||a.realpathSync()))return;a=c}let d=a.isUnknown()||this.opts.stat?a.lstatSync():a;if(this.opts.follow&&this.opts.nodir&&d?.isSymbolicLink()){let a=d.realpathSync();a&&(a?.isUnknown()||this.opts.stat)&&a.lstatSync()}return this.matchCheckTest(d,b)}matchFinish(a,b){if(this.#bf(a))return;if(!this.includeChildMatches&&this.#bd?.add){let b=`${a.relativePosix()}/**`;this.#bd.add(b)}let c=void 0===this.opts.absolute?b:this.opts.absolute;this.seen.add(a);let d=this.opts.mark&&a.isDirectory()?this.#be:"";if(this.opts.withFileTypes)this.matchEmit(a);else if(c){let b=this.opts.posix?a.fullpathPosix():a.fullpath();this.matchEmit(b+d)}else{let b=this.opts.posix?a.relativePosix():a.relative(),c=this.opts.dotRelative&&!b.startsWith(".."+this.#be)?"."+this.#be:"";this.matchEmit(b?c+b+d:"."+d)}}async match(a,b,c){let d=await this.matchCheck(a,c);d&&this.matchFinish(d,b)}matchSync(a,b,c){let d=this.matchCheckSync(a,c);d&&this.matchFinish(d,b)}walkCB(a,b,c){this.signal?.aborted&&c(),this.walkCB2(a,b,new eu(this.opts),c)}walkCB2(a,b,c,d){if(this.#bg(a))return d();if(this.signal?.aborted&&d(),this.paused)return void this.onResume(()=>this.walkCB2(a,b,c,d));c.processPatterns(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||(e++,this.match(a,b,d).then(()=>f()));for(let a of c.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;e++;let b=a.readdirCached();a.calledReaddir()?this.walkCB3(a,b,c,f):a.readdirCB((b,d)=>this.walkCB3(a,d,c,f),!0)}f()}walkCB3(a,b,c,d){c=c.filterEntries(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||(e++,this.match(a,b,d).then(()=>f()));for(let[a,b]of c.subwalks.entries())e++,this.walkCB2(a,b,c.child(),f);f()}walkCBSync(a,b,c){this.signal?.aborted&&c(),this.walkCB2Sync(a,b,new eu(this.opts),c)}walkCB2Sync(a,b,c,d){if(this.#bg(a))return d();if(this.signal?.aborted&&d(),this.paused)return void this.onResume(()=>this.walkCB2Sync(a,b,c,d));c.processPatterns(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||this.matchSync(a,b,d);for(let a of c.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;e++;let b=a.readdirSync();this.walkCB3Sync(a,b,c,f)}f()}walkCB3Sync(a,b,c,d){c=c.filterEntries(a,b);let e=1,f=()=>{0==--e&&d()};for(let[a,b,d]of c.matches.entries())this.#bf(a)||this.matchSync(a,b,d);for(let[a,b]of c.subwalks.entries())e++,this.walkCB2Sync(a,b,c.child(),f);f()}}class ew extends ev{matches=new Set;constructor(a,b,c){super(a,b,c)}matchEmit(a){this.matches.add(a)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((a,b)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?b(this.signal.reason):a(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}class ex extends ev{results;constructor(a,b,c){super(a,b,c),this.results=new d3({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(a){this.results.write(a),this.results.flowing||this.pause()}stream(){let a=this.path;return a.isUnknown()?a.lstat().then(()=>{this.walkCB(a,this.patterns,()=>this.results.end())}):this.walkCB(a,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}let ey="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class ez{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(a,b){if(!b)throw TypeError("glob options required");if(this.withFileTypes=!!b.withFileTypes,this.signal=b.signal,this.follow=!!b.follow,this.dot=!!b.dot,this.dotRelative=!!b.dotRelative,this.nodir=!!b.nodir,this.mark=!!b.mark,b.cwd?(b.cwd instanceof URL||b.cwd.startsWith("file://"))&&(b.cwd=(0,c8.fileURLToPath)(b.cwd)):this.cwd="",this.cwd=b.cwd||"",this.root=b.root,this.magicalBraces=!!b.magicalBraces,this.nobrace=!!b.nobrace,this.noext=!!b.noext,this.realpath=!!b.realpath,this.absolute=b.absolute,this.includeChildMatches=!1!==b.includeChildMatches,this.noglobstar=!!b.noglobstar,this.matchBase=!!b.matchBase,this.maxDepth="number"==typeof b.maxDepth?b.maxDepth:1/0,this.stat=!!b.stat,this.ignore=b.ignore,this.withFileTypes&&void 0!==this.absolute)throw Error("cannot set absolute and withFileTypes:true");if("string"==typeof a&&(a=[a]),this.windowsPathsNoEscape=!!b.windowsPathsNoEscape||!1===b.allowWindowsEscape,this.windowsPathsNoEscape&&(a=a.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(b.noglobstar)throw TypeError("base matching requires globstar");a=a.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=a,this.platform=b.platform||ey,this.opts={...b,platform:this.platform},b.scurry){if(this.scurry=b.scurry,void 0!==b.nocase&&b.nocase!==b.scurry.nocase)throw Error("nocase option contradicts provided scurry option")}else{const a="win32"===b.platform?el:"darwin"===b.platform?en:(b.platform,em);this.scurry=new a(this.cwd,{nocase:b.nocase,fs:b.fs})}this.nocase=this.scurry.nocase;const c="darwin"===this.platform||"win32"===this.platform,d={...b,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:c,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},[e,f]=this.pattern.map(a=>new c7(a,d)).reduce((a,b)=>(a[0].push(...b.set),a[1].push(...b.globParts),a),[[],[]]);this.patterns=e.map((a,b)=>{let c=f[b];if(!c)throw Error("invalid pattern object");return new eo(a,c,0,this.platform)})}async walk(){return[...await new ew(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new ew(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new ex(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new ex(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function eA(a,b={}){return new ez(a,b).streamSync()}function eB(a,b={}){return new ez(a,b).stream()}function eC(a,b={}){return new ez(a,b).walkSync()}async function eD(a,b={}){return new ez(a,b).walk()}function eE(a,b={}){return new ez(a,b).iterateSync()}function eF(a,b={}){return new ez(a,b).iterate()}let eG=Object.assign(eB,{sync:eA}),eH=Object.assign(eF,{sync:eE}),eI=Object.assign(eC,{stream:eA,iterate:eE}),eJ=Object.assign(eD,{glob:eD,globSync:eC,sync:eI,globStream:eB,stream:eG,globStreamSync:eA,streamSync:eA,globIterate:eF,iterate:eH,globIterateSync:eE,iterateSync:eE,Glob:ez,hasMagic:(a,b={})=>{for(let c of(Array.isArray(a)||(a=[a]),a))if(new c7(c,b).hasMagic())return!0;return!1},escape:cQ,unescape:cE});eJ.glob=eJ;let eK=["/home/ubuntu/clawd/.brv/canonical-memory","/home/ubuntu/clawd/memory"];async function eL(){let a=[];for(let b of eK)try{for(let c of(await eJ("**/*.md",{cwd:b,absolute:!0})))try{let d=await ca.default.readFile(c,"utf-8"),e=await ca.default.stat(c),f=d.match(/^#\s+(.+)$/m),g=f?f[1]:cb.default.basename(c,".md"),h=(d.match(/\[\[([^\]]+)\]\]|\[([^\]]+)\]\(([^)]+)\)/g)||[]).map(a=>a.replace(/[\[\]()]/g,"")),i=cb.default.relative(b,c).split("/")[0]||"general";a.push({id:Buffer.from(c).toString("base64"),title:g,path:c,content:d,category:i,lastModified:e.mtime,links:h})}catch(a){console.error(`Error reading ${c}:`,a)}}catch(a){console.error(`Error scanning ${b}:`,a)}return a.sort((a,b)=>b.lastModified.getTime()-a.lastModified.getTime())}var eM=a.i(84614);function eN(){let a=(0,d.useRef)(null),[b,e]=(0,d.useState)([]),[g,h]=(0,d.useState)(null),[i,j]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{!async function(){e(await eL()),j(!1)}()},[]),(0,d.useEffect)(()=>{if(!a.current||0===b.length)return;let{nodes:c,links:d}=function(a){let b=a.map(a=>({id:a.id,title:a.title,category:a.category,radius:Math.min(30,10+a.content.length/1e3)})),c=[],d=new Set;for(let b of a)for(let e of b.links){let f=a.find(a=>a.title.toLowerCase()===e.toLowerCase()||a.path.toLowerCase().includes(e.toLowerCase()));if(f&&f.id!==b.id){let a=[b.id,f.id].sort().join("-");d.has(a)||(d.add(a),c.push({source:b.id,target:f.id}))}}return{nodes:b,links:c}}(b),e=a.current.clientWidth,g=a.current.clientHeight||600,i=X(a.current);i.selectAll("*").remove();let j=[...new Set(c.map(a=>a.category))],k=(function a(){var b=new bK,c=[],d=[],e=bO;function f(a){let f=b.get(a);if(void 0===f){if(e!==bO)return e;b.set(a,f=c.push(a)-1)}return d[f%d.length]}return f.domain=function(a){if(!arguments.length)return c.slice();for(let d of(c=[],b=new bK,a))b.has(d)||b.set(d,c.push(d)-1);return f},f.range=function(a){return arguments.length?(d=Array.from(a),f):d.slice()},f.unknown=function(a){return arguments.length?(e=a,f):e},f.copy=function(){return a(c,d).unknown(e)},bN.apply(f,arguments),f})().domain(j).range(["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"]),l=(function(a){let b;var c,d=1,e=.001,g=1-Math.pow(.001,1/300),h=0,i=.6,j=new Map,k=a2(n),l=f("tick","end"),m=(b=1,()=>(b=(1664525*b+0x3c6ef35f)%0x100000000)/0x100000000);function n(){o(),l.call("tick",c),d<e&&(k.stop(),l.call("end",c))}function o(b){var e,f,k=a.length;void 0===b&&(b=1);for(var l=0;l<b;++l)for(d+=(h-d)*g,j.forEach(function(a){a(d)}),e=0;e<k;++e)null==(f=a[e]).fx?f.x+=f.vx*=i:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=i:(f.y=f.fy,f.vy=0);return c}function p(){for(var b,c=0,d=a.length;c<d;++c){if((b=a[c]).index=c,null!=b.fx&&(b.x=b.fx),null!=b.fy&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var e=10*Math.sqrt(.5+c),f=c*bR;b.x=e*Math.cos(f),b.y=e*Math.sin(f)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function q(b){return b.initialize&&b.initialize(a,m),b}return null==a&&(a=[]),p(),c={tick:o,restart:function(){return k.restart(n),c},stop:function(){return k.stop(),c},nodes:function(b){return arguments.length?(a=b,p(),j.forEach(q),c):a},alpha:function(a){return arguments.length?(d=+a,c):d},alphaMin:function(a){return arguments.length?(e=+a,c):e},alphaDecay:function(a){return arguments.length?(g=+a,c):+g},alphaTarget:function(a){return arguments.length?(h=+a,c):h},velocityDecay:function(a){return arguments.length?(i=1-a,c):1-i},randomSource:function(a){return arguments.length?(m=a,j.forEach(q),c):m},force:function(a,b){return arguments.length>1?(null==b?j.delete(a):j.set(a,q(b)),c):j.get(a)},find:function(b,c,d){var e,f,g,h,i,j=0,k=a.length;for(null==d?d=1/0:d*=d,j=0;j<k;++j)(g=(e=b-(h=a[j]).x)*e+(f=c-h.y)*f)<d&&(i=h,d=g);return i},on:function(a,b){return arguments.length>1?(l.on(a,b),c):l.on(a)}}})(c).force("link",(function(a){var b,c,d,e,f,g,h=bU,i=function(a){return 1/Math.min(e[a.source.index],e[a.target.index])},j=bS(30),k=1;function l(d){for(var e=0,h=a.length;e<k;++e)for(var i,j,l,m,n,o,p,q=0;q<h;++q)j=(i=a[q]).source,o=((o=Math.sqrt((m=(l=i.target).x+l.vx-j.x-j.vx||bT(g))*m+(n=l.y+l.vy-j.y-j.vy||bT(g))*n))-c[q])/o*d*b[q],m*=o,n*=o,l.vx-=m*(p=f[q]),l.vy-=n*p,j.vx+=m*(p=1-p),j.vy+=n*p}function m(){if(d){var g,i,j=d.length,k=a.length,l=new Map(d.map((a,b)=>[h(a,b,d),a]));for(g=0,e=Array(j);g<k;++g)(i=a[g]).index=g,"object"!=typeof i.source&&(i.source=bV(l,i.source)),"object"!=typeof i.target&&(i.target=bV(l,i.target)),e[i.source.index]=(e[i.source.index]||0)+1,e[i.target.index]=(e[i.target.index]||0)+1;for(g=0,f=Array(k);g<k;++g)i=a[g],f[g]=e[i.source.index]/(e[i.source.index]+e[i.target.index]);b=Array(k),n(),c=Array(k),o()}}function n(){if(d)for(var c=0,e=a.length;c<e;++c)b[c]=+i(a[c],c,a)}function o(){if(d)for(var b=0,e=a.length;b<e;++b)c[b]=+j(a[b],b,a)}return null==a&&(a=[]),l.initialize=function(a,b){d=a,g=b,m()},l.links=function(b){return arguments.length?(a=b,m(),l):a},l.id=function(a){return arguments.length?(h=a,l):h},l.iterations=function(a){return arguments.length?(k=+a,l):k},l.strength=function(a){return arguments.length?(i="function"==typeof a?a:bS(+a),n(),l):i},l.distance=function(a){return arguments.length?(j="function"==typeof a?a:bS(+a),o(),l):j},l})(d).id(a=>a.id).distance(100)).force("charge",(function(){var a,b,c,d,e,f=bS(-30),g=1,h=1/0,i=.81;function j(c){var e,f=a.length,g=b$(a,bP,bQ).visitAfter(l);for(d=c,e=0;e<f;++e)b=a[e],g.visit(m)}function k(){if(a){var b,c,d=a.length;for(b=0,e=Array(d);b<d;++b)e[(c=a[b]).index]=+f(c,b,a)}}function l(a){var b,c,d,f,g,h=0,i=0;if(a.length){for(d=f=g=0;g<4;++g)(b=a[g])&&(c=Math.abs(b.value))&&(h+=b.value,i+=c,d+=c*b.x,f+=c*b.y);a.x=d/i,a.y=f/i}else{(b=a).x=b.data.x,b.y=b.data.y;do h+=e[b.data.index];while(b=b.next)}a.value=h}function m(a,f,j,k){if(!a.value)return!0;var l=a.x-b.x,m=a.y-b.y,n=k-f,o=l*l+m*m;if(n*n/i<o)return o<h&&(0===l&&(o+=(l=bT(c))*l),0===m&&(o+=(m=bT(c))*m),o<g&&(o=Math.sqrt(g*o)),b.vx+=l*a.value*d/o,b.vy+=m*a.value*d/o),!0;if(!a.length&&!(o>=h)){(a.data!==b||a.next)&&(0===l&&(o+=(l=bT(c))*l),0===m&&(o+=(m=bT(c))*m),o<g&&(o=Math.sqrt(g*o)));do a.data!==b&&(n=e[a.data.index]*d/o,b.vx+=l*n,b.vy+=m*n);while(a=a.next)}}return j.initialize=function(b,d){a=b,c=d,k()},j.strength=function(a){return arguments.length?(f="function"==typeof a?a:bS(+a),k(),j):f},j.distanceMin=function(a){return arguments.length?(g=a*a,j):Math.sqrt(g)},j.distanceMax=function(a){return arguments.length?(h=a*a,j):Math.sqrt(h)},j.theta=function(a){return arguments.length?(i=a*a,j):Math.sqrt(i)},j})().strength(-300)).force("center",function(a,b){var c,d=1;function e(){var e,f,g=c.length,h=0,i=0;for(e=0;e<g;++e)h+=(f=c[e]).x,i+=f.y;for(h=(h/g-a)*d,i=(i/g-b)*d,e=0;e<g;++e)f=c[e],f.x-=h,f.y-=i}return null==a&&(a=0),null==b&&(b=0),e.initialize=function(a){c=a},e.x=function(b){return arguments.length?(a=+b,e):a},e.y=function(a){return arguments.length?(b=+a,e):b},e.strength=function(a){return arguments.length?(d=+a,e):d},e}(e/2,g/2)).force("collision",(function(a){var b,c,d,e=1,f=1;function g(){for(var a,g,i,j,k,l,m,n=b.length,o=0;o<f;++o)for(a=0,g=b$(b,b2,b3).visitAfter(h);a<n;++a)m=(l=c[(i=b[a]).index])*l,j=i.x+i.vx,k=i.y+i.vy,g.visit(p);function p(a,b,c,f,g){var h=a.data,n=a.r,o=l+n;if(h){if(h.index>i.index){var p=j-h.x-h.vx,q=k-h.y-h.vy,r=p*p+q*q;r<o*o&&(0===p&&(r+=(p=bT(d))*p),0===q&&(r+=(q=bT(d))*q),r=(o-(r=Math.sqrt(r)))/r*e,i.vx+=(p*=r)*(o=(n*=n)/(m+n)),i.vy+=(q*=r)*o,h.vx-=p*(o=1-o),h.vy-=q*o)}return}return b>j+o||f<j-o||c>k+o||g<k-o}}function h(a){if(a.data)return a.r=c[a.data.index];for(var b=a.r=0;b<4;++b)a[b]&&a[b].r>a.r&&(a.r=a[b].r)}function i(){if(b){var d,e,f=b.length;for(d=0,c=Array(f);d<f;++d)c[(e=b[d]).index]=+a(e,d,b)}}return"function"!=typeof a&&(a=bS(null==a?1:+a)),g.initialize=function(a,c){b=a,d=c,i()},g.iterations=function(a){return arguments.length?(f=+a,g):f},g.strength=function(a){return arguments.length?(e=+a,g):e},g.radius=function(b){return arguments.length?(a="function"==typeof b?b:bS(+b),i(),g):a},g})().radius(a=>a.radius+5)),m=i.append("g"),n=(function(){var a,b,c,d=bE,e=bF,g=bJ,h=bH,i=bI,j=[0,1/0],k=[[-1/0,-1/0],[1/0,1/0]],l=250,m=bx,n=f("start","zoom","end"),o=0,p=10;function q(a){a.property("__zoom",bG).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",y).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function r(a,b){return(b=Math.max(j[0],Math.min(j[1],b)))===a.k?a:new bA(b,a.x,a.y)}function s(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new bA(a.k,d,e)}function t(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function u(a,b,c,d){a.on("start.zoom",function(){v(this,arguments).event(d).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(d).end()}).tween("zoom",function(){var a=arguments,f=v(this,a).event(d),g=e.apply(this,a),h=null==c?t(g):"function"==typeof c?c.apply(this,a):c,i=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]),j=this.__zoom,k="function"==typeof b?b.apply(this,a):b,l=m(j.invert(h).concat(i/j.k),k.invert(h).concat(i/k.k));return function(a){if(1===a)a=k;else{var b=l(a),c=i/b[2];a=new bA(c,h[0]-b[0]*c,h[1]-b[1]*c)}f.zoom(null,a)}})}function v(a,b,c){return!c&&a.__zooming||new w(a,b)}function w(a,b){this.that=a,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(a,b),this.taps=0}function x(a,...b){if(d.apply(this,arguments)){var c=v(this,b).event(a),e=this.__zoom,f=Math.max(j[0],Math.min(j[1],e.k*Math.pow(2,h.apply(this,arguments)))),i=aQ(a);if(c.wheel)(c.mouse[0][0]!==i[0]||c.mouse[0][1]!==i[1])&&(c.mouse[1]=e.invert(c.mouse[0]=i)),clearTimeout(c.wheel);else{if(e.k===f)return;c.mouse=[i,e.invert(i)],bd(this),c.start()}bD(a),c.wheel=setTimeout(function(){c.wheel=null,c.end()},150),c.zoom("mouse",g(s(r(e,f),c.mouse[0],c.mouse[1]),c.extent,k))}}function y(a,...b){if(!c&&d.apply(this,arguments)){var e=a.currentTarget,f=v(this,b,!0).event(a),h=X(a.view).on("mousemove.zoom",function(a){if(bD(a),!f.moved){var b=a.clientX-j,c=a.clientY-l;f.moved=b*b+c*c>o}f.event(a).zoom("mouse",g(s(f.that.__zoom,f.mouse[0]=aQ(a,e),f.mouse[1]),f.extent,k))},!0).on("mouseup.zoom",function(a){h.on("mousemove.zoom mouseup.zoom",null),ab(a.view,f.moved),bD(a),f.event(a).end()},!0),i=aQ(a,e),j=a.clientX,l=a.clientY;aa(a.view),bC(a),f.mouse=[i,this.__zoom.invert(i)],bd(this),f.start()}}function z(a,...b){if(d.apply(this,arguments)){var c=this.__zoom,f=aQ(a.changedTouches?a.changedTouches[0]:a,this),h=c.invert(f),i=c.k*(a.shiftKey?.5:2),j=g(s(r(c,i),f,h),e.apply(this,b),k);bD(a),l>0?X(this).transition().duration(l).call(u,j,f,a):X(this).call(q.transform,j,f,a)}}function A(c,...e){if(d.apply(this,arguments)){var f,g,h,i,j=c.touches,k=j.length,l=v(this,e,c.changedTouches.length===k).event(c);for(bC(c),g=0;g<k;++g)i=[i=aQ(h=j[g],this),this.__zoom.invert(i),h.identifier],l.touch0?l.touch1||l.touch0[2]===i[2]||(l.touch1=i,l.taps=0):(l.touch0=i,f=!0,l.taps=1+!!a);a&&(a=clearTimeout(a)),f&&(l.taps<2&&(b=i[0],a=setTimeout(function(){a=null},500)),bd(this),l.start())}}function B(a,...b){if(this.__zooming){var c,d,e,f,h=v(this,b).event(a),i=a.changedTouches,j=i.length;for(bD(a),c=0;c<j;++c)e=aQ(d=i[c],this),h.touch0&&h.touch0[2]===d.identifier?h.touch0[0]=e:h.touch1&&h.touch1[2]===d.identifier&&(h.touch1[0]=e);if(d=h.that.__zoom,h.touch1){var l=h.touch0[0],m=h.touch0[1],n=h.touch1[0],o=h.touch1[1],p=(p=n[0]-l[0])*p+(p=n[1]-l[1])*p,q=(q=o[0]-m[0])*q+(q=o[1]-m[1])*q;d=r(d,Math.sqrt(p/q)),e=[(l[0]+n[0])/2,(l[1]+n[1])/2],f=[(m[0]+o[0])/2,(m[1]+o[1])/2]}else{if(!h.touch0)return;e=h.touch0[0],f=h.touch0[1]}h.zoom("touch",g(s(d,e,f),h.extent,k))}}function C(a,...d){if(this.__zooming){var e,f,g=v(this,d).event(a),h=a.changedTouches,i=h.length;for(bC(a),c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)f=h[e],g.touch0&&g.touch0[2]===f.identifier?delete g.touch0:g.touch1&&g.touch1[2]===f.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(f=aQ(f,this),Math.hypot(b[0]-f[0],b[1]-f[1])<p)){var j=X(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return q.transform=function(a,b,c,d){var e=a.selection?a.selection():a;e.property("__zoom",bG),a!==e?u(a,b,c,d):e.interrupt().each(function(){v(this,arguments).event(d).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},q.scaleBy=function(a,b,c,d){q.scaleTo(a,function(){var a=this.__zoom.k,c="function"==typeof b?b.apply(this,arguments):b;return a*c},c,d)},q.scaleTo=function(a,b,c,d){q.transform(a,function(){var a=e.apply(this,arguments),d=this.__zoom,f=null==c?t(a):"function"==typeof c?c.apply(this,arguments):c,h=d.invert(f),i="function"==typeof b?b.apply(this,arguments):b;return g(s(r(d,i),f,h),a,k)},c,d)},q.translateBy=function(a,b,c,d){q.transform(a,function(){return g(this.__zoom.translate("function"==typeof b?b.apply(this,arguments):b,"function"==typeof c?c.apply(this,arguments):c),e.apply(this,arguments),k)},null,d)},q.translateTo=function(a,b,c,d,f){q.transform(a,function(){var a=e.apply(this,arguments),f=this.__zoom,h=null==d?t(a):"function"==typeof d?d.apply(this,arguments):d;return g(bB.translate(h[0],h[1]).scale(f.k).translate("function"==typeof b?-b.apply(this,arguments):-b,"function"==typeof c?-c.apply(this,arguments):-c),a,k)},d,f)},w.prototype={event:function(a){return a&&(this.sourceEvent=a),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(a){var b=X(this.that).datum();n.call(a,this.that,new bz(a,{sourceEvent:this.sourceEvent,target:q,type:a,transform:this.that.__zoom,dispatch:n}),b)}},q.wheelDelta=function(a){return arguments.length?(h="function"==typeof a?a:by(+a),q):h},q.filter=function(a){return arguments.length?(d="function"==typeof a?a:by(!!a),q):d},q.touchable=function(a){return arguments.length?(i="function"==typeof a?a:by(!!a),q):i},q.extent=function(a){return arguments.length?(e="function"==typeof a?a:by([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),q):e},q.scaleExtent=function(a){return arguments.length?(j[0]=+a[0],j[1]=+a[1],q):[j[0],j[1]]},q.translateExtent=function(a){return arguments.length?(k[0][0]=+a[0][0],k[1][0]=+a[1][0],k[0][1]=+a[0][1],k[1][1]=+a[1][1],q):[[k[0][0],k[0][1]],[k[1][0],k[1][1]]]},q.constrain=function(a){return arguments.length?(g=a,q):g},q.duration=function(a){return arguments.length?(l=+a,q):l},q.interpolate=function(a){return arguments.length?(m=a,q):m},q.on=function(){var a=n.on.apply(n,arguments);return a===n?q:a},q.clickDistance=function(a){return arguments.length?(o=(a*=1)*a,q):Math.sqrt(o)},q.tapDistance=function(a){return arguments.length?(p=+a,q):p},q})().scaleExtent([.1,4]).on("zoom",a=>{m.attr("transform",a.transform)});i.call(n);let o=m.append("g").selectAll("line").data(d).join("line").attr("stroke","#374151").attr("stroke-width",1).attr("stroke-opacity",.4),p=m.append("g").selectAll("g").data(c).join("g").attr("cursor","pointer").call((function(){var a,b,c,d,e=b6,g=b7,h=b8,i=b9,j={},k=f("start","drag","end"),l=0,m=0;function n(a){a.on("mousedown.drag",o).filter(i).on("touchstart.drag",r).on("touchmove.drag",s,Y).on("touchend.drag touchcancel.drag",t).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function o(f,h){if(!d&&e.call(this,f,h)){var i=u(this,g.call(this,f,h),f,h,"mouse");i&&(X(f.view).on("mousemove.drag",p,Z).on("mouseup.drag",q,Z),aa(f.view),$(f),c=!1,a=f.clientX,b=f.clientY,i("start",f))}}function p(d){if(_(d),!c){var e=d.clientX-a,f=d.clientY-b;c=e*e+f*f>m}j.mouse("drag",d)}function q(a){X(a.view).on("mousemove.drag mouseup.drag",null),ab(a.view,c),_(a),j.mouse("end",a)}function r(a,b){if(e.call(this,a,b)){var c,d,f=a.changedTouches,h=g.call(this,a,b),i=f.length;for(c=0;c<i;++c)(d=u(this,h,a,b,f[c].identifier,f[c]))&&($(a),d("start",a,f[c]))}}function s(a){var b,c,d=a.changedTouches,e=d.length;for(b=0;b<e;++b)(c=j[d[b].identifier])&&(_(a),c("drag",a,d[b]))}function t(a){var b,c,e=a.changedTouches,f=e.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<f;++b)(c=j[e[b].identifier])&&($(a),c("end",a,e[b]))}function u(a,b,c,d,e,f){var g,i,m,o=k.copy(),p=aQ(f||c,b);if(null!=(m=h.call(a,new b5("beforestart",{sourceEvent:c,target:n,identifier:e,active:l,x:p[0],y:p[1],dx:0,dy:0,dispatch:o}),d)))return g=m.x-p[0]||0,i=m.y-p[1]||0,function c(f,h,k){var q,r=p;switch(f){case"start":j[e]=c,q=l++;break;case"end":delete j[e],--l;case"drag":p=aQ(k||h,b),q=l}o.call(f,a,new b5(f,{sourceEvent:h,subject:m,target:n,identifier:e,active:q,x:p[0]+g,y:p[1]+i,dx:p[0]-r[0],dy:p[1]-r[1],dispatch:o}),d)}}return n.filter=function(a){return arguments.length?(e="function"==typeof a?a:b4(!!a),n):e},n.container=function(a){return arguments.length?(g="function"==typeof a?a:b4(a),n):g},n.subject=function(a){return arguments.length?(h="function"==typeof a?a:b4(a),n):h},n.touchable=function(a){return arguments.length?(i="function"==typeof a?a:b4(!!a),n):i},n.on=function(){var a=k.on.apply(k,arguments);return a===k?n:a},n.clickDistance=function(a){return arguments.length?(m=(a*=1)*a,n):Math.sqrt(m)},n})().on("start",(a,b)=>{a.active||l.alphaTarget(.3).restart(),b.fx=b.x,b.fy=b.y}).on("drag",(a,b)=>{b.fx=a.x,b.fy=a.y}).on("end",(a,b)=>{a.active||l.alphaTarget(0),b.fx=null,b.fy=null})).on("click",(a,b)=>{a.stopPropagation(),h(b)});return p.append("circle").attr("r",a=>a.radius).attr("fill",a=>k(a.category)).attr("stroke","#1f2937").attr("stroke-width",2).attr("opacity",.8),p.append("text").text(a=>a.title.length>20?a.title.slice(0,20)+"...":a.title).attr("x",a=>a.radius+5).attr("y",4).attr("font-size","10px").attr("fill","#9ca3af").attr("pointer-events","none"),l.on("tick",()=>{o.attr("x1",a=>a.source.x).attr("y1",a=>a.source.y).attr("x2",a=>a.target.x).attr("y2",a=>a.target.y),p.attr("transform",a=>`translate(${a.x},${a.y})`)}),i.on("click",()=>h(null)),()=>{l.stop()}},[b]),i)?(0,c.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):(0,c.jsxs)("div",{className:"relative h-full",children:[(0,c.jsx)("div",{className:"absolute top-0 left-0 right-0 p-4 z-10 pointer-events-none",children:(0,c.jsx)("div",{className:"flex items-center justify-between",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold",children:"Knowledge Graph"}),(0,c.jsxs)("p",{className:"text-sm text-gray-400",children:[b.length," documents  Drag to rearrange  Scroll to zoom"]})]})})}),(0,c.jsx)("svg",{ref:a,className:"w-full h-full",style:{minHeight:"600px"}}),g&&(0,c.jsxs)("div",{className:"absolute bottom-4 right-4 bg-gray-900 border border-gray-800 rounded-lg p-4 max-w-sm",children:[(0,c.jsx)("h3",{className:"font-semibold mb-1",children:g.title}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 mb-3 capitalize",children:["Category: ",g.category]}),(0,c.jsx)(eM.default,{href:`/doc/${encodeURIComponent(g.id)}`,className:"text-sm text-indigo-400 hover:text-indigo-300",children:"View document "})]}),(0,c.jsxs)("div",{className:"absolute bottom-4 left-4 bg-gray-900 border border-gray-800 rounded-lg p-3",children:[(0,c.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Categories"}),(0,c.jsx)("div",{className:"space-y-1",children:[...new Set(b.map(a=>a.category))].slice(0,6).map((a,b)=>(0,c.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,c.jsx)("div",{className:"w-3 h-3 rounded-full",style:{background:["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"][b]}}),(0,c.jsx)("span",{className:"capitalize",children:a.replace(/-/g," ")})]},a))})]})]})}a.s(["default",()=>eN],72629)}];

//# sourceMappingURL=d584f_builds_20260205-second-brain_second-brain_app_graph_page_tsx_c244fe9c._.js.map